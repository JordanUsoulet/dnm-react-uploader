!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):(e=e||self).Uploader=t(e.React,e.PropTypes)}(this,(function(e,t){"use strict";var r="default"in e?e.default:e;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var y=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t};var b=function(){function e(e){this.isSpeedy=void 0===e.speedy?"production"===process.env.NODE_ENV:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,a?0:i.cssRules.length)}catch(t){"production"!==process.env.NODE_ENV&&console.warn('There was a problem inserting the following rule: "'+e+'"',t)}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();function w(e){function t(e,t,n){var i=t.trim().split(p);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var l=0;l<o;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,a){var o=e+";",s=2*t+3*r+4*a;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===S||2===S&&i(u,1)?"-webkit-"+u+u:u}if(0===S||2===S&&!i(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(_,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(C,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(C,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,a).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===r+a&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+o}return o}function i(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),T(2!==t?n:n.replace(E,"$1"),r,t)}function a(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(k," or ($1)").substring(4):"("+t+")"}function o(e,t,r,n,i,a,o,s,l,c){for(var h,d=0,f=t;d<A;++d)switch(h=M[d].call(u,e,f,r,n,i,a,o,s,l,c)){case void 0:case!1:case!0:case null:break;default:f=h}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(T=null,e?"function"!=typeof e?S=1:(S=2,T=e):S=0),s}function u(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<A){var u=o(-1,r,s,s,O,P,0,0,0,0);void 0!==u&&"string"==typeof u&&(r=u)}var h=function e(r,s,u,h,d){for(var f,p,v,b,k,C=0,E=0,x=0,_=0,M=0,T=0,D=v=f=0,z=0,I=0,W=0,N=0,B=u.length,F=B-1,U="",V="",H="",q="";z<B;){if(p=u.charCodeAt(z),z===F&&0!==E+_+x+C&&(0!==E&&(p=47===E?10:47),_=x=C=0,B++,F++),0===E+_+x+C){if(z===F&&(0<I&&(U=U.replace(c,"")),0<U.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:U+=u.charAt(z)}p=59}switch(p){case 123:for(f=(U=U.trim()).charCodeAt(0),v=1,N=++z;z<B;){switch(p=u.charCodeAt(z)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(z+1)){case 42:case 47:e:{for(D=z+1;D<F;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&z+2!==D){z=D+1;break e}break;case 10:if(47===p){z=D+1;break e}}z=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;z++<F&&u.charCodeAt(z)!==p;);}if(0===v)break;z++}switch(v=u.substring(N,z),0===f&&(f=(U=U.replace(l,"").trim()).charCodeAt(0)),f){case 64:switch(0<I&&(U=U.replace(c,"")),p=U.charCodeAt(1)){case 100:case 109:case 115:case 45:I=s;break;default:I=R}if(N=(v=e(s,I,v,p,d+1)).length,0<A&&(k=o(3,v,I=t(R,U,W),s,O,P,N,p,d,h),U=I.join(""),void 0!==k&&0===(N=(v=k.trim()).length)&&(p=0,v="")),0<N)switch(p){case 115:U=U.replace(w,a);case 100:case 109:case 45:v=U+"{"+v+"}";break;case 107:v=(U=U.replace(m,"$1 $2"))+"{"+v+"}",v=1===S||2===S&&i("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=U+v,112===h&&(V+=v,v="")}else v="";break;default:v=e(s,t(s,U,W),v,h,d+1)}H+=v,v=W=I=D=f=0,U="",p=u.charCodeAt(++z);break;case 125:case 59:if(1<(N=(U=(0<I?U.replace(c,""):U).trim()).length))switch(0===D&&(f=U.charCodeAt(0),45===f||96<f&&123>f)&&(N=(U=U.replace(" ",":")).length),0<A&&void 0!==(k=o(1,U,s,r,O,P,V.length,h,d,h))&&0===(N=(U=k.trim()).length)&&(U="\0\0"),f=U.charCodeAt(0),p=U.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){q+=U+u.charAt(z);break}default:58!==U.charCodeAt(N-1)&&(V+=n(U,f,p,U.charCodeAt(2)))}W=I=D=f=0,U="",p=u.charCodeAt(++z)}}switch(p){case 13:case 10:47===E?E=0:0===1+f&&107!==h&&0<U.length&&(I=1,U+="\0"),0<A*L&&o(0,U,s,r,O,P,V.length,h,d,h),P=1,O++;break;case 59:case 125:if(0===E+_+x+C){P++;break}default:switch(P++,b=u.charAt(z),p){case 9:case 32:if(0===_+C+E)switch(M){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===_+E+C&&(I=W=1,b="\f"+b);break;case 108:if(0===_+E+C+j&&0<D)switch(z-D){case 2:112===M&&58===u.charCodeAt(z-3)&&(j=M);case 8:111===T&&(j=T)}break;case 58:0===_+E+C&&(D=z);break;case 44:0===E+x+_+C&&(I=1,b+="\r");break;case 34:case 39:0===E&&(_=_===p?0:0===_?p:_);break;case 91:0===_+E+x&&C++;break;case 93:0===_+E+x&&C--;break;case 41:0===_+E+C&&x--;break;case 40:if(0===_+E+C){if(0===f)switch(2*M+3*T){case 533:break;default:f=1}x++}break;case 64:0===E+x+_+C+D+v&&(v=1);break;case 42:case 47:if(!(0<_+C+x))switch(E){case 0:switch(2*p+3*u.charCodeAt(z+1)){case 235:E=47;break;case 220:N=z,E=42}break;case 42:47===p&&42===M&&N+2!==z&&(33===u.charCodeAt(N+2)&&(V+=u.substring(N,z+1)),b="",E=0)}}0===E&&(U+=b)}T=M,M=p,z++}if(0<(N=V.length)){if(I=s,0<A&&(void 0!==(k=o(2,V,I,r,O,P,N,h,d,h))&&0===(V=k).length))return q+V+H;if(V=I.join(",")+"{"+V+"}",0!=S*j){switch(2!==S||i(V,2)||(j=0),j){case 111:V=V.replace(y,":-moz-$1")+V;break;case 112:V=V.replace(g,"::-webkit-input-$1")+V.replace(g,"::-moz-$1")+V.replace(g,":-ms-input-$1")+V}j=0}}return q+V+H}(R,s,r,0,0);return 0<A&&(void 0!==(u=o(-2,h,s,s,O,P,h.length,0,0,0))&&(h=u)),"",j=0,P=O=1,h}var l=/^\0+/g,c=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,f=/([,: ])(transform)/g,p=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,C=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,P=1,O=1,j=0,S=1,R=[],M=[],A=0,T=null,L=0;return u.use=function e(t){switch(t){case void 0:case null:A=M.length=0;break;default:if("function"==typeof t)M[A++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else L=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}var k=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}};function C(e){e&&E.current.insert(e+"}")}var E={current:null},x=function(e,t,r,n,i,a,o,s,u,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return E.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+"/*|*/";break;case 3:switch(s){case 102:case 112:return E.current.insert(r[0]+t),"";default:return t+(0===l?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(C)}},_=function(e,t){if(1===e&&108===t.charCodeAt(0)&&98===t.charCodeAt(2))return""},P="undefined"!=typeof document,O={},j=P?void 0:k((function(){var e=k((function(){return{}})),t={},r={};return function(n){return void 0===n||!0===n?t:!1===n?r:e(n)}})),S=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new w(t);if("production"!==process.env.NODE_ENV&&/[^a-z-]/.test(r))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+r+'" was passed');var i,a,o={};if(P){i=e.container||document.head;var s=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(s,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){o[e]=!0})),e.parentNode!==i&&i.appendChild(e)}))}if(P)n.use(e.stylisPlugins)(x),a=function(e,t,r,i){var a=t.name;if(E.current=r,"production"!==process.env.NODE_ENV&&void 0!==t.map){var o=t.map;E.current={insert:function(e){r.insert(e+o)}}}n(e,t.styles),i&&(h.inserted[a]=!0)};else{n.use(_);var u=O;(e.stylisPlugins||void 0!==e.prefix)&&(n.use(e.stylisPlugins),u=j(e.stylisPlugins||O)(e.prefix));a=function(e,t,r,i){var a=t.name,o=function(e,t){var r=t.name;return void 0===u[r]&&(u[r]=n(e,t.styles)),u[r]}(e,t);return void 0===h.compat?(i&&(h.inserted[a]=!0),"development"===process.env.NODE_ENV&&void 0!==t.map?o+t.map:o):i?void(h.inserted[a]=o):o}}if("production"!==process.env.NODE_ENV){var l=/\/\*/g,c=/\*\//g;n.use((function(e,t){switch(e){case-1:for(;l.test(t);){if(c.lastIndex=l.lastIndex,!c.test(t))throw new Error('Your styles have an unterminated comment ("/*" without corresponding "*/").');l.lastIndex=c.lastIndex}l.lastIndex=0}})),n.use((function(e,t,r){switch(e){case-1:var n=t.match(/(:first|:nth|:nth-last)-child/g);n&&!0!==h.compat&&n.forEach((function(e){var r=new RegExp(e+".*\\/\\* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason \\*\\/").test(t);e&&!r&&console.error('The pseudo class "'+e+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+e.split("-child")[0]+'-of-type".')}))}}))}var h={key:r,sheet:new b({key:r,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h},R="undefined"!=typeof document;function M(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var A=function(e,t,r){var n=e.key+"-"+t.name;if((!1===r||!1===R&&void 0!==e.compat)&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var i="",a=t;do{var o=e.insert("."+n,a,e.sheet,!0);R||void 0===o||(i+=o),a=a.next}while(void 0!==a);if(!R&&0!==i.length)return i}};var T={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var L,D,z="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences",I=/[A-Z]|^ms/g,W=/_EMO_([^_]+?)_([^]*?)_EMO_/g,N=function(e){return 45===e.charCodeAt(1)},B=function(e){return null!=e&&"boolean"!=typeof e},F=(L=function(e){return N(e)?e:e.replace(I,"-$&").toLowerCase()},D={},function(e){return void 0===D[e]&&(D[e]=L(e)),D[e]}),U=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(W,(function(e,t,r){return K={name:t,styles:r,next:K},t}))}return 1===T[e]||N(e)||"number"!=typeof t||0===t?t:t+"px"};if("production"!==process.env.NODE_ENV){var V=/(attr|calc|counters?|url)\(/,H=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit","unset"],q=U,$=/^-ms-/,G=/-(.)/g,Y={};U=function(e,t){"content"===e&&("string"!=typeof t||-1===H.indexOf(t)&&!V.test(t)&&(t.charAt(0)!==t.charAt(t.length-1)||'"'!==t.charAt(0)&&"'"!==t.charAt(0)))&&console.error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+t+"\"'`");var r=q(e,t);return""===r||N(e)||-1===e.indexOf("-")||void 0!==Y[e]||(Y[e]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+e.replace($,"ms-").replace(G,(function(e,t){return t.toUpperCase()}))+"?")),r}}var X=!0;function Z(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles){if("production"!==process.env.NODE_ENV&&"NO_COMPONENT_SELECTOR"===r.toString())throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");return r}switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return K={name:r.name,styles:r.styles,next:K},r.name;if(void 0!==r.styles){var i=r.next;if(void 0!==i)for(;void 0!==i;)K={name:i.name,styles:i.styles,next:K},i=i.next;var a=r.styles+";";return"production"!==process.env.NODE_ENV&&void 0!==r.map&&(a+=r.map),a}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Z(e,t,r[i],!1);else for(var a in r){var o=r[a];if("object"!=typeof o)null!=t&&void 0!==t[o]?n+=a+"{"+t[o]+"}":B(o)&&(n+=F(a)+":"+U(a,o)+";");else{if("NO_COMPONENT_SELECTOR"===a&&"production"!==process.env.NODE_ENV)throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Z(e,t,o,!1);switch(a){case"animation":case"animationName":n+=F(a)+":"+s+";";break;default:"production"!==process.env.NODE_ENV&&"undefined"===a&&console.error("You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key)."),n+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)B(o[u])&&(n+=F(a)+":"+U(a,o[u])+";")}}return n}(e,t,r);case"function":if(void 0!==e){var o=K,s=r(e);return K=o,Z(e,t,s,n)}"production"!==process.env.NODE_ENV&&console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break;case"string":if("production"!==process.env.NODE_ENV){var u=[],l=r.replace(W,(function(e,t,r){var n="animation"+u.length;return u.push("const "+n+" = keyframes`"+r.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+n+"}"}));u.length&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(u,["`"+l+"`"]).join("\n")+"\n\nYou should wrap it with `css` like this:\n\ncss`"+l+"`")}}if(null==t)return r;var c=t[r];return"production"!==process.env.NODE_ENV&&n&&X&&void 0!==c&&(console.error("Interpolating a className from css`` is not recommended and will cause problems with composition.\nInterpolating a className from css`` will be completely unsupported in a future major version of Emotion"),X=!1),void 0===c||n?r:c}var J,K,Q=/label:\s*([^\s;\n{]+)\s*;/g;"production"!==process.env.NODE_ENV&&(J=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//);var ee=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";K=void 0;var a,o=e[0];null==o||void 0===o.raw?(n=!1,i+=Z(r,t,o,!1)):("production"!==process.env.NODE_ENV&&void 0===o[0]&&console.error(z),i+=o[0]);for(var s=1;s<e.length;s++)i+=Z(r,t,e[s],46===i.charCodeAt(i.length-1)),n&&("production"!==process.env.NODE_ENV&&void 0===o[s]&&console.error(z),i+=o[s]);"production"!==process.env.NODE_ENV&&(i=i.replace(J,(function(e){return a=e,""}))),Q.lastIndex=0;for(var u,l="";null!==(u=Q.exec(i));)l+="-"+u[1];var c=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(i)+l;return"production"!==process.env.NODE_ENV?{name:c,styles:i,map:a,next:K,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}:{name:c,styles:i,next:K}};function te(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ee(t)}var re="undefined"!=typeof document,ne=e.createContext("undefined"!=typeof HTMLElement?S():null),ie=e.createContext({}),ae=(ne.Provider,function(t){return e.forwardRef((function(r,n){return e.createElement(ne.Consumer,null,(function(e){return t(r,e,n)}))}))});if(!re){var oe=function(t){function r(e,r,n){var i;return(i=t.call(this,e,r,n)||this).state={value:S()},i}return y(r,t),r.prototype.render=function(){return e.createElement(ne.Provider,this.state,this.props.children(this.state.value))},r}(e.Component);ae=function(t){return function(r){return e.createElement(ne.Consumer,null,(function(n){return null===n?e.createElement(oe,null,(function(e){return t(r,e)})):t(r,n)}))}}}var se=function(e){return e.replace(/\$/g,"-")},ue="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",le="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",ce=Object.prototype.hasOwnProperty,he=function(t,r,n,i){var a=null===n?r.css:r.css(n);"string"==typeof a&&void 0!==t.registered[a]&&(a=t.registered[a]);var o=r[ue],s=[a],u="";"string"==typeof r.className?u=M(t.registered,s,r.className):null!=r.className&&(u=r.className+" ");var l=ee(s);if("production"!==process.env.NODE_ENV&&-1===l.name.indexOf("-")){var c=r[le];c&&(l=ee([l,"label:"+c+";"]))}var h=A(t,l,"string"==typeof o);u+=t.key+"-"+l.name;var d={};for(var f in r)!ce.call(r,f)||"css"===f||f===ue||"production"!==process.env.NODE_ENV&&f===le||(d[f]=r[f]);d.ref=i,d.className=u;var p=e.createElement(o,d);if(!re&&void 0!==h){for(var v,m=l.name,g=l.next;void 0!==g;)m+=" "+g.name,g=g.next;return e.createElement(e.Fragment,null,e.createElement("style",((v={})["data-emotion-"+t.key]=m,v.dangerouslySetInnerHTML={__html:h},v.nonce=t.sheet.nonce,v)),p)}return p},de=ae((function(t,r,n){return"function"==typeof t.css?e.createElement(ie.Consumer,null,(function(e){return he(r,t,e,n)})):he(r,t,null,n)}));"production"!==process.env.NODE_ENV&&(de.displayName="EmotionCssPropInternal");var fe=function(t,r){var n=arguments;if(null==r||!ce.call(r,"css"))return e.createElement.apply(void 0,n);if("production"!==process.env.NODE_ENV&&"string"==typeof r.css&&-1!==r.css.indexOf(":"))throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css`"+r.css+"`");var i=n.length,a=new Array(i);a[0]=de;var o={};for(var s in r)ce.call(r,s)&&(o[s]=r[s]);if(o[ue]=t,"production"!==process.env.NODE_ENV){var u=new Error;if(u.stack){var l=u.stack.match(/at (?:Object\.|Module\.|)jsx.*\n\s+at (?:Object\.|)([A-Z][A-Za-z$]+) /);l||(l=u.stack.match(/.*\n([A-Z][A-Za-z$]+)@/)),l&&(o[le]=se(l[1]))}}a[1]=o;for(var c=2;c<i;c++)a[c]=n[c];return e.createElement.apply(null,a)},pe=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var a=t[n];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var s in o="",a)a[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=a}o&&(i&&(i+=" "),i+=o)}}return i};function ve(e,t,r){var n=[],i=M(e,n,r);return n.length<2?r:i+t(n)}ae((function(t,r){return e.createElement(ie.Consumer,null,(function(n){var i,a="",o="",s=!1,u=function(){if(s&&"production"!==process.env.NODE_ENV)throw new Error("css can only be used during render");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=ee(t,r.registered);if(re)A(r,i,!1);else{var u=A(r,i,!1);void 0!==u&&(a+=u)}return re||(o+=" "+i.name),r.key+"-"+i.name},l={css:u,cx:function(){if(s&&"production"!==process.env.NODE_ENV)throw new Error("cx can only be used during render");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ve(r.registered,u,pe(t))},theme:n},c=t.children(l);return s=!0,re||0===a.length?c:e.createElement(e.Fragment,null,e.createElement("style",((i={})["data-emotion-"+r.key]=o.substring(1),i.dangerouslySetInnerHTML={__html:a},i.nonce=r.sheet.nonce,i)),c)}))}));function me(){var e=g(["\n        .uploader-zone-fog-caption {\n            margin-top: 0;\n            bottom: 0;\n        }\n        .uploader-zone-fog-img {\n            width: 2.6rem;\n            top: 0.3rem;\n        }\n        .uploader-zone-fog-controls {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-flow: row wrap;\n            position: relative;\n            bottom: 0.3rem;\n            \n            > * {\n                margin: 0 0.3rem;\n            }\n        }\n        .uploader-zone-fog-or {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-flow: row;\n            font-size: 80%;\n            width: 100%;\n        }\n        .uploader-zone-fog-or-wing {\n            flex-grow: 1;\n            height: 0;\n            border-style: solid;\n            border-width: .06rem 0 0 0;\n            border-color: white;\n        }\n        .uploader-zone-fog-or-body {\n            padding: 0.5rem 0.7rem;\n            user-select: none;\n        }\n        .uploader-zone-fog-controls-control {\n            height: 1.6rem;\n            width: 1.6rem;\n            fill: white;\n        }\n    "]);return me=function(){return e},e}function ge(){var e=g(["\n        .uploader-zone {\n            border-top-left-radius: 0.25rem !important;\n            border-top-right-radius: 0.25rem !important;\n            border-bottom-left-radius: 0 !important;\n            border-bottom-right-radius: 0 !important;\n        }\n    "]);return ge=function(){return e},e}function ye(){var e=g(["\n        .uploader-zone-fog-core {\n            position: fixed;\n            top: -9999px;\n            left: -9999px;\n        }\n    "]);return ye=function(){return e},e}function be(){var e=g(["\n        .uploader-zone {\n            border-radius: .5rem;\n            height: 4rem;\n        }\n        .uploader-zone-fog-img {\n            width: 3rem;\n            top: 0;\n        }\n    "]);return be=function(){return e},e}function we(){var e=g(["\n        position: relative;\n        \n        img {\n            max-height: 100%;\n            max-width: 100%;\n            height: auto;\n            width: auto;\n        }\n        \n        .uploader-url-addon {\n            display: flex;\n            align-items: center;\n            padding: .375rem .75rem;\n            margin-bottom: 0;\n            font-weight: 400;\n            line-height: 1.5;\n            color: #495057;\n            text-align: center;\n            white-space: nowrap;\n            background-color: #e9ecef;\n            border: 1px solid #ced4da;\n            border-left-width: 0;\n            border-top-right-radius: 0;\n            border-top-left-radius: 0;\n            border-bottom-left-radius: 0;\n            border-bottom-right-radius: .25rem;\n            \n            svg {\n                margin-right: 0.6rem;\n                fill: #495057;\n                height: 1.4rem;\n            }\n        }\n        \n        .uploader-url-input {\n            display: block;\n            height: calc(1.5em + .75rem + 2px);\n            padding: .375rem .75rem;\n            font-weight: 400;\n            font-size: 1rem;\n            line-height: 1.5;\n            color: #495057;\n            background-color: #fff;\n            background-clip: padding-box;\n            border: 1px solid #ced4da;\n            border-radius: .25rem;\n            border-top-left-radius: 0;\n            border-top-right-radius: 0;\n            border-bottom-right-radius: 0;\n            position: relative;\n            flex-grow: 1;\n            margin-bottom: 0;\n            \n            &:focus {\n                outline: none;\n            }\n        }\n        \n        .uploader-url {\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: stretch;\n            flex-flow: row;\n            cursor: pointer;\n        }\n        \n        .uploader-zone {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-flow: row wrap;\n            width: 100%;\n            height: 14rem;\n            overflow: hidden;\n            position: relative;\n            color: white;\n        }\n    \n        .uploader-zone-fog {\n            display: flex;\n            justify-content: space-evenly;\n            align-items: center;\n            flex-flow: column;\n            background: rgba(0, 0, 0, 0.2);\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            cursor: pointer;\n            \n            &:hover {\n                background: rgba(0, 0, 0, 0.5);\n            }\n        }\n        \n        .uploader-zone-fog-core {\n            display: flex;\n            justify-content: space-evenly;\n            align-items: center;\n            flex-flow: column;\n            width: 100%;\n            height: 100%;\n        }\n        \n        .uploader-zone-fog-caption {\n            width: 80%;\n            text-align: center;\n            position: relative;\n            bottom: 1rem;\n            margin-top: 1rem;\n            text-shadow: 0 0 0.5rem black;\n        }\n        \n        .uploader-zone-fog-img {\n            width: 5rem;\n            fill: white;\n            position: relative;\n            top: 1rem;\n        }\n        \n        .uploader-input {\n            position: fixed;\n            top: -9999px;\n            left: -9999px;\n        }\n\n        .uploader-waveform {\n            width: 100%;\n            padding: 0;\n            margin: 0;\n            z-index: 0;\n        }\n\n        .wavesurfer-region {\n            z-index: 3 !important;\n          }\n          \n        .wavesurfer-handle {\n            background-color: rgba(146, 210, 117, 0.9) !important;\n            width: 4px !important;\n        }\n    "]);return we=function(){return e},e}function ke(){var e=g(["\n    from {\n        transform: scale(0.7);\n    }\n    50% {\n        transform: scale(1);\n    }\n    to {\n        transform: scale(0.7);\n    }\n"]);return ke=function(){return e},e}!function(){var e=te.apply(void 0,arguments),t="animation-"+e.name;e.styles}(ke());var Ce={uploader:te(we()),"uploader/compact":te(be()),"uploader/fetching":te(ye()),"uploader/withUrl":te(ge()),"uploader/withControls":te(me())};function Ee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xe(e,t){return e(t={exports:{}},t.exports),t.exports}var _e=xe((function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t;throw t=null===e?"null":"object"===(t=r(e))&&e.constructor&&e.constructor.hasOwnProperty("name")?e.constructor.name:"a ".concat(t),new TypeError("Expected string but received ".concat(t,"."))}},e.exports=t.default,e.exports.default=t.default}));Ee(_e);var Pe=xe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default}));Ee(Pe);var Oe=xe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,n.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));for(var i=e.split("."),o=0;o<i.length;o++)if(i[o].length>63)return!1;if(t.require_tld){var s=i.pop();if(!i.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(s))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(s))return!1}for(var u,l=0;l<i.length;l++){if(u=i[l],t.allow_underscores&&(u=u.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(u))return!1;if(/[\uff01-\uff5e]/.test(u))return!1;if("-"===u[0]||"-"===u[u.length-1])return!1}return!0};var r=i(_e),n=i(Pe);function i(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default,e.exports.default=t.default}));Ee(Oe);var je=xe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,n.default)(t),!(r=String(r)))return e(t,4)||e(t,6);if("4"===r){if(!i.test(t))return!1;var o=t.split(".").sort((function(e,t){return e-t}));return o[3]<=255}if("6"===r){var s=t.split(":"),u=!1,l=e(s[s.length-1],4),c=l?7:8;if(s.length>c)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(s.shift(),s.shift(),u=!0):"::"===t.substr(t.length-2)&&(s.pop(),s.pop(),u=!0);for(var h=0;h<s.length;++h)if(""===s[h]&&h>0&&h<s.length-1){if(u)return!1;u=!0}else if(l&&h===s.length-1);else if(!a.test(s[h]))return!1;return u?s.length>=1:s.length===c}return!1};var r,n=(r=_e)&&r.__esModule?r:{default:r};var i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,a=/^[0-9A-F]{1,4}$/i;e.exports=t.default,e.exports.default=t.default}));Ee(je);var Se=Ee(xe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;var o,c,h,d,f,p,v,m;if(t=(0,a.default)(t,s),v=e.split("#"),e=v.shift(),v=e.split("?"),e=v.shift(),(v=e.split("://")).length>1){if(o=v.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(o))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;v[0]=e.substr(2)}}if(""===(e=v.join("://")))return!1;if(v=e.split("/"),""===(e=v.shift())&&!t.require_host)return!0;if((v=e.split("@")).length>1){if(t.disallow_auth)return!1;if((c=v.shift()).indexOf(":")>=0&&c.split(":").length>2)return!1}d=v.join("@"),p=null,m=null;var g=d.match(u);g?(h="",m=g[1],p=g[2]||null):(v=d.split(":"),h=v.shift(),v.length&&(p=v.join(":")));if(null!==p&&(f=parseInt(p,10),!/^[0-9]+$/.test(p)||f<=0||f>65535))return!1;if(!((0,i.default)(h)||(0,n.default)(h,t)||m&&(0,i.default)(m,6)))return!1;if(h=h||m,t.host_whitelist&&!l(h,t.host_whitelist))return!1;if(t.host_blacklist&&l(h,t.host_blacklist))return!1;return!0};var r=o(_e),n=o(Oe),i=o(je),a=o(Pe);function o(e){return e&&e.__esModule?e:{default:e}}var s={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},u=/^\[([^\]]+)\](?::([0-9]+))?$/;function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||(i=n,"[object RegExp]"===Object.prototype.toString.call(i)&&n.test(e)))return!0}var i;return!1}e.exports=t.default,e.exports.default=t.default}))),Re=function(e){return r.createElement("svg",u({viewBox:"0 0 512.001 512.001"},e),r.createElement("path",{d:"M405.967 187.467c-1.069-78.061-64.902-141.239-143.213-141.239-34.835 0-68.396 12.672-94.498 35.682-23.296 20.535-39.232 47.977-45.543 78.106-.461-.005-.918-.009-1.374-.009C54.434 160.008 0 214.441 0 281.347s54.434 121.339 121.34 121.339h44.534c6.029 0 10.919-4.888 10.919-10.919 0-6.031-4.89-10.919-10.919-10.919H121.34c-54.866 0-99.502-44.636-99.502-99.501s44.636-99.501 99.502-99.501c2.923 0 6.013.157 9.448.48 5.822.54 11.049-3.596 11.842-9.396 3.932-28.82 18.161-55.327 40.067-74.638 22.111-19.492 50.542-30.226 80.056-30.226 66.935 0 121.389 54.455 121.389 121.389 0 2.41-.449 8.642-.449 8.642a10.92 10.92 0 0 0 11.984 11.634 87.102 87.102 0 0 1 8.708-.44c47.297 0 85.778 38.48 85.778 85.778 0 47.297-38.48 85.777-85.778 85.777h-48.902c-6.029 0-10.919 4.888-10.919 10.919s4.89 10.919 10.919 10.919h48.902c59.339 0 107.616-48.275 107.616-107.615-.001-58.808-47.421-106.752-106.034-107.602z"}),r.createElement("path",{d:"M262.755 97.548c-45.658 0-84.742 34.121-90.914 79.367-.815 5.975 3.371 11.462 9.343 12.295 6.368.888 11.548-3.869 12.295-9.343 4.702-34.479 34.484-60.48 69.276-60.48 6.031 0 10.919-4.888 10.919-10.919 0-6.032-4.889-10.92-10.919-10.92zm50.524 312.735c-4.017-4.496-10.92-4.887-15.418-.868l-26.265 23.463V298.547c0-6.031-4.89-10.919-10.919-10.919-6.031 0-10.919 4.888-10.919 10.919v134.33l-26.264-23.463c-4.496-4.018-11.401-3.627-15.417.868-4.018 4.498-3.63 11.399.868 15.418l39.717 35.483a17.983 17.983 0 0 0 12.014 4.59 17.99 17.99 0 0 0 12.013-4.589l39.719-35.483c4.499-4.017 4.888-10.92.871-15.418z"}))},Me=function(e){return r.createElement("svg",u({viewBox:"0 0 448 512"},e),r.createElement("path",{d:"M278.06 256L444.48 89.57c4.69-4.69 4.69-12.29 0-16.97-32.8-32.8-85.99-32.8-118.79 0L210.18 188.12l-24.86-24.86c4.31-10.92 6.68-22.81 6.68-35.26 0-53.02-42.98-96-96-96S0 74.98 0 128s42.98 96 96 96c4.54 0 8.99-.32 13.36-.93L142.29 256l-32.93 32.93c-4.37-.61-8.83-.93-13.36-.93-53.02 0-96 42.98-96 96s42.98 96 96 96 96-42.98 96-96c0-12.45-2.37-24.34-6.68-35.26l24.86-24.86L325.69 439.4c32.8 32.8 85.99 32.8 118.79 0 4.69-4.68 4.69-12.28 0-16.97L278.06 256zM96 160c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32zm0 256c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32z",className:""}))},Ae=function(e){return r.createElement("svg",u({viewBox:"0 0 512 512"},e),r.createElement("path",{fill:"currentColor",d:"M488 352h-40V96c0-17.67-14.33-32-32-32H192v96h160v328c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24zM160 24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v256c0 17.67 14.33 32 32 32h224v-96H160V24z"}))},Te=function(e){return r.createElement("svg",u({viewBox:"0 0 448 512"},e),r.createElement("path",{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}))},Le=function(e){return r.createElement("svg",u({height:596,viewBox:"0 0 447.632 447"},e),r.createElement("path",{d:"M231.816 447.05c34.23-4.863 64.239-40.59 83.121-93.35a406.317 406.317 0 0 0-83.12-9.786zm0 0M286.504 438.66c2.023-.586 4.039-1.176 6.039-1.824 1.687-.543 3.352-1.129 5.016-1.711a203.39 203.39 0 0 0 5.882-2.121c1.664-.633 3.313-1.305 4.965-1.977 1.906-.8 3.809-1.597 5.692-2.398a240.401 240.401 0 0 0 10.422-4.922c1.601-.816 3.199-1.648 4.8-2.504 1.793-.96 3.575-1.941 5.344-2.95a203.403 203.403 0 0 0 4.703-2.753c1.735-1.066 3.461-2.133 5.176-3.2a191.535 191.535 0 0 0 4.578-2.991 221.095 221.095 0 0 0 5.008-3.504 417.693 417.693 0 0 0 4.422-3.2 365.942 365.942 0 0 0 4.847-3.793c1.426-1.136 2.848-2.265 4.25-3.433 1.598-1.328 3.13-2.703 4.68-4.078 1.36-1.207 2.727-2.403 4.055-3.64 1.527-1.427 3.015-2.903 4.504-4.368 1.289-1.273 2.593-2.527 3.855-3.832.235-.242.457-.504.7-.754a268.883 268.883 0 0 0-54.817-21.094 198.517 198.517 0 0 1-51.129 83.024c.649-.168 1.297-.305 1.945-.473 1.711-.48 3.391-1.008 5.063-1.504zm0 0M447.633 231.684H351.71a414.882 414.882 0 0 1-16.152 110.68 278.228 278.228 0 0 1 60.714 24.16 223.51 223.51 0 0 0 51.36-134.84zm0 0M231.816 215.684h103.895a400.208 400.208 0 0 0-15.75-106.743 421.384 421.384 0 0 1-88.145 10.512zm0 0M231.816.316v103.137a406.589 406.589 0 0 0 83.121-9.785C296.055 40.906 266.048 5.18 231.817.316zm0 0M231.816 327.914a421.648 421.648 0 0 1 88.145 10.516 400.236 400.236 0 0 0 15.75-106.746H231.816zm0 0M396.273 80.844a278.228 278.228 0 0 1-60.714 24.16 414.882 414.882 0 0 1 16.152 110.68h95.922a223.577 223.577 0 0 0-51.36-134.84zm0 0M385.465 68.707c-.235-.238-.457-.496-.688-.742-1.265-1.305-2.578-2.563-3.867-3.832-1.484-1.465-2.965-2.945-4.496-4.367-1.324-1.235-2.695-2.403-4.055-3.633-1.55-1.375-3.101-2.762-4.695-4.09-1.383-1.168-2.8-2.285-4.207-3.406a171.24 171.24 0 0 0-4.89-3.825 220.477 220.477 0 0 0-4.383-3.199 192.844 192.844 0 0 0-5.055-3.547 200.251 200.251 0 0 0-4.535-2.957 190.441 190.441 0 0 0-5.219-3.257 223.26 223.26 0 0 0-4.664-2.727 220.848 220.848 0 0 0-5.39-2.984c-1.602-.801-3.2-1.672-4.801-2.473-1.84-.93-3.696-1.824-5.598-2.703a174.071 174.071 0 0 0-4.875-2.227c-1.895-.84-3.809-1.597-5.719-2.398a225.094 225.094 0 0 0-4.953-1.969 191.214 191.214 0 0 0-5.879-2.117 210.272 210.272 0 0 0-5.016-1.715c-2-.648-4-1.238-6.054-1.832-1.664-.488-3.336-.984-5.02-1.43-.644-.175-1.3-.312-1.949-.48a198.532 198.532 0 0 1 51.129 83.023 268.485 268.485 0 0 0 54.879-21.113zm0 0M0 215.684h95.922a415.035 415.035 0 0 1 16.148-110.68 277.885 277.885 0 0 1-60.71-24.16A223.519 223.519 0 0 0 0 215.684zm0 0M215.816 447.05V343.915a406.589 406.589 0 0 0-83.12 9.785c18.878 52.762 48.89 88.488 83.12 93.352zm0 0M215.816 231.684H111.922a400.079 400.079 0 0 0 15.75 106.746 421.097 421.097 0 0 1 88.144-10.516zm0 0M215.816.316c-34.23 4.864-64.242 40.59-83.12 93.352a406.045 406.045 0 0 0 83.12 9.785zm0 0M215.816 119.453a421.384 421.384 0 0 1-88.144-10.512 400.05 400.05 0 0 0-15.75 106.743h103.894zm0 0M168.113 6.79c-.648.167-1.297.304-1.945.472-1.695.453-3.367.957-5.055 1.445-2.008.586-4 1.176-6.015 1.816-1.7.551-3.371 1.137-5.043 1.72-1.957.69-3.918 1.378-5.856 2.112-1.672.641-3.32 1.305-4.976 1.985-1.903.8-3.809 1.601-5.688 2.398-1.648.723-3.277 1.48-4.91 2.242a223.908 223.908 0 0 0-5.512 2.68 228.526 228.526 0 0 0-10.137 5.457 149.244 149.244 0 0 0-4.718 2.75c-1.738 1.047-3.457 2.13-5.168 3.2-1.54.984-3.067 1.976-4.578 3a221.095 221.095 0 0 0-5.008 3.503 403.614 403.614 0 0 0-4.426 3.203c-1.637 1.23-3.2 2.512-4.848 3.79-1.421 1.136-2.855 2.265-4.246 3.44-1.601 1.321-3.12 2.688-4.664 4.056-1.367 1.218-2.746 2.402-4.082 3.664-1.52 1.418-3 2.89-4.484 4.351-1.29 1.274-2.602 2.531-3.867 3.84-.23.242-.453.508-.696.754a268.581 268.581 0 0 0 54.817 21.098 198.45 198.45 0 0 1 51.105-82.977zm0 0M66.719 383.234c1.488 1.465 2.969 2.946 4.496 4.371 1.328 1.23 2.695 2.399 4.058 3.63 1.551 1.378 3.102 2.761 4.696 4.09 1.383 1.16 2.793 2.28 4.207 3.405 1.601 1.297 3.199 2.586 4.894 3.833 1.442 1.082 2.907 2.128 4.371 3.203 1.672 1.199 3.36 2.398 5.063 3.55a214.813 214.813 0 0 0 4.535 2.961c1.73 1.11 3.457 2.2 5.219 3.254 1.543.93 3.101 1.84 4.664 2.73a208.275 208.275 0 0 0 5.39 2.981c1.598.801 3.2 1.672 4.801 2.473 1.84.93 3.696 1.824 5.598 2.707 1.601.754 3.226 1.496 4.875 2.223 1.894.84 3.805 1.597 5.719 2.398 1.648.672 3.289 1.336 4.953 1.969 1.941.746 3.91 1.441 5.879 2.12 1.664.583 3.328 1.169 5.015 1.712 2 .648 4 1.242 6.055 1.832 1.664.488 3.336.984 5.016 1.433.648.176 1.304.313 1.953.48a198.57 198.57 0 0 1-51.13-83.027 268.607 268.607 0 0 0-54.816 21.106c.235.238.458.496.692.742 1.2 1.297 2.492 2.555 3.797 3.824zm0 0M51.36 366.523a278.275 278.275 0 0 1 60.71-24.16 415.035 415.035 0 0 1-16.148-110.68H0a223.552 223.552 0 0 0 51.36 134.84zm0 0"}))},De=function(e){return r.createElement("svg",u({viewBox:"0 0 512 512"},e),r.createElement("path",{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}))},ze=function(e){return r.createElement("svg",u({viewBox:"0 0 576 512"},e),r.createElement("path",{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"}))},Ie=function(e){return r.createElement("svg",u({viewBox:"0 0 512 512"},e),r.createElement("path",{d:"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"}))},We={video:{mimeTypes:["video/mp4","video/quicktime"],extensions:["mp4","mov"]},image:{mimeTypes:["image/jpeg","image/png"],extensions:["jpeg","jpg","png"]},audio:{mimeTypes:["audio/wav","audio/x-wav","audio/mpeg","audio/mp3","audio/mpeg3","audio/x-mpeg","audio/x-mp3","audio/x-mpeg3"],extensions:["wav","mp3"]}},Ne="object"==typeof global&&global&&global.Object===Object&&global,Be="object"==typeof self&&self&&self.Object===Object&&self,Fe=Ne||Be||Function("return this")(),Ue=Fe.Symbol;function Ve(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var He=Array.isArray,qe=Object.prototype,$e=qe.hasOwnProperty,Ge=qe.toString,Ye=Ue?Ue.toStringTag:void 0;var Xe=Object.prototype.toString;var Ze=Ue?Ue.toStringTag:void 0;function Je(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ze&&Ze in Object(e)?function(e){var t=$e.call(e,Ye),r=e[Ye];try{e[Ye]=void 0;var n=!0}catch(e){}var i=Ge.call(e);return n&&(t?e[Ye]=r:delete e[Ye]),i}(e):function(e){return Xe.call(e)}(e)}function Ke(e){return null!=e&&"object"==typeof e}function Qe(e){return"symbol"==typeof e||Ke(e)&&"[object Symbol]"==Je(e)}var et=Ue?Ue.prototype:void 0,tt=et?et.toString:void 0;function rt(e){if("string"==typeof e)return e;if(He(e))return Ve(e,rt)+"";if(Qe(e))return tt?tt.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function nt(e){return null==e?"":rt(e)}function it(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}(e,t,r)}var at=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function ot(e){return at.test(e)}var st="[\\ud800-\\udfff]",ut="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",lt="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",ht="(?:\\ud83c[\\udde6-\\uddff]){2}",dt="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="(?:"+ut+"|"+lt+")"+"?",pt="[\\ufe0e\\ufe0f]?"+ft+("(?:\\u200d(?:"+[ct,ht,dt].join("|")+")[\\ufe0e\\ufe0f]?"+ft+")*"),vt="(?:"+[ct+ut+"?",ut,ht,dt,st].join("|")+")",mt=RegExp(lt+"(?="+lt+")|"+vt+pt,"g");function gt(e){return ot(e)?function(e){return e.match(mt)||[]}(e):function(e){return e.split("")}(e)}var yt,bt=(yt="toUpperCase",function(e){var t=ot(e=nt(e))?gt(e):void 0,r=t?t[0]:e.charAt(0),n=t?it(t,1).join(""):e.slice(1);return r[yt]()+n});var wt,kt=(wt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},function(e){return null==wt?void 0:wt[e]}),Ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var xt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var _t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="["+Pt+"]",jt="\\d+",St="[\\u2700-\\u27bf]",Rt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Mt="[^\\ud800-\\udfff"+Pt+jt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",At="(?:\\ud83c[\\udde6-\\uddff]){2}",Tt="[\\ud800-\\udbff][\\udc00-\\udfff]",Lt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Dt="(?:"+Rt+"|"+Mt+")",zt="(?:"+Lt+"|"+Mt+")",It="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Wt="[\\ufe0e\\ufe0f]?"+It+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",At,Tt].join("|")+")[\\ufe0e\\ufe0f]?"+It+")*"),Nt="(?:"+[St,At,Tt].join("|")+")"+Wt,Bt=RegExp([Lt+"?"+Rt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Ot,Lt,"$"].join("|")+")",zt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Ot,Lt+Dt,"$"].join("|")+")",Lt+"?"+Dt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Lt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jt,Nt].join("|"),"g");function Ft(e,t,r){return e=nt(e),void 0===(t=r?void 0:t)?function(e){return _t.test(e)}(e)?function(e){return e.match(Bt)||[]}(e):function(e){return e.match(xt)||[]}(e):e.match(t)||[]}var Ut=RegExp("['’]","g");var Vt,Ht=(Vt=function(e,t,r){return t=t.toLowerCase(),e+(r?bt(nt(t).toLowerCase()):t)},function(e){return function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}(Ft(function(e){return(e=nt(e))&&e.replace(Ct,kt).replace(Et,"")}(e).replace(Ut,"")),Vt,"")});function qt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function $t(e){return Ke(e)&&"[object Arguments]"==Je(e)}var Gt=Object.prototype,Yt=Gt.hasOwnProperty,Xt=Gt.propertyIsEnumerable,Zt=$t(function(){return arguments}())?$t:function(e){return Ke(e)&&Yt.call(e,"callee")&&!Xt.call(e,"callee")},Jt=Ue?Ue.isConcatSpreadable:void 0;function Kt(e){return He(e)||Zt(e)||!!(Jt&&e&&e[Jt])}function Qt(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=Kt),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?Qt(s,t-1,r,n,i):qt(i,s):n||(i[i.length]=s)}return i}function er(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function tr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var rr=function(){return Fe.Date.now()},nr=/^\s+|\s+$/g,ir=/^[-+]0x[0-9a-f]+$/i,ar=/^0b[01]+$/i,or=/^0o[0-7]+$/i,sr=parseInt;function ur(e){if("number"==typeof e)return e;if(Qe(e))return NaN;if(tr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(nr,"");var r=ar.test(e);return r||or.test(e)?sr(e.slice(2),r?2:8):ir.test(e)?NaN:+e}var lr=Math.max,cr=Math.min;function hr(e,t,r){var n,i,a,o,s,u,l=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,a=i;return n=i=void 0,l=t,o=e.apply(a,r)}function p(e){return l=e,s=setTimeout(m,t),c?f(e):o}function v(e){var r=e-u;return void 0===u||r>=t||r<0||h&&e-l>=a}function m(){var e=rr();if(v(e))return g(e);s=setTimeout(m,function(e){var r=t-(e-u);return h?cr(r,a-(e-l)):r}(e))}function g(e){return s=void 0,d&&n?f(e):(n=i=void 0,o)}function y(){var e=rr(),r=v(e);if(n=arguments,i=this,u=e,r){if(void 0===s)return p(u);if(h)return clearTimeout(s),s=setTimeout(m,t),f(u)}return void 0===s&&(s=setTimeout(m,t)),o}return t=ur(t)||0,tr(r)&&(c=!!r.leading,a=(h="maxWait"in r)?lr(ur(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=u=i=s=void 0},y.flush=function(){return void 0===s?o:g(rr())},y}function dr(e){if(!tr(e))return!1;var t=Je(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var fr,pr=Fe["__core-js_shared__"],vr=(fr=/[^.]+$/.exec(pr&&pr.keys&&pr.keys.IE_PROTO||""))?"Symbol(src)_1."+fr:"";var mr=Function.prototype.toString;function gr(e){if(null!=e){try{return mr.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var yr=/^\[object .+?Constructor\]$/,br=Function.prototype,wr=Object.prototype,kr=br.toString,Cr=wr.hasOwnProperty,Er=RegExp("^"+kr.call(Cr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xr(e){return!(!tr(e)||(t=e,vr&&vr in t))&&(dr(e)?Er:yr).test(gr(e));var t}function _r(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return xr(r)?r:void 0}var Pr=_r(Object,"create");var Or=Object.prototype.hasOwnProperty;var jr=Object.prototype.hasOwnProperty;function Sr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Rr(e,t){return e===t||e!=e&&t!=t}function Mr(e,t){for(var r=e.length;r--;)if(Rr(e[r][0],t))return r;return-1}Sr.prototype.clear=function(){this.__data__=Pr?Pr(null):{},this.size=0},Sr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Sr.prototype.get=function(e){var t=this.__data__;if(Pr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Or.call(t,e)?t[e]:void 0},Sr.prototype.has=function(e){var t=this.__data__;return Pr?void 0!==t[e]:jr.call(t,e)},Sr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Pr&&void 0===t?"__lodash_hash_undefined__":t,this};var Ar=Array.prototype.splice;function Tr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tr.prototype.clear=function(){this.__data__=[],this.size=0},Tr.prototype.delete=function(e){var t=this.__data__,r=Mr(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ar.call(t,r,1),--this.size,!0)},Tr.prototype.get=function(e){var t=this.__data__,r=Mr(t,e);return r<0?void 0:t[r][1]},Tr.prototype.has=function(e){return Mr(this.__data__,e)>-1},Tr.prototype.set=function(e,t){var r=this.__data__,n=Mr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var Lr=_r(Fe,"Map");function Dr(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zr.prototype.clear=function(){this.size=0,this.__data__={hash:new Sr,map:new(Lr||Tr),string:new Sr}},zr.prototype.delete=function(e){var t=Dr(this,e).delete(e);return this.size-=t?1:0,t},zr.prototype.get=function(e){return Dr(this,e).get(e)},zr.prototype.has=function(e){return Dr(this,e).has(e)},zr.prototype.set=function(e,t){var r=Dr(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Ir(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new zr;++t<r;)this.add(e[t])}function Wr(e){return e!=e}function Nr(e,t){return!!(null==e?0:e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,Wr,r)}(e,t,0)>-1}function Br(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Fr(e){return function(t){return e(t)}}function Ur(e,t){return e.has(t)}Ir.prototype.add=Ir.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ir.prototype.has=function(e){return this.__data__.has(e)};function Vr(e){return e}function Hr(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qr=Math.max;var $r=function(){try{var e=_r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Gr=$r?function(e,t){return $r(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Vr,Yr=Date.now;var Xr,Zr,Jr,Kr=(Xr=Gr,Zr=0,Jr=0,function(){var e=Yr(),t=16-(e-Jr);if(Jr=e,t>0){if(++Zr>=800)return arguments[0]}else Zr=0;return Xr.apply(void 0,arguments)});function Qr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function en(e){return null!=e&&Qr(e.length)&&!dr(e)}function tn(e){return Ke(e)&&en(e)}var rn=function(e,t){return Kr(function(e,t,r){return t=qr(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=qr(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),Hr(e,this,s)}}(e,t,Vr),e+"")}((function(e,t){return tn(e)?function(e,t,r,n){var i=-1,a=Nr,o=!0,s=e.length,u=[],l=t.length;if(!s)return u;r&&(t=Ve(t,Fr(r))),n?(a=Br,o=!1):t.length>=200&&(a=Ur,o=!1,t=new Ir(t));e:for(;++i<s;){var c=e[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,o&&h==h){for(var d=l;d--;)if(t[d]===h)continue e;u.push(c)}else a(t,h,n)||u.push(c)}return u}(e,Qt(t,1,tn,!0)):[]})),nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,an=/^\w*$/;function on(e,t){if(He(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Qe(e))||(an.test(e)||!nn.test(e)||null!=t&&e in Object(t))}function sn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(sn.Cache||zr),r}sn.Cache=zr;var un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ln=/\\(\\)?/g,cn=function(e){var t=sn(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(un,(function(e,r,n,i){t.push(n?i.replace(ln,"$1"):r||e)})),t}));function hn(e,t){return He(e)?e:on(e,t)?[e]:cn(nt(e))}function dn(e){if("string"==typeof e||Qe(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fn(e,t){for(var r=0,n=(t=hn(t,e)).length;null!=e&&r<n;)e=e[dn(t[r++])];return r&&r==n?e:void 0}function pn(e,t,r){var n=null==e?void 0:fn(e,t);return void 0===n?r:n}function vn(e){var t=this.__data__=new Tr(e);this.size=t.size}function mn(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}vn.prototype.clear=function(){this.__data__=new Tr,this.size=0},vn.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},vn.prototype.get=function(e){return this.__data__.get(e)},vn.prototype.has=function(e){return this.__data__.has(e)},vn.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Tr){var n=r.__data__;if(!Lr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zr(n)}return r.set(e,t),this.size=r.size,this};function gn(e,t,r,n,i,a){var o=1&r,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var c=-1,h=!0,d=2&r?new Ir:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var f=e[c],p=t[c];if(n)var v=o?n(p,f,c,t,e,a):n(f,p,c,e,t,a);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!mn(t,(function(e,t){if(!Ur(d,t)&&(f===e||i(f,e,r,n,a)))return d.push(t)}))){h=!1;break}}else if(f!==p&&!i(f,p,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}var yn=Fe.Uint8Array;function bn(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function wn(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var kn=Ue?Ue.prototype:void 0,Cn=kn?kn.valueOf:void 0;var En=Object.prototype.propertyIsEnumerable,xn=Object.getOwnPropertySymbols,_n=xn?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}(xn(e),(function(t){return En.call(e,t)})))}:function(){return[]};var Pn="object"==typeof exports&&exports&&!exports.nodeType&&exports,On=Pn&&"object"==typeof module&&module&&!module.nodeType&&module,jn=On&&On.exports===Pn?Fe.Buffer:void 0,Sn=(jn?jn.isBuffer:void 0)||function(){return!1},Rn=/^(?:0|[1-9]\d*)$/;function Mn(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Rn.test(e))&&e>-1&&e%1==0&&e<t}var An={};An["[object Float32Array]"]=An["[object Float64Array]"]=An["[object Int8Array]"]=An["[object Int16Array]"]=An["[object Int32Array]"]=An["[object Uint8Array]"]=An["[object Uint8ClampedArray]"]=An["[object Uint16Array]"]=An["[object Uint32Array]"]=!0,An["[object Arguments]"]=An["[object Array]"]=An["[object ArrayBuffer]"]=An["[object Boolean]"]=An["[object DataView]"]=An["[object Date]"]=An["[object Error]"]=An["[object Function]"]=An["[object Map]"]=An["[object Number]"]=An["[object Object]"]=An["[object RegExp]"]=An["[object Set]"]=An["[object String]"]=An["[object WeakMap]"]=!1;var Tn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ln=Tn&&"object"==typeof module&&module&&!module.nodeType&&module,Dn=Ln&&Ln.exports===Tn&&Ne.process,zn=function(){try{var e=Ln&&Ln.require&&Ln.require("util").types;return e||Dn&&Dn.binding&&Dn.binding("util")}catch(e){}}(),In=zn&&zn.isTypedArray,Wn=In?Fr(In):function(e){return Ke(e)&&Qr(e.length)&&!!An[Je(e)]},Nn=Object.prototype.hasOwnProperty;function Bn(e,t){var r=He(e),n=!r&&Zt(e),i=!r&&!n&&Sn(e),a=!r&&!n&&!i&&Wn(e),o=r||n||i||a,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var l in e)!t&&!Nn.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Mn(l,u))||s.push(l);return s}var Fn=Object.prototype;var Un=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),Vn=Object.prototype.hasOwnProperty;function Hn(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||Fn))return Un(e);var t,r,n=[];for(var i in Object(e))Vn.call(e,i)&&"constructor"!=i&&n.push(i);return n}function qn(e){return en(e)?Bn(e):Hn(e)}function $n(e){return function(e,t,r){var n=t(e);return He(e)?n:qt(n,r(e))}(e,qn,_n)}var Gn=Object.prototype.hasOwnProperty;var Yn=_r(Fe,"DataView"),Xn=_r(Fe,"Promise"),Zn=_r(Fe,"Set"),Jn=_r(Fe,"WeakMap"),Kn=gr(Yn),Qn=gr(Lr),ei=gr(Xn),ti=gr(Zn),ri=gr(Jn),ni=Je;(Yn&&"[object DataView]"!=ni(new Yn(new ArrayBuffer(1)))||Lr&&"[object Map]"!=ni(new Lr)||Xn&&"[object Promise]"!=ni(Xn.resolve())||Zn&&"[object Set]"!=ni(new Zn)||Jn&&"[object WeakMap]"!=ni(new Jn))&&(ni=function(e){var t=Je(e),r="[object Object]"==t?e.constructor:void 0,n=r?gr(r):"";if(n)switch(n){case Kn:return"[object DataView]";case Qn:return"[object Map]";case ei:return"[object Promise]";case ti:return"[object Set]";case ri:return"[object WeakMap]"}return t});var ii=ni,ai=Object.prototype.hasOwnProperty;function oi(e,t,r,n,i,a){var o=He(e),s=He(t),u=o?"[object Array]":ii(e),l=s?"[object Array]":ii(t),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),h="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d=u==l;if(d&&Sn(e)){if(!Sn(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new vn),o||Wn(e)?gn(e,t,r,n,i,a):function(e,t,r,n,i,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new yn(e),new yn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Rr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=bn;case"[object Set]":var u=1&n;if(s||(s=wn),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;n|=2,o.set(e,t);var c=gn(s(e),s(t),n,i,a,o);return o.delete(e),c;case"[object Symbol]":if(Cn)return Cn.call(e)==Cn.call(t)}return!1}(e,t,u,r,n,i,a);if(!(1&r)){var f=c&&ai.call(e,"__wrapped__"),p=h&&ai.call(t,"__wrapped__");if(f||p){var v=f?e.value():e,m=p?t.value():t;return a||(a=new vn),i(v,m,r,n,a)}}return!!d&&(a||(a=new vn),function(e,t,r,n,i,a){var o=1&r,s=$n(e),u=s.length;if(u!=$n(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:Gn.call(t,c)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var d=!0;a.set(e,t),a.set(t,e);for(var f=o;++l<u;){var p=e[c=s[l]],v=t[c];if(n)var m=o?n(v,p,c,t,e,a):n(p,v,c,e,t,a);if(!(void 0===m?p===v||i(p,v,r,n,a):m)){d=!1;break}f||(f="constructor"==c)}if(d&&!f){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,r,n,i,a))}function si(e,t,r,n,i){return e===t||(null==e||null==t||!Ke(e)&&!Ke(t)?e!=e&&t!=t:oi(e,t,r,n,si,i))}function ui(e){return e==e&&!tr(e)}function li(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function ci(e){var t=function(e){for(var t=qn(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ui(i)]}return t}(e);return 1==t.length&&t[0][2]?li(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=r[i])[0],l=e[u],c=s[1];if(o&&s[2]){if(void 0===l&&!(u in e))return!1}else{var h=new vn;if(n)var d=n(l,c,u,e,t,h);if(!(void 0===d?si(c,l,3,n,h):d))return!1}}return!0}(r,e,t)}}function hi(e,t){return null!=e&&t in Object(e)}function di(e,t){return null!=e&&function(e,t,r){for(var n=-1,i=(t=hn(t,e)).length,a=!1;++n<i;){var o=dn(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Qr(i)&&Mn(o,i)&&(He(e)||Zt(e))}(e,t,hi)}function fi(e){return on(e)?(t=dn(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return fn(t,e)}}(e);var t}function pi(e){return"function"==typeof e?e:null==e?Vr:"object"==typeof e?He(e)?(t=e[0],r=e[1],on(t)&&ui(r)?li(dn(t),r):function(e){var n=pn(e,t);return void 0===n&&n===r?di(e,t):si(r,n,3)}):ci(e):fi(e);var t,r}var vi,mi=function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[vi?o:++n];if(!1===t(i[s],s,i))break}return e};var gi=function(e,t){return function(r,n){if(null==r)return r;if(!en(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}((function(e,t){return e&&mi(e,t,qn)}));function yi(e,t){var r=-1,n=en(e)?Array(e.length):[];return gi(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}function bi(e){var t=function(e){return e?(e=ur(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}var wi=Fe.isFinite,ki=Math.min;var Ci=function(e){var t=Math[e];return function(e,r){if(e=ur(e),(r=null==r?0:ki(bi(r),292))&&wi(e)){var n=(nt(e)+"e").split("e");return+((n=(nt(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}("round");var Ei=zn&&zn.isRegExp,xi=Ei?Fr(Ei):function(e){return Ke(e)&&"[object RegExp]"==Je(e)};
/*! Fast Average Color | © 2021 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */
function _i(e){const t=e.toString(16);return 1===t.length?"0"+t:t}function Pi(e){return"#"+e.map(_i).join("")}function Oi(e,t,r){for(let n=0;n<r.length;n++)if(ji(e,t,r[n]))return!0;return!1}function ji(e,t,r){switch(r.length){case 3:if(function(e,t,r){if(255!==e[t+3])return!0;if(e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2])return!0;return!1}(e,t,r))return!0;break;case 4:if(function(e,t,r){if(e[t+3]&&r[3])return e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2]&&e[t+3]===r[3];return e[t+3]===r[3]}(e,t,r))return!0;break;case 5:if(function(e,t,r){const n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=e[t+3],l=Si(u,o,s);if(!o)return l;if(!u&&l)return!0;if(Si(e[t],n,s)&&Si(e[t+1],i,s)&&Si(e[t+2],a,s)&&l)return!0;return!1}(e,t,r))return!0;break;default:return!1}}function Si(e,t,r){return e>=t-r&&e<=t+r}function Ri(e,t,r){const n={},i=r.ignoredColor,a=r.step;let o=[0,0,0,0,0];for(let r=0;r<t;r+=a){const t=e[r],a=e[r+1],s=e[r+2],u=e[r+3];if(i&&Oi(e,r,i))continue;const l=Math.round(t/24)+","+Math.round(a/24)+","+Math.round(s/24);n[l]?n[l]=[n[l][0]+t*u,n[l][1]+a*u,n[l][2]+s*u,n[l][3]+u,n[l][4]+1]:n[l]=[t*u,a*u,s*u,u,1],o[4]<n[l][4]&&(o=n[l])}const s=o[0],u=o[1],l=o[2],c=o[3],h=o[4];return c?[Math.round(s/c),Math.round(u/c),Math.round(l/c),Math.round(c/h)]:r.defaultColor}function Mi(e,t,r){let n=0,i=0,a=0,o=0,s=0;const u=r.ignoredColor,l=r.step;for(let r=0;r<t;r+=l){const t=e[r+3],l=e[r]*t,c=e[r+1]*t,h=e[r+2]*t;u&&Oi(e,r,u)||(n+=l,i+=c,a+=h,o+=t,s++)}return o?[Math.round(n/o),Math.round(i/o),Math.round(a/o),Math.round(o/s)]:r.defaultColor}function Ai(e,t,r){let n=0,i=0,a=0,o=0,s=0;const u=r.ignoredColor,l=r.step;for(let r=0;r<t;r+=l){const t=e[r],l=e[r+1],c=e[r+2],h=e[r+3];u&&Oi(e,r,u)||(n+=t*t*h,i+=l*l*h,a+=c*c*h,o+=h,s++)}return o?[Math.round(Math.sqrt(n/o)),Math.round(Math.sqrt(i/o)),Math.round(Math.sqrt(a/o)),Math.round(o/s)]:r.defaultColor}function Ti(e){return Li(e,"defaultColor",[0,0,0,0])}function Li(e,t,r){return void 0===e[t]?r:e[t]}function Di(e,t,r){e.silent||(console.error("FastAverageColor: "+t),r&&console.error(r))}function zi(e){return Error("FastAverageColor: "+e)}class Ii{getColorAsync(e,t){if(!e)return Promise.reject(zi("call .getColorAsync() without resource."));if("string"==typeof e){const r=new Image;return r.crossOrigin="",r.src=e,this._bindImageEvents(r,t)}if(e instanceof Image&&!e.complete)return this._bindImageEvents(e,t);{const r=this.getColor(e,t);return r.error?Promise.reject(r.error):Promise.resolve(r)}}getColor(e,t){const r=Ti(t=t||{});if(!e)return Di(t,"call .getColor(null) without resource."),this.prepareResult(r);const n=function(e,t){const r=Li(t,"left",0),n=Li(t,"top",0),i=Li(t,"width",e.width),a=Li(t,"height",e.height);let o,s=i,u=a;return"precision"===t.mode||(i>a?(o=i/a,s=100,u=Math.round(s/o)):(o=a/i,u=100,s=Math.round(u/o)),(s>i||u>a||s<10||u<10)&&(s=i,u=a)),{srcLeft:r,srcTop:n,srcWidth:i,srcHeight:a,destWidth:s,destHeight:u}}(function(e){if(e instanceof HTMLImageElement){let t=e.naturalWidth,r=e.naturalHeight;return e.naturalWidth||-1===e.src.search(/\.svg(\?|$)/i)||(t=r=100),{width:t,height:r}}return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:{width:e.width,height:e.height}}(e),t);if(!(n.srcWidth&&n.srcHeight&&n.destWidth&&n.destHeight))return Di(t,`incorrect sizes for resource "${e.src}".`),this.prepareResult(r);if(!this._ctx&&(this._canvas="undefined"==typeof window?new OffscreenCanvas(1,1):document.createElement("canvas"),this._ctx=this._canvas.getContext&&this._canvas.getContext("2d"),!this._ctx))return Di(t,"Canvas Context 2D is not supported in this browser."),this.prepareResult(r);this._canvas.width=n.destWidth,this._canvas.height=n.destHeight;let i=r;try{this._ctx.clearRect(0,0,n.destWidth,n.destHeight),this._ctx.drawImage(e,n.srcLeft,n.srcTop,n.srcWidth,n.srcHeight,0,0,n.destWidth,n.destHeight);const r=this._ctx.getImageData(0,0,n.destWidth,n.destHeight).data;i=this.getColorFromArray4(r,t)}catch(r){Di(t,`security error (CORS) for resource ${e.src}.\nDetails: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`,r)}return this.prepareResult(i)}getColorFromArray4(e,t){t=t||{};const r=e.length,n=Ti(t);if(r<4)return n;const i=r-r%4,a=4*(t.step||1);let o;switch(t.algorithm||"sqrt"){case"simple":o=Mi;break;case"sqrt":o=Ai;break;case"dominant":o=Ri;break;default:throw zi(t.algorithm+" is unknown algorithm.")}return o(e,i,{defaultColor:n,ignoredColor:(s=t.ignoredColor,s?Array.isArray(s)?"number"==typeof s[0]?[s.slice()]:s:[s]:s),step:a});var s}prepareResult(e){const t=e.slice(0,3),r=[].concat(t,e[3]/255),n=(299*(i=e)[0]+587*i[1]+114*i[2])/1e3<128;var i;return{value:e,rgb:"rgb("+t.join(",")+")",rgba:"rgba("+r.join(",")+")",hex:Pi(t),hexa:Pi(e),isDark:n,isLight:!n}}destroy(){delete this._canvas,delete this._ctx}_bindImageEvents(e,t){return new Promise((r,n)=>{const i=()=>{s();const i=this.getColor(e,t);i.error?n(i.error):r(i)},a=()=>{s(),n(zi(`Error loading image "${e.src}".`))},o=()=>{s(),n(zi(`Image "${e.src}" loading aborted.`))},s=()=>{e.removeEventListener("load",i),e.removeEventListener("error",a),e.removeEventListener("abort",o)};e.addEventListener("load",i),e.addEventListener("error",a),e.addEventListener("abort",o)})}}var Wi="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==Wi&&Wi,Ni="URLSearchParams"in Wi,Bi="Symbol"in Wi&&"iterator"in Symbol,Fi="FileReader"in Wi&&"Blob"in Wi&&function(){try{return new Blob,!0}catch(e){return!1}}(),Ui="FormData"in Wi,Vi="ArrayBuffer"in Wi;if(Vi)var Hi=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],qi=ArrayBuffer.isView||function(e){return e&&Hi.indexOf(Object.prototype.toString.call(e))>-1};function $i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function Gi(e){return"string"!=typeof e&&(e=String(e)),e}function Yi(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Bi&&(t[Symbol.iterator]=function(){return t}),t}function Xi(e){this.map={},e instanceof Xi?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function Zi(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function Ji(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function Ki(e){var t=new FileReader,r=Ji(t);return t.readAsArrayBuffer(e),r}function Qi(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function ea(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:Fi&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Ui&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Ni&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Vi&&Fi&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=Qi(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Vi&&(ArrayBuffer.prototype.isPrototypeOf(e)||qi(e))?this._bodyArrayBuffer=Qi(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ni&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Fi&&(this.blob=function(){var e=Zi(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=Zi(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(Ki)}),this.text=function(){var e,t,r,n=Zi(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=Ji(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ui&&(this.formData=function(){return this.text().then(na)}),this.json=function(){return this.text().then(JSON.parse)},this}Xi.prototype.append=function(e,t){e=$i(e),t=Gi(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},Xi.prototype.delete=function(e){delete this.map[$i(e)]},Xi.prototype.get=function(e){return e=$i(e),this.has(e)?this.map[e]:null},Xi.prototype.has=function(e){return this.map.hasOwnProperty($i(e))},Xi.prototype.set=function(e,t){this.map[$i(e)]=Gi(t)},Xi.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Xi.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),Yi(e)},Xi.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),Yi(e)},Xi.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),Yi(e)},Bi&&(Xi.prototype[Symbol.iterator]=Xi.prototype.entries);var ta=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ra(e,t){if(!(this instanceof ra))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof ra){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Xi(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Xi(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),ta.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function na(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function ia(e,t){if(!(this instanceof ia))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new Xi(t.headers),this.url=t.url||"",this._initBody(e)}ra.prototype.clone=function(){return new ra(this,{body:this._bodyInit})},ea.call(ra.prototype),ea.call(ia.prototype),ia.prototype.clone=function(){return new ia(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Xi(this.headers),url:this.url})},ia.error=function(){var e=new ia(null,{status:0,statusText:""});return e.type="error",e};var aa=[301,302,303,307,308];ia.redirect=function(e,t){if(-1===aa.indexOf(t))throw new RangeError("Invalid status code");return new ia(null,{status:t,headers:{location:e}})};var oa=Wi.DOMException;try{new oa}catch(e){(oa=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),oa.prototype.constructor=oa}function sa(e,t){return new Promise((function(r,n){var i=new ra(e,t);if(i.signal&&i.signal.aborted)return n(new oa("Aborted","AbortError"));var a=new XMLHttpRequest;function o(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new Xi,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;setTimeout((function(){r(new ia(i,n))}),0)},a.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){n(new oa("Aborted","AbortError"))}),0)},a.open(i.method,function(e){try{return""===e&&Wi.location.href?Wi.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(Fi?a.responseType="blob":Vi&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof Xi?i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){a.setRequestHeader(e,Gi(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",o),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",o)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}sa.polyfill=!0,Wi.fetch||(Wi.fetch=sa,Wi.Headers=Xi,Wi.Request=ra,Wi.Response=ia);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ua,la=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){
/*!
   * wavesurfer.js 4.1.1 (2020-09-25)
   * https://wavesurfer-js.org
   * @license BSD-3-Clause
   */
var r;r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/wavesurfer.js")}({"./node_modules/debounce/index.js":
/*!****************************************!*\
    !*** ./node_modules/debounce/index.js ***!
    \****************************************/
/*! no static exports found */function(e,t){function r(e,t,r){var n,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?n=setTimeout(u,t-l):(n=null,r||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=r&&!n;return n||(n=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(s=e.apply(a,i),a=i=null,clearTimeout(n),n=null)},l}r.debounce=r,e.exports=r},"./src/drawer.canvasentry.js":
/*!***********************************!*\
    !*** ./src/drawer.canvasentry.js ***!
    \***********************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(/*! ./util/style */"./src/util/style.js")),i=a(r(/*! ./util/get-id */"./src/util/get-id.js"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,i.default)(void 0!==this.constructor.name?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}var t,r,a;return t=e,(r=[{key:"initWave",value:function(e){this.wave=e,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(e){this.progress=e,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(e,t,r,i){this.start=this.wave.offsetLeft/t||0,this.end=this.start+e/t,this.wave.width=r,this.wave.height=i;var a={width:e+"px"};(0,n.default)(this.wave,a),this.hasProgressCanvas&&(this.progress.width=r,this.progress.height=i,(0,n.default)(this.progress,a))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(e,t){this.waveCtx.fillStyle=e,this.hasProgressCanvas&&(this.progressCtx.fillStyle=t)}},{key:"fillRects",value:function(e,t,r,n,i){this.fillRectToContext(this.waveCtx,e,t,r,n,i),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,e,t,r,n,i)}},{key:"fillRectToContext",value:function(e,t,r,n,i,a){e&&(a?this.drawRoundedRect(e,t,r,n,i,a):e.fillRect(t,r,n,i))}},{key:"drawRoundedRect",value:function(e,t,r,n,i,a){0!==i&&(i<0&&(r-=i*=-1),e.beginPath(),e.moveTo(t+a,r),e.lineTo(t+n-a,r),e.quadraticCurveTo(t+n,r,t+n,r+a),e.lineTo(t+n,r+i-a),e.quadraticCurveTo(t+n,r+i,t+n-a,r+i),e.lineTo(t+a,r+i),e.quadraticCurveTo(t,r+i,t,r+i-a),e.lineTo(t,r+a),e.quadraticCurveTo(t,r,t+a,r),e.closePath(),e.fill())}},{key:"drawLines",value:function(e,t,r,n,i,a){this.drawLineToContext(this.waveCtx,e,t,r,n,i,a),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,e,t,r,n,i,a)}},{key:"drawLineToContext",value:function(e,t,r,n,i,a,o){if(e){var s,u,l,c=t.length/2,h=Math.round(c*this.start),d=h,f=Math.round(c*this.end)+1,p=this.wave.width/(f-d-1),v=n+i,m=r/n;for(e.beginPath(),e.moveTo((d-h)*p,v),e.lineTo((d-h)*p,v-Math.round((t[2*d]||0)/m)),s=d;s<f;s++)u=t[2*s]||0,l=Math.round(u/m),e.lineTo((s-h)*p+this.halfPixel,v-l);for(var g=f-1;g>=d;g--)u=t[2*g+1]||0,l=Math.round(u/m),e.lineTo((g-h)*p+this.halfPixel,v-l);e.lineTo((d-h)*p,v-Math.round((t[2*d+1]||0)/m)),e.closePath(),e.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(e,t,r){var n=this;return"blob"===r?new Promise((function(r){n.wave.toBlob(r,e,t)})):"dataURL"===r?this.wave.toDataURL(e,t):void 0}}])&&o(t.prototype,r),a&&o(t,a),e}();t.default=s,e.exports=t.default},"./src/drawer.js":
/*!***********************!*\
    !*** ./src/drawer.js ***!
    \***********************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,r,i,a=u(l);function l(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=a.call(this)).container=e,r.params=t,r.width=0,r.height=t.height*r.params.pixelRatio,r.lastPos=0,r.wrapper=null,r}return t=l,(r=[{key:"style",value:function(e,t){return n.style(e,t)}},{key:"createWrapper",value:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(e,t){!t&&e.preventDefault();var r,i=e.targetTouches?e.targetTouches[0].clientX:e.clientX,a=this.wrapper.getBoundingClientRect(),o=this.width,s=this.getWidth();return r=!this.params.fillParent&&o<s?(this.params.rtl?a.right-i:i-a.left)*(this.params.pixelRatio/o)||0:((this.params.rtl?a.right-i:i-a.left)+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,n.clamp(r,0,1)}},{key:"setupWrapperEvents",value:function(){var e=this;this.wrapper.addEventListener("click",(function(t){var r=e.wrapper.offsetHeight-e.wrapper.clientHeight;if(0!==r){var n=e.wrapper.getBoundingClientRect();if(t.clientY>=n.bottom-r)return}e.params.interact&&e.fireEvent("click",t,e.handleEvent(t))})),this.wrapper.addEventListener("dblclick",(function(t){e.params.interact&&e.fireEvent("dblclick",t,e.handleEvent(t))})),this.wrapper.addEventListener("scroll",(function(t){return e.fireEvent("scroll",t)}))}},{key:"drawPeaks",value:function(e,t,r,n){this.setWidth(t)||this.clearWave(),this.params.barWidth?this.drawBars(e,0,r,n):this.drawWave(e,0,r,n)}},{key:"resetScroll",value:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(e){var t=this.wrapper.scrollWidth*e;this.recenterOnPosition(t,!0)}},{key:"recenterOnPosition",value:function(e,t){var r=this.wrapper.scrollLeft,n=~~(this.wrapper.clientWidth/2),i=this.wrapper.scrollWidth-this.wrapper.clientWidth,a=e-n,o=a-r;if(0!=i){if(!t&&-n<=o&&o<n){var s=this.params.autoCenterRate;s/=n,s*=i,a=r+(o=Math.max(-s,Math.min(s,o)))}(a=Math.max(0,Math.min(i,a)))!=r&&(this.wrapper.scrollLeft=a)}}},{key:"getScrollX",value:function(){var e=0;if(this.wrapper){var t=this.params.pixelRatio;if(e=Math.round(this.wrapper.scrollLeft*t),this.params.scrollParent){var r=~~(this.wrapper.scrollWidth*t-this.getWidth());e=Math.min(r,Math.max(0,e))}}return e}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(e){return this.width!=e&&(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"setHeight",value:function(e){return e!=this.height&&(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(e){var t=1/this.params.pixelRatio,r=Math.round(e*this.width)*t;if(r<this.lastPos||r-this.lastPos>=t){if(this.lastPos=r,this.params.scrollParent&&this.params.autoCenter){var n=~~(this.wrapper.scrollWidth*e);this.recenterOnPosition(n,this.params.autoCenterImmediately)}this.updateProgress(r)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container&&this.container.removeChild(this.wrapper),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(e,t,r,n){}},{key:"drawWave",value:function(e,t,r,n){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(e){}}])&&o(t.prototype,r),i&&o(t,i),l}(n.Observer);t.default=h,e.exports=t.default},"./src/drawer.multicanvas.js":
/*!***********************************!*\
    !*** ./src/drawer.multicanvas.js ***!
    \***********************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(/*! ./drawer */"./src/drawer.js")),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js")),a=s(r(/*! ./drawer.canvasentry */"./src/drawer.canvasentry.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,r,n,o=h(s);function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=o.call(this,e,t)).maxCanvasWidth=t.maxCanvasWidth,r.maxCanvasElementWidth=Math.round(t.maxCanvasWidth/t.pixelRatio),r.hasProgressCanvas=t.waveColor!=t.progressColor,r.halfPixel=.5/t.pixelRatio,r.canvases=[],r.progressWave=null,r.EntryClass=a.default,r.canvasContextAttributes=t.drawingContextAttributes,r.overlap=2*Math.ceil(t.pixelRatio/2),r.barRadius=t.barRadius||0,r}return t=s,(r=[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"})),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var e=this,t=Math.round(this.width/this.params.pixelRatio),r=Math.ceil(t/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<r;)this.addCanvas();for(;this.canvases.length>r;)this.removeCanvas();var n=this.maxCanvasWidth+this.overlap,i=this.canvases.length-1;this.canvases.forEach((function(t,r){r==i&&(n=e.width-e.maxCanvasWidth*i),e.updateDimensions(t,n,e.height),t.clearWave()}))}},{key:"addCanvas",value:function(){var e=new this.EntryClass;e.canvasContextAttributes=this.canvasContextAttributes,e.hasProgressCanvas=this.hasProgressCanvas,e.halfPixel=this.halfPixel;var t=this.maxCanvasElementWidth*this.canvases.length;e.initWave(this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:2,left:t+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}))),this.hasProgressCanvas&&e.initProgress(this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:t+"px",top:0,bottom:0,height:"100%"}))),this.canvases.push(e)}},{key:"removeCanvas",value:function(){var e=this.canvases[this.canvases.length-1];e.wave.parentElement.removeChild(e.wave),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress),e&&(e.destroy(),e=null),this.canvases.pop()}},{key:"updateDimensions",value:function(e,t,r){var n=Math.round(t/this.params.pixelRatio),i=Math.round(this.width/this.params.pixelRatio);e.updateDimensions(n,i,t,r),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var e=this;i.frame((function(){e.canvases.forEach((function(e){return e.clearWave()}))}))()}},{key:"drawBars",value:function(e,t,r,n){var i=this;return this.prepareDraw(e,t,r,n,(function(e){var t=e.absmax,a=e.hasMinVals,o=(e.height,e.offsetY),s=e.halfH,u=e.peaks;if(void 0!==r)for(var l=a?2:1,c=u.length/l,h=i.params.barWidth*i.params.pixelRatio,d=h+(null===i.params.barGap?Math.max(i.params.pixelRatio,~~(h/2)):Math.max(i.params.pixelRatio,i.params.barGap*i.params.pixelRatio)),f=c/i.width,p=n,v=r;v<p;v+=d){var m=u[Math.floor(v*f*l)]||0,g=Math.round(m/t*s);0==g&&i.params.barMinHeight&&(g=i.params.barMinHeight),i.fillRect(v+i.halfPixel,s-g+o,h+i.halfPixel,2*g,i.barRadius)}}))}},{key:"drawWave",value:function(e,t,r,n){var i=this;return this.prepareDraw(e,t,r,n,(function(e){var t=e.absmax,a=e.hasMinVals,o=(e.height,e.offsetY),s=e.halfH,u=e.peaks,l=e.channelIndex;if(!a){for(var c=[],h=u.length,d=0;d<h;d++)c[2*d]=u[d],c[2*d+1]=-u[d];u=c}void 0!==r&&i.drawLine(u,t,s,o,r,n,l),i.fillRect(0,s+o-i.halfPixel,i.width,i.halfPixel,i.barRadius)}))}},{key:"drawLine",value:function(e,t,r,n,i,a,o){var s=this,u=this.params.splitChannelsOptions.channelColors[o]||{},l=u.waveColor,c=u.progressColor;this.canvases.forEach((function(o,u){s.setFillStyles(o,l,c),o.drawLines(e,t,r,n,i,a)}))}},{key:"fillRect",value:function(e,t,r,n,i){for(var a=Math.floor(e/this.maxCanvasWidth),o=Math.min(Math.ceil((e+r)/this.maxCanvasWidth)+1,this.canvases.length),s=a;s<o;s++){var u=this.canvases[s],l=s*this.maxCanvasWidth,c={x1:Math.max(e,s*this.maxCanvasWidth),y1:t,x2:Math.min(e+r,s*this.maxCanvasWidth+u.wave.width),y2:t+n};c.x1<c.x2&&(this.setFillStyles(u),u.fillRects(c.x1-l,c.y1,c.x2-c.x1,c.y2-c.y1,i))}}},{key:"hideChannel",value:function(e){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(e)}},{key:"prepareDraw",value:function(e,t,r,n,a,o){var s=this;return i.frame((function(){if(e[0]instanceof Array){var u=e;if(s.params.splitChannels){var l=u.filter((function(e,t){return!s.hideChannel(t)}));return s.params.splitChannelsOptions.overlay||s.setHeight(Math.max(l.length,1)*s.params.height*s.params.pixelRatio),u.forEach((function(e,t){return s.prepareDraw(e,t,r,n,a,l.indexOf(e))}))}e=u[0]}if(!s.hideChannel(t)){var c=1/s.params.barHeight;if(s.params.normalize){var h=i.max(e),d=i.min(e);c=-d>h?-d:h}var f=[].some.call(e,(function(e){return e<0})),p=s.params.height*s.params.pixelRatio;return a({absmax:c,hasMinVals:f,height:p,offsetY:p*o||0,halfH:p/2,peaks:e,channelIndex:t})}}))()}},{key:"setFillStyles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.waveColor,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.params.progressColor;e.setFillStyles(t,r)}},{key:"getImage",value:function(e,t,r){if("blob"===r)return Promise.all(this.canvases.map((function(n){return n.getImage(e,t,r)})));if("dataURL"===r){var n=this.canvases.map((function(n){return n.getImage(e,t,r)}));return n.length>1?n:n[0]}}},{key:"updateProgress",value:function(e){this.style(this.progressWave,{width:e+"px"})}}])&&l(t.prototype,r),n&&l(t,n),s}(n.default);t.default=p,e.exports=t.default},"./src/mediaelement-webaudio.js":
/*!**************************************!*\
    !*** ./src/mediaelement-webaudio.js ***!
    \**************************************/
/*! no static exports found */function(e,t,r){var n;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,r,n,i=u(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).params=e,t.sourceMediaElement=null,t}return t=l,(r=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(e,t,r){o(c(l.prototype),"_load",this).call(this,e,t,r),this.createMediaElementSource(e)}},{key:"createMediaElementSource",value:function(e){this.sourceMediaElement=this.ac.createMediaElementSource(e),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(e,t){return this.resumeAudioContext(),o(c(l.prototype),"play",this).call(this,e,t)}},{key:"destroy",value:function(){o(c(l.prototype),"destroy",this).call(this),this.destroyWebAudio()}}])&&a(t.prototype,r),n&&a(t,n),l}(((n=r(/*! ./mediaelement */"./src/mediaelement.js"))&&n.__esModule?n:{default:n}).default);t.default=h,e.exports=t.default},"./src/mediaelement.js":
/*!*****************************!*\
    !*** ./src/mediaelement.js ***!
    \*****************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(/*! ./webaudio */"./src/webaudio.js"))&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,e);var t,r,n,i=h(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).params=e,t.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},t.mediaType=e.mediaType.toLowerCase(),t.elementPosition=e.elementPosition,t.peaks=null,t.playbackRate=1,t.volume=1,t.isMuted=!1,t.buffer=null,t.onPlayEnd=null,t.mediaListeners={},t}return t=o,(r=[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var e=this;this.mediaListeners.error=function(){e.fireEvent("error","Error loading media element")},this.mediaListeners.canplay=function(){e.fireEvent("canplay")},this.mediaListeners.ended=function(){e.fireEvent("finish")},this.mediaListeners.play=function(){e.fireEvent("play")},this.mediaListeners.pause=function(){e.fireEvent("pause")},this.mediaListeners.seeked=function(t){e.fireEvent("seek")},this.mediaListeners.volumechange=function(t){e.isMuted=e.media.muted,e.isMuted?e.volume=0:e.volume=e.media.volume,e.fireEvent("volume")},Object.keys(this.mediaListeners).forEach((function(t){e.media.removeEventListener(t,e.mediaListeners[t]),e.media.addEventListener(t,e.mediaListeners[t])}))}},{key:"createTimer",value:function(){var e=this;this.on("play",(function t(){e.isPaused()||(e.fireEvent("audioprocess",e.getCurrentTime()),a.frame(t)())})),this.on("pause",(function(){e.fireEvent("audioprocess",e.getCurrentTime())}))}},{key:"load",value:function(e,t,r,n){var i=document.createElement(this.mediaType);i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,i.preload=null==n?"auto":n,i.src=e,i.style.width="100%";var a=t.querySelector(this.mediaType);a&&t.removeChild(a),t.appendChild(i),this._load(i,r,n)}},{key:"loadElt",value:function(e,t){e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,this._load(e,t,e.preload)}},{key:"_load",value:function(e,t,r){if(!(e instanceof HTMLMediaElement)||void 0===e.addEventListener)throw new Error("media parameter is not a valid media element");"function"!=typeof e.load||t&&"none"==r||e.load(),this.media=e,this._setupMediaListeners(),this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.isMuted=e.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var e=(this.buffer||this.media).duration;return e>=1/0&&(e=this.media.seekable.end(0)),e}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()}},{key:"play",value:function(e,t){this.seekTo(e);var r=this.media.play();return t&&this.setPlayEnd(t),r}},{key:"pause",value:function(){var e;return this.media&&(e=this.media.pause()),this.clearPlayEnd(),e}},{key:"setPlayEnd",value:function(e){var t=this;this.clearPlayEnd(),this._onPlayEnd=function(r){r>=e&&(t.pause(),t.seekTo(e))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(e,t,r){return this.buffer?l(f(o.prototype),"getPeaks",this).call(this,e,t,r):this.peaks||[]}},{key:"setSinkId",value:function(e){return e?this.media.setSinkId?this.media.setSinkId(e):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(e){this.volume=e,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(e){this.isMuted=this.media.muted=e}},{key:"destroy",value:function(){var e=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach((function(t){e.media&&e.media.removeEventListener(t,e.mediaListeners[t])})),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}])&&u(t.prototype,r),n&&u(t,n),o}(i.default);t.default=p,e.exports=t.default},"./src/peakcache.js":
/*!**************************!*\
    !*** ./src/peakcache.js ***!
    \**************************/
/*! no static exports found */function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clearPeakCache()}var t,r,i;return t=e,(r=[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(e,t,r){e!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=e);for(var n=[],i=0;i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<t;)i++;for(i%2==0&&n.push(t);i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<=r;)n.push(this.peakCacheRanges[i]),i++;i%2==0&&n.push(r),n=n.filter((function(e,t,r){return 0==t?e!=r[t+1]:t==r.length-1?e!=r[t-1]:e!=r[t-1]&&e!=r[t+1]})),this.peakCacheRanges=this.peakCacheRanges.concat(n),this.peakCacheRanges=this.peakCacheRanges.sort((function(e,t){return e-t})).filter((function(e,t,r){return 0==t?e!=r[t+1]:t==r.length-1?e!=r[t-1]:e!=r[t-1]&&e!=r[t+1]}));var a=[];for(i=0;i<n.length;i+=2)a.push([n[i],n[i+1]]);return a}},{key:"getCacheRanges",value:function(){var e,t=[];for(e=0;e<this.peakCacheRanges.length;e+=2)t.push([this.peakCacheRanges[e],this.peakCacheRanges[e+1]]);return t}}])&&n(t.prototype,r),i&&n(t,i),e}();t.default=i,e.exports=t.default},"./src/util/clamp.js":
/*!***************************!*\
    !*** ./src/util/clamp.js ***!
    \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return Math.min(Math.max(t,e),r)},e.exports=t.default},"./src/util/fetch.js":
/*!***************************!*\
    !*** ./src/util/fetch.js ***!
    \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("fetch options missing");if(!e.url)throw new Error("fetch url missing");var t=new i.default,r=new Headers,n=new Request(e.url);t.controller=new AbortController,e&&e.requestHeaders&&e.requestHeaders.forEach((function(e){r.append(e.key,e.value)}));var a=e.responseType||"json",s={method:e.method||"GET",headers:r,mode:e.mode||"cors",credentials:e.credentials||"same-origin",cache:e.cache||"default",redirect:e.redirect||"follow",referrer:e.referrer||"client",signal:t.controller.signal};return fetch(n,s).then((function(e){t.response=e;var r=!0;e.body||(r=!1);var n=e.headers.get("content-length");return null===n&&(r=!1),r?(t.onProgress=function(e){t.fireEvent("progress",e)},new Response(new ReadableStream(new o(t,n,e)),s)):e})).then((function(e){var t;if(e.ok)switch(a){case"arraybuffer":return e.arrayBuffer();case"json":return e.json();case"blob":return e.blob();case"text":return e.text();default:t="Unknown responseType: "+a}throw t||(t="HTTP error status: "+e.status),new Error(t)})).then((function(e){t.fireEvent("success",e)})).catch((function(e){t.fireEvent("error",e)})),t.fetchRequest=n,t};var n,i=(n=r(/*! ./observer */"./src/util/observer.js"))&&n.__esModule?n:{default:n};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=t,this.instance._reader=n.body.getReader(),this.total=parseInt(r,10),this.loaded=0}var t,r,n;return t=e,(r=[{key:"start",value:function(e){var t=this;!function r(){t.instance._reader.read().then((function(n){var i=n.done,a=n.value;if(i)return 0===t.total&&t.instance.onProgress.call(t.instance,{loaded:t.loaded,total:t.total,lengthComputable:!1}),void e.close();t.loaded+=a.byteLength,t.instance.onProgress.call(t.instance,{loaded:t.loaded,total:t.total,lengthComputable:!(0===t.total)}),e.enqueue(a),r()})).catch((function(t){e.error(t)}))}()}}])&&a(t.prototype,r),n&&a(t,n),e}();e.exports=t.default},"./src/util/frame.js":
/*!***************************!*\
    !*** ./src/util/frame.js ***!
    \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(0,i.default)((function(){return e.apply(void 0,r)}))}};var n,i=(n=r(/*! ./request-animation-frame */"./src/util/request-animation-frame.js"))&&n.__esModule?n:{default:n};e.exports=t.default},"./src/util/get-id.js":
/*!****************************!*\
    !*** ./src/util/get-id.js ***!
    \****************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e="wavesurfer_"),e+Math.random().toString(32).substring(2)},e.exports=t.default},"./src/util/index.js":
/*!***************************!*\
    !*** ./src/util/index.js ***!
    \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getId",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"max",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"min",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"style",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"requestAnimationFrame",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"frame",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"preventClick",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"clamp",{enumerable:!0,get:function(){return f.default}});var n=p(r(/*! ./get-id */"./src/util/get-id.js")),i=p(r(/*! ./max */"./src/util/max.js")),a=p(r(/*! ./min */"./src/util/min.js")),o=p(r(/*! ./observer */"./src/util/observer.js")),s=p(r(/*! ./style */"./src/util/style.js")),u=p(r(/*! ./request-animation-frame */"./src/util/request-animation-frame.js")),l=p(r(/*! ./frame */"./src/util/frame.js")),c=p(r(/*! debounce */"./node_modules/debounce/index.js")),h=p(r(/*! ./prevent-click */"./src/util/prevent-click.js")),d=p(r(/*! ./fetch */"./src/util/fetch.js")),f=p(r(/*! ./clamp */"./src/util/clamp.js"));function p(e){return e&&e.__esModule?e:{default:e}}},"./src/util/max.js":
/*!*************************!*\
    !*** ./src/util/max.js ***!
    \*************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=-1/0;return Object.keys(e).forEach((function(r){e[r]>t&&(t=e[r])})),t},e.exports=t.default},"./src/util/min.js":
/*!*************************!*\
    !*** ./src/util/min.js ***!
    \*************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Number(1/0);return Object.keys(e).forEach((function(r){e[r]<t&&(t=e[r])})),t},e.exports=t.default},"./src/util/observer.js":
/*!******************************!*\
    !*** ./src/util/observer.js ***!
    \******************************/
/*! no static exports found */function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._disabledEventEmissions=[],this.handlers=null}var t,r,i;return t=e,(r=[{key:"on",value:function(e,t){var r=this;this.handlers||(this.handlers={});var n=this.handlers[e];return n||(n=this.handlers[e]=[]),n.push(t),{name:e,callback:t,un:function(e,t){return r.un(e,t)}}}},{key:"un",value:function(e,t){if(this.handlers){var r,n=this.handlers[e];if(n)if(t)for(r=n.length-1;r>=0;r--)n[r]==t&&n.splice(r,1);else n.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(e,t){var r=this;return this.on(e,(function n(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];t.apply(r,a),setTimeout((function(){r.un(e,n)}),0)}))}},{key:"setDisabledEventEmissions",value:function(e){this._disabledEventEmissions=e}},{key:"_isDisabledEventEmission",value:function(e){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(e)}},{key:"fireEvent",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.handlers&&!this._isDisabledEventEmission(e)){var i=this.handlers[e];i&&i.forEach((function(e){e.apply(void 0,r)}))}}}])&&n(t.prototype,r),i&&n(t,i),e}();t.default=i,e.exports=t.default},"./src/util/prevent-click.js":
/*!***********************************!*\
    !*** ./src/util/prevent-click.js ***!
    \***********************************/
/*! no static exports found */function(e,t,r){function n(e){e.stopPropagation(),document.body.removeEventListener("click",n,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){document.body.addEventListener("click",n,!0)},e.exports=t.default},"./src/util/request-animation-frame.js":
/*!*********************************************!*\
    !*** ./src/util/request-animation-frame.js ***!
    \*********************************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return setTimeout(e,1e3/60)}).bind(window);t.default=n,e.exports=t.default},"./src/util/style.js":
/*!***************************!*\
    !*** ./src/util/style.js ***!
    \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.keys(t).forEach((function(r){e.style[r]!==t[r]&&(e.style[r]=t[r])})),e},e.exports=t.default},"./src/wavesurfer.js":
/*!***************************!*\
    !*** ./src/wavesurfer.js ***!
    \***************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js")),i=l(r(/*! ./drawer.multicanvas */"./src/drawer.multicanvas.js")),a=l(r(/*! ./webaudio */"./src/webaudio.js")),o=l(r(/*! ./mediaelement */"./src/mediaelement.js")),s=l(r(/*! ./peakcache */"./src/peakcache.js")),u=l(r(/*! ./mediaelement-webaudio */"./src/mediaelement-webaudio.js"));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,e);var t=f(r);function r(e){var s;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(s=t.call(this)).defaultParams={audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:i.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[]},waveColor:"#999",xhr:{}},s.backends={MediaElement:o.default,WebAudio:a.default,MediaElementWebAudio:u.default},s.util=n,s.params=Object.assign({},s.defaultParams,e),s.container="string"==typeof e.container?document.querySelector(s.params.container):s.params.container,!s.container)throw new Error("Container element not found");if(null==s.params.mediaContainer?s.mediaContainer=s.container:"string"==typeof s.params.mediaContainer?s.mediaContainer=document.querySelector(s.params.mediaContainer):s.mediaContainer=s.params.mediaContainer,!s.mediaContainer)throw new Error("Media Container element not found");if(s.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(s.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(!0===s.params.rtl&&n.style(s.container,{transform:"rotateY(180deg)"}),s.params.backgroundColor&&s.setBackgroundColor(s.params.backgroundColor),s.savedVolume=0,s.isMuted=!1,s.tmpEvents=[],s.currentRequest=null,s.arraybuffer=null,s.drawer=null,s.backend=null,s.peakCache=null,"function"!=typeof s.params.renderer)throw new Error("Renderer parameter is invalid");s.Drawer=s.params.renderer,"AudioElement"==s.params.backend&&(s.params.backend="MediaElement"),"WebAudio"!=s.params.backend&&"MediaElementWebAudio"!==s.params.backend||a.default.prototype.supportsWebAudio.call(null)||(s.params.backend="MediaElement"),s.Backend=s.backends[s.params.backend],s.initialisedPluginList={},s.isDestroyed=!1,s.isReady=!1;var l=0;return s._onResize=n.debounce((function(){l==s.drawer.wrapper.clientWidth||s.params.scrollParent||(l=s.drawer.wrapper.clientWidth,s.drawer.fireEvent("redraw"))}),"number"==typeof s.params.responsive?s.params.responsive:100),p(s,v(s))}return y(r,null,[{key:"create",value:function(e){return new r(e).init()}}]),y(r,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(e){var t=this;return e.forEach((function(e){return t.addPlugin(e)})),e.forEach((function(e){e.deferInit||t.initPlugin(e.name)})),this.fireEvent("plugins-registered",e),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(e){var t=this;if(!e.name)throw new Error("Plugin does not have a name!");if(!e.instance)throw new Error("Plugin ".concat(e.name," does not have an instance property!"));e.staticProps&&Object.keys(e.staticProps).forEach((function(r){t[r]=e.staticProps[r]}));var r=e.instance;return Object.getOwnPropertyNames(n.Observer.prototype).forEach((function(e){r.prototype[e]=n.Observer.prototype[e]})),this[e.name]=new r(e.params||{},this),this.fireEvent("plugin-added",e.name),this}},{key:"initPlugin",value:function(e){if(!this[e])throw new Error("Plugin ".concat(e," has not been added yet!"));return this.initialisedPluginList[e]&&this.destroyPlugin(e),this[e].init(),this.initialisedPluginList[e]=!0,this.fireEvent("plugin-initialised",e),this}},{key:"destroyPlugin",value:function(e){if(!this[e])throw new Error("Plugin ".concat(e," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[e])throw new Error("Plugin ".concat(e," is not active and cannot be destroyed!"));if("function"!=typeof this[e].destroy)throw new Error("Plugin ".concat(e," does not have a destroy function!"));return this[e].destroy(),delete this.initialisedPluginList[e],this.fireEvent("plugin-destroyed",e),this}},{key:"destroyAllPlugins",value:function(){var e=this;Object.keys(this.initialisedPluginList).forEach((function(t){return e.destroyPlugin(t)}))}},{key:"createDrawer",value:function(){var e=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),!1!==this.params.responsive&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",(function(){e.drawBuffer(),e.drawer.progress(e.backend.getPlayedPercents())})),this.drawer.on("click",(function(t,r){setTimeout((function(){return e.seekTo(r)}),0)})),this.drawer.on("scroll",(function(t){e.params.partialRender&&e.drawBuffer(),e.fireEvent("scroll",t)}))}},{key:"createBackend",value:function(){var e=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",(function(){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("finish")})),this.backend.on("play",(function(){return e.fireEvent("play")})),this.backend.on("pause",(function(){return e.fireEvent("pause")})),this.backend.on("audioprocess",(function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})),"MediaElement"!==this.params.backend&&"MediaElementWebAudio"!==this.params.backend||(this.backend.on("seek",(function(){e.drawer.progress(e.backend.getPlayedPercents())})),this.backend.on("volume",(function(){var t=e.getVolume();e.fireEvent("volume",t),e.backend.isMuted!==e.isMuted&&(e.isMuted=e.backend.isMuted,e.fireEvent("mute",e.isMuted))})))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new s.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(e){e>=this.getDuration()?this.seekTo(1):this.seekTo(e/this.getDuration())}},{key:"play",value:function(e,t){var r=this;return this.fireEvent("interaction",(function(){return r.play(e,t)})),this.backend.play(e,t)}},{key:"setPlayEnd",value:function(e){this.backend.setPlayEnd(e)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(e){this.skip(-e||-this.params.skipLength)}},{key:"skipForward",value:function(e){this.skip(e||this.params.skipLength)}},{key:"skip",value:function(e){var t=this.getDuration()||1,r=this.getCurrentTime()||0;r=Math.max(0,Math.min(t,r+(e||0))),this.seekAndCenter(r/t)}},{key:"seekAndCenter",value:function(e){this.seekTo(e),this.drawer.recenter(e)}},{key:"seekTo",value:function(e){var t=this;if("number"!=typeof e||!isFinite(e)||e<0||e>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",(function(){return t.seekTo(e)}));var r=this.backend.isPaused();r||this.backend.pause();var n=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(e*this.getDuration()),this.drawer.progress(e),r||this.backend.play(),this.params.scrollParent=n,this.fireEvent("seek",e)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(e){return this.backend.setSinkId(e)}},{key:"setVolume",value:function(e){this.backend.setVolume(e),this.fireEvent("volume",e)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(e){this.backend.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(e){e!==this.isMuted?(this.backend.setMute?(this.backend.setMute(e),this.isMuted=e):e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)):this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){return this.params.waveColor}},{key:"setWaveColor",value:function(e){this.params.waveColor=e,this.drawBuffer()}},{key:"getProgressColor",value:function(){return this.params.progressColor}},{key:"setProgressColor",value:function(e){this.params.progressColor=e,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(e){this.params.backgroundColor=e,n.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(e){this.params.cursorColor=e,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(e){this.params.height=e,this.drawer.setHeight(e*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(e){this.params.splitChannelsOptions.filterChannels=e,this.drawBuffer()}},{key:"drawBuffer",value:function(){var e,t=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),r=this.drawer.getWidth(),n=t,i=0,a=Math.max(i+r,n);if(this.params.fillParent&&(!this.params.scrollParent||t<r)&&(i=0,a=n=r),this.params.partialRender){var o,s=this.peakCache.addRangeToPeakCache(n,i,a);for(o=0;o<s.length;o++)e=this.backend.getPeaks(n,s[o][0],s[o][1]),this.drawer.drawPeaks(e,n,s[o][0],s[o][1])}else e=this.backend.getPeaks(n,i,a),this.drawer.drawPeaks(e,n,i,a);this.fireEvent("redraw",e,n)}},{key:"zoom",value:function(e){e?(this.params.minPxPerSec=e,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",e)}},{key:"loadArrayBuffer",value:function(e){var t=this;this.decodeArrayBuffer(e,(function(e){t.isDestroyed||t.loadDecodedBuffer(e)}))}},{key:"loadDecodedBuffer",value:function(e){this.backend.load(e),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(e){var t=this,r=new FileReader;r.addEventListener("progress",(function(e){return t.onProgress(e)})),r.addEventListener("load",(function(e){return t.loadArrayBuffer(e.target.result)})),r.addEventListener("error",(function(){return t.fireEvent("error","Error reading file")})),r.readAsArrayBuffer(e),this.empty()}},{key:"load",value:function(e,t,r,n){if(!e)throw new Error("url parameter cannot be empty");if(this.empty(),r){var i={"Preload is not 'auto', 'none' or 'metadata'":-1===["auto","metadata","none"].indexOf(r),"Peaks are not provided":!t,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":-1===["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend),"Url is not of type string":"string"!=typeof e},a=Object.keys(i).filter((function(e){return i[e]}));a.length&&(console.warn("Preload parameter of wavesurfer.load will be ignored because:\n\t- "+a.join("\n\t- ")),r=null)}switch(this.params.backend){case"WebAudio":return this.loadBuffer(e,t,n);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(e,t,r,n)}}},{key:"loadBuffer",value:function(e,t,r){var n=this,i=function(t){return t&&n.tmpEvents.push(n.once("ready",t)),n.getArrayBuffer(e,(function(e){return n.loadArrayBuffer(e)}))};if(!t)return i();this.backend.setPeaks(t,r),this.drawBuffer(),this.tmpEvents.push(this.once("interaction",i))}},{key:"loadMediaElement",value:function(e,t,r,n){var i=this,a=e;if("string"==typeof e)this.backend.load(a,this.mediaContainer,t,r);else{var o=e;this.backend.loadElt(o,t),a=o.src}this.tmpEvents.push(this.backend.once("canplay",(function(){i.backend.destroyed||(i.drawBuffer(),i.isReady=!0,i.fireEvent("ready"))})),this.backend.once("error",(function(e){return i.fireEvent("error",e)}))),t&&(this.backend.setPeaks(t,n),this.drawBuffer()),t&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(a,(function(e){i.decodeArrayBuffer(e,(function(e){i.backend.buffer=e,i.backend.setPeaks(null),i.drawBuffer(),i.fireEvent("waveform-ready")}))}))}},{key:"decodeArrayBuffer",value:function(e,t){var r=this;this.arraybuffer=e,this.backend.decodeArrayBuffer(e,(function(n){r.isDestroyed||r.arraybuffer!=e||(t(n),r.arraybuffer=null)}),(function(){return r.fireEvent("error","Error decoding audiobuffer")}))}},{key:"getArrayBuffer",value:function(e,t){var r=this,i=Object.assign({url:e,responseType:"arraybuffer"},this.params.xhr),a=n.fetchFile(i);return this.currentRequest=a,this.tmpEvents.push(a.on("progress",(function(e){r.onProgress(e)})),a.on("success",(function(e){t(e),r.currentRequest=null})),a.on("error",(function(e){r.fireEvent("error",e),r.currentRequest=null}))),a}},{key:"onProgress",value:function(e){var t;t=e.lengthComputable?e.loaded/e.total:e.loaded/(e.loaded+1e6),this.fireEvent("loading",Math.round(100*t),e.target)}},{key:"exportPCM",value:function(e,t,r,n,i){e=e||1024,n=n||0,t=t||1e4,r=r||!1;var a=this.backend.getPeaks(e,n,i),o=[].map.call(a,(function(e){return Math.round(e*t)/t}));return new Promise((function(e,t){var n=JSON.stringify(o);r||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(n)),e(n)}))}},{key:"exportImage",value:function(e,t,r){return e||(e="image/png"),t||(t=1),r||(r="dataURL"),this.drawer.getImage(e,t,r)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch((function(e){})),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach((function(e){return e.un()}))}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),!1!==this.params.responsive&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&this.backend.destroy(),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}]),r}(n.Observer);t.default=b,b.VERSION="4.1.1",b.util=n,e.exports=t.default},"./src/webaudio.js":
/*!*************************!*\
    !*** ./src/webaudio.js ***!
    \*************************/
/*! no static exports found */function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(r(/*! ./util */"./src/util/index.js"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,e);var t=c(r);function r(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(a=t.call(this)).audioContext=null,a.offlineAudioContext=null,a.stateBehaviors=(o(n={},"playing",{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),o(n,"paused",{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}}),o(n,"finished",{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),n),a.params=e,a.ac=e.audioContext||(a.supportsWebAudio()?a.getAudioContext():{}),a.lastPlay=a.ac.currentTime,a.startPosition=0,a.scheduledPause=null,a.states=(o(i={},"playing",Object.create(a.stateBehaviors.playing)),o(i,"paused",Object.create(a.stateBehaviors.paused)),o(i,"finished",Object.create(a.stateBehaviors.finished)),i),a.buffer=null,a.filters=[],a.gainNode=null,a.mergedPeaks=null,a.offlineAc=null,a.peaks=null,a.playbackRate=1,a.analyser=null,a.scriptNode=null,a.source=null,a.splitPeaks=[],a.state=null,a.explicitDuration=e.duration,a.destroyed=!1,a}return u(r,[{key:"supportsWebAudio",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(e){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),window.WaveSurferOfflineAudioContext}}]),u(r,[{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState("paused"),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach((function(e){e&&e.disconnect()})),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.setFilters(t)}},{key:"setFilters",value:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce((function(e,t){return e.connect(t),t}),this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor?this.scriptNode=this.params.audioScriptProcessor:this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(r.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(r.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState("finished"),e.fireEvent("pause")):t>=e.scheduledPause?e.pause():e.state===e.states.playing&&e.fireEvent("audioprocess",t)}}},{key:"removeOnAudioProcess",value:function(){this.scriptNode.onaudioprocess=function(){}}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(e){if(e){var t=new window.Audio;if(!t.setSinkId)return Promise.reject(new Error("setSinkId is not supported in your browser"));t.autoplay=!0;var r=this.ac.createMediaStreamDestination();return this.gainNode.disconnect(),this.gainNode.connect(r),t.srcObject=r.stream,t.setSinkId(e)}return Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"setVolume",value:function(e){this.gainNode.gain.setValueAtTime(e,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(e,t,r){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(e,(function(e){return t(e)}),r)}},{key:"setPeaks",value:function(e,t){null!=t&&(this.explicitDuration=t),this.peaks=e}},{key:"setLength",value:function(e){if(!this.mergedPeaks||e!=2*this.mergedPeaks.length-1+2){this.splitPeaks=[],this.mergedPeaks=[];var t,r=this.buffer?this.buffer.numberOfChannels:1;for(t=0;t<r;t++)this.splitPeaks[t]=[],this.splitPeaks[t][2*(e-1)]=0,this.splitPeaks[t][2*(e-1)+1]=0;this.mergedPeaks[2*(e-1)]=0,this.mergedPeaks[2*(e-1)+1]=0}}},{key:"getPeaks",value:function(e,t,r){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(t=t||0,r=r||e-1,this.setLength(e),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var n=this.createBuffer(1,4096,this.sampleRate);this.buffer=n.buffer}var i,a=this.buffer.length/e,o=~~(a/10)||1,s=this.buffer.numberOfChannels;for(i=0;i<s;i++){var u=this.splitPeaks[i],l=this.buffer.getChannelData(i),c=void 0;for(c=t;c<=r;c++){var h=~~(c*a),d=~~(h+a),f=l[h],p=f,v=void 0;for(v=h;v<d;v+=o){var m=l[v];m>p&&(p=m),m<f&&(f=m)}u[2*c]=p,u[2*c+1]=f,(0==i||p>this.mergedPeaks[2*c])&&(this.mergedPeaks[2*c]=p),(0==i||f<this.mergedPeaks[2*c+1])&&(this.mergedPeaks[2*c+1]=f)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"==typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(e){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=e,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states.playing}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(e,t){if(this.buffer)return this.scheduledPause=null,null==e&&(e=this.getCurrentTime())>=this.getDuration()&&(e=0),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states.finished&&this.setState("paused"),{start:e,end:t}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(e,t){if(this.buffer){this.createSource();var r=this.seekTo(e,t);e=r.start,t=r.end,this.scheduledPause=t,this.source.start(0,e),this.resumeAudioContext(),this.setState("playing"),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState("paused"),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}},{key:"setPlayEnd",value:function(e){this.scheduledPause=e}}]),r}(n.Observer);t.default=f,f.scriptBufferSize=256,e.exports=t.default}})},e.exports=r()})),ca=(ua=la)&&ua.__esModule&&Object.prototype.hasOwnProperty.call(ua,"default")?ua.default:ua;class ha{static create(e){return{name:"microphone",deferInit:!(!e||!e.deferInit)&&e.deferInit,params:e,instance:ha}}constructor(e,t){this.params=e,this.wavesurfer=t,this.active=!1,this.paused=!1,this.browser=this.detectBrowser(),this.reloadBufferFunction=e=>this.reloadBuffer(e);const r=(e,t,r)=>{const n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return n?new Promise((t,r)=>{n.call(navigator,e,t,r)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))};void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=r),this.constraints=this.params.constraints||{video:!1,audio:!0},this.bufferSize=this.params.bufferSize||4096,this.numberOfInputChannels=this.params.numberOfInputChannels||1,this.numberOfOutputChannels=this.params.numberOfOutputChannels||1,this._onBackendCreated=()=>{this.micContext=this.wavesurfer.backend.getAudioContext()}}init(){this.wavesurfer.on("backend-created",this._onBackendCreated),this.wavesurfer.backend&&this._onBackendCreated()}destroy(){this.paused=!0,this.wavesurfer.un("backend-created",this._onBackendCreated),this.stop()}start(){navigator.mediaDevices.getUserMedia(this.constraints).then(e=>this.gotStream(e)).catch(e=>this.deviceError(e))}togglePlay(){this.active?(this.paused=!this.paused,this.paused?this.pause():this.play()):this.start()}play(){this.paused=!1,this.connect()}pause(){this.paused=!0,this.disconnect()}stop(){this.active&&(this.stopDevice(),this.wavesurfer.empty())}stopDevice(){if(this.active=!1,this.disconnect(),this.stream){if(("chrome"===this.browser.browser&&this.browser.version>=45||"firefox"===this.browser.browser&&this.browser.version>=44||"edge"===this.browser.browser||"safari"===this.browser.browser)&&this.stream.getTracks)return void this.stream.getTracks().forEach(e=>e.stop());this.stream.stop()}}connect(){void 0!==this.stream&&("edge"===this.browser.browser&&(this.localAudioBuffer=this.micContext.createBuffer(this.numberOfInputChannels,this.bufferSize,this.micContext.sampleRate)),this.mediaStreamSource=this.micContext.createMediaStreamSource(this.stream),this.levelChecker=this.micContext.createScriptProcessor(this.bufferSize,this.numberOfInputChannels,this.numberOfOutputChannels),this.mediaStreamSource.connect(this.levelChecker),this.levelChecker.connect(this.micContext.destination),this.levelChecker.onaudioprocess=this.reloadBufferFunction)}disconnect(){void 0!==this.mediaStreamSource&&this.mediaStreamSource.disconnect(),void 0!==this.levelChecker&&(this.levelChecker.disconnect(),this.levelChecker.onaudioprocess=void 0),void 0!==this.localAudioBuffer&&(this.localAudioBuffer=void 0)}reloadBuffer(e){if(!this.paused)if(this.wavesurfer.empty(),"edge"===this.browser.browser){let t,r;for(t=0,r=Math.min(this.localAudioBuffer.numberOfChannels,e.inputBuffer.numberOfChannels);t<r;t++)this.localAudioBuffer.getChannelData(t).set(e.inputBuffer.getChannelData(t));this.wavesurfer.loadDecodedBuffer(this.localAudioBuffer)}else this.wavesurfer.loadDecodedBuffer(e.inputBuffer)}gotStream(e){this.stream=e,this.active=!0,this.play(),this.fireEvent("deviceReady",e)}deviceError(e){this.fireEvent("deviceError",e)}extractVersion(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}detectBrowser(){const e={browser:null,version:null,minVersion:null};return"undefined"!=typeof window&&window.navigator?navigator.mozGetUserMedia?(e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1),e.minVersion=31,e):navigator.webkitGetUserMedia?(e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2),e.minVersion=38,e):navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),e.minVersion=10547,e):window.RTCPeerConnection&&navigator.userAgent.match(/AppleWebKit\/(\d+)\./)?(e.browser="safari",e.minVersion=11,e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1),e):(e.browser="Not a supported browser.",e):(e.browser="Not a supported browser.",e)}}class da{constructor(e,t,r){this.wavesurfer=r,this.wrapper=r.drawer.wrapper,this.util=r.util,this.style=this.util.style,this.regionsUtil=t,this.id=null==e.id?r.util.getId():e.id,this.start=Number(e.start)||0,this.end=null==e.end?this.start+4/this.wrapper.scrollWidth*this.wavesurfer.getDuration():Number(e.end),this.resize=void 0===e.resize||Boolean(e.resize),this.drag=void 0===e.drag||Boolean(e.drag),this.isResizing=!1,this.isDragging=!1,this.loop=Boolean(e.loop),this.color=e.color||"rgba(0, 0, 0, 0.1)",this.handleStyle=e.handleStyle||{left:{},right:{}},this.handleLeftEl=null,this.handleRightEl=null,this.data=e.data||{},this.attributes=e.attributes||{},this.maxLength=e.maxLength,this.minLength=e.minLength,this._onRedraw=()=>this.updateRender(),this.scroll=!1!==e.scroll&&r.params.scrollParent,this.scrollSpeed=e.scrollSpeed||1,this.scrollThreshold=e.scrollThreshold||10,this.preventContextMenu=void 0!==e.preventContextMenu&&Boolean(e.preventContextMenu);let n=null==e.channelIdx?-1:parseInt(e.channelIdx);if(this.regionHeight="100%",this.marginTop="0px",-1!==n){let e=null!=this.wavesurfer.backend.buffer?this.wavesurfer.backend.buffer.numberOfChannels:-1;e>=0&&n<e&&(this.regionHeight=Math.floor(1/e*100)+"%",this.marginTop=this.wavesurfer.getHeight()*n+"px")}this.formatTimeCallback=e.formatTimeCallback,this.edgeScrollWidth=e.edgeScrollWidth,this.bindInOut(),this.render(),this.wavesurfer.on("zoom",this._onRedraw),this.wavesurfer.on("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-created",this)}update(e){null!=e.start&&(this.start=Number(e.start)),null!=e.end&&(this.end=Number(e.end)),null!=e.loop&&(this.loop=Boolean(e.loop)),null!=e.color&&(this.color=e.color),null!=e.handleStyle&&(this.handleStyle=e.handleStyle),null!=e.data&&(this.data=e.data),null!=e.resize&&(this.resize=Boolean(e.resize),this.updateHandlesResize(this.resize)),null!=e.drag&&(this.drag=Boolean(e.drag)),null!=e.maxLength&&(this.maxLength=Number(e.maxLength)),null!=e.minLength&&(this.minLength=Number(e.minLength)),null!=e.attributes&&(this.attributes=e.attributes),this.updateRender(),this.fireEvent("update"),this.wavesurfer.fireEvent("region-updated",this)}remove(){this.element&&(this.wrapper.removeChild(this.element),this.element=null,this.fireEvent("remove"),this.wavesurfer.un("zoom",this._onRedraw),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-removed",this))}play(e){const t=e||this.start;this.wavesurfer.play(t,this.end),this.fireEvent("play"),this.wavesurfer.fireEvent("region-play",this)}playLoop(e){this.loop=!0,this.play(e)}setLoop(e){this.loop=e}render(){const e=document.createElement("region");e.className="wavesurfer-region",e.title=this.formatTime(this.start,this.end),e.setAttribute("data-id",this.id);for(const t in this.attributes)e.setAttribute("data-region-"+t,this.attributes[t]);if(this.style(e,{position:"absolute",zIndex:2,height:this.regionHeight,top:this.marginTop}),this.resize){this.handleLeftEl=e.appendChild(document.createElement("handle")),this.handleRightEl=e.appendChild(document.createElement("handle")),this.handleLeftEl.className="wavesurfer-handle wavesurfer-handle-start",this.handleRightEl.className="wavesurfer-handle wavesurfer-handle-end";const t={cursor:"col-resize",position:"absolute",top:"0px",width:"2px",height:"100%",backgroundColor:"rgba(0, 0, 0, 1)"},r="none"!==this.handleStyle.left?Object.assign({left:"0px"},t,this.handleStyle.left):null,n="none"!==this.handleStyle.right?Object.assign({right:"0px"},t,this.handleStyle.right):null;r&&this.style(this.handleLeftEl,r),n&&this.style(this.handleRightEl,n)}this.element=this.wrapper.appendChild(e),this.updateRender(),this.bindEvents(e)}formatTime(e,t){return this.formatTimeCallback?this.formatTimeCallback(e,t):(e==t?[e]:[e,t]).map(e=>[Math.floor(e%3600/60),("00"+Math.floor(e%60)).slice(-2)].join(":")).join("-")}getWidth(){return this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio}updateRender(){const e=this.wavesurfer.getDuration(),t=this.getWidth();var r=this.start,n=this.end;if(r<0&&(n-=r=0),n>e&&(r=e-((n=e)-r)),null!=this.minLength&&(n=Math.max(r+this.minLength,n)),null!=this.maxLength&&(n=Math.min(r+this.maxLength,n)),null!=this.element){const i=Math.round(r/e*t),a=Math.round(n/e*t)-i;this.style(this.element,{left:i+"px",width:a+"px",backgroundColor:this.color,cursor:this.drag?"move":"default"});for(const e in this.attributes)this.element.setAttribute("data-region-"+e,this.attributes[e]);this.element.title=this.formatTime(this.start,this.end)}}bindInOut(){this.firedIn=!1,this.firedOut=!1;const e=e=>{let t=Math.round(10*this.start)/10,r=Math.round(10*this.end)/10;e=Math.round(10*e)/10,!this.firedOut&&this.firedIn&&(t>e||r<=e)&&(this.firedOut=!0,this.firedIn=!1,this.fireEvent("out"),this.wavesurfer.fireEvent("region-out",this)),!this.firedIn&&t<=e&&r>e&&(this.firedIn=!0,this.firedOut=!1,this.fireEvent("in"),this.wavesurfer.fireEvent("region-in",this))};this.wavesurfer.backend.on("audioprocess",e),this.on("remove",()=>{this.wavesurfer.backend.un("audioprocess",e)}),this.on("out",()=>{if(this.loop){const e=this.wavesurfer.getCurrentTime();e>=this.start&&e<=this.end&&this.wavesurfer.play(this.start)}})}bindEvents(){const e=this.preventContextMenu;this.element.addEventListener("mouseenter",e=>{this.fireEvent("mouseenter",e),this.wavesurfer.fireEvent("region-mouseenter",this,e)}),this.element.addEventListener("mouseleave",e=>{this.fireEvent("mouseleave",e),this.wavesurfer.fireEvent("region-mouseleave",this,e)}),this.element.addEventListener("click",e=>{e.preventDefault(),this.fireEvent("click",e),this.wavesurfer.fireEvent("region-click",this,e)}),this.element.addEventListener("dblclick",e=>{e.stopPropagation(),e.preventDefault(),this.fireEvent("dblclick",e),this.wavesurfer.fireEvent("region-dblclick",this,e)}),this.element.addEventListener("contextmenu",t=>{e&&t.preventDefault(),this.fireEvent("contextmenu",t),this.wavesurfer.fireEvent("region-contextmenu",this,t)}),(this.drag||this.resize)&&this.bindDragEvents()}bindDragEvents(){const e=this.wavesurfer.drawer.container,t=this.scrollSpeed;this.scrollThreshold;let r,n,i,a,o,s,u,l,c,h=!1;const d=e=>{const n=this.wavesurfer.getDuration();if(!s||!i&&!o)return;const h=e.clientX;let f=0,p=0,v=0,m=this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(e)*n);if(i)-1===s?(p=l*this.wavesurfer.params.minPxPerSec,f=h-u.left):(p=c*this.wavesurfer.params.minPxPerSec,f=u.right-h);else{let e=this.minLength;e||(e=0),"start"===o?(m>this.end-e&&(m=this.end-e,v=t*s),m<0&&(m=0)):"end"===o&&(m<this.start+e&&(m=this.start+e,v=t*s),m>n&&(m=n))}if(-1===s){if(0===Math.round(this.wrapper.scrollLeft))return;if(Math.round(this.wrapper.scrollLeft-p+f)<=0)return}else{if(Math.round(this.wrapper.scrollLeft)===a)return;if(Math.round(this.wrapper.scrollLeft+p-f)>=a)return}let g=this.wrapper.scrollLeft-v+t*s;if(-1===s){const e=Math.max(0+p-f,g);this.wrapper.scrollLeft=g=e}else{const e=Math.min(a-p+f,g);this.wrapper.scrollLeft=g=e}const y=m-r;r=m,i?this.onDrag(y):this.onResize(y,o),window.requestAnimationFrame(()=>{d(e)})},f=e=>{const t=this.wavesurfer.getDuration();e.touches&&e.touches.length>1||(n=e.targetTouches?e.targetTouches[0].identifier:null,(this.drag||this.resize)&&e.stopPropagation(),r=this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(e,!0)*t),l=r-this.start,c=this.end-r,a=this.wrapper.scrollWidth-this.wrapper.clientWidth,u=this.wrapper.getBoundingClientRect(),this.isResizing=!1,this.isDragging=!1,"handle"===e.target.tagName.toLowerCase()?(this.isResizing=!0,o=e.target.classList.contains("wavesurfer-handle-start")?"start":"end"):(this.isDragging=!0,i=!0,o=!1))},p=e=>{e.touches&&e.touches.length>1||((i||o)&&(this.isDragging=!1,this.isResizing=!1,i=!1,s=null,o=!1),h&&(h=!1,this.util.preventClick(),this.fireEvent("update-end",e),this.wavesurfer.fireEvent("region-update-end",this,e)))},v=t=>{const a=this.wavesurfer.getDuration();if(t.touches&&t.touches.length>1)return;if(t.targetTouches&&t.targetTouches[0].identifier!=n)return;if(!i&&!o)return;let f=this.regionsUtil.getRegionSnapToGridValue(this.wavesurfer.drawer.handleEvent(t)*a);if(i){const e=this.wavesurfer.getDuration();f>e-c&&(f=e-c),f-l<0&&(f=l)}if(o){let e=this.minLength;e||(e=0),"start"===o?(f>this.end-e&&(f=this.end-e),f<0&&(f=0)):"end"===o&&(f<this.start+e&&(f=this.start+e),f>a&&(f=a))}let p=f-r;if(r=f,this.drag&&i&&(h=h||!!p,this.onDrag(p)),this.resize&&o&&(h=h||!!p,this.onResize(p,o)),this.scroll&&e.clientWidth<this.wrapper.scrollWidth){if(i){let e=t.clientX;s=e<u.left+this.edgeScrollWidth?-1:e>u.right-this.edgeScrollWidth?1:null}else{let e=t.clientX;s=e<u.left+this.edgeScrollWidth?-1:e>u.right-this.edgeScrollWidth?1:null}s&&d(t)}};this.element.addEventListener("mousedown",f),this.element.addEventListener("touchstart",f),document.body.addEventListener("mousemove",v),document.body.addEventListener("touchmove",v),document.body.addEventListener("mouseup",p),document.body.addEventListener("touchend",p),this.on("remove",()=>{document.body.removeEventListener("mouseup",p),document.body.removeEventListener("touchend",p),document.body.removeEventListener("mousemove",v),document.body.removeEventListener("touchmove",v)}),this.wavesurfer.on("destroy",()=>{document.body.removeEventListener("mouseup",p),document.body.removeEventListener("touchend",p)})}onDrag(e){const t=this.wavesurfer.getDuration();this.end+e>t&&(e=t-this.end),this.start+e<0&&(e=-1*this.start),this.update({start:this.start+e,end:this.end+e})}onResize(e,t){const r=this.wavesurfer.getDuration();"start"===t?(e>0&&this.end-(this.start+e)<this.minLength&&(e=this.end-this.minLength-this.start),e<0&&this.start+e<0&&(e=-1*this.start),this.update({start:Math.min(this.start+e,this.end),end:Math.max(this.start+e,this.end)})):(e<0&&this.end+e-this.start<this.minLength&&(e=this.start+this.minLength-this.end),e>0&&this.end+e>r&&(e=r-this.end),this.update({start:Math.min(this.end+e,this.start),end:Math.max(this.end+e,this.start)}))}updateHandlesResize(e){const t=e?"col-resize":"auto";this.handleLeftEl&&this.style(this.handleLeftEl,{cursor:t}),this.handleRightEl&&this.style(this.handleRightEl,{cursor:t})}}class fa{static create(e){return{name:"regions",deferInit:!(!e||!e.deferInit)&&e.deferInit,params:e,staticProps:{addRegion(e){return this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.add(e)},clearRegions(){this.regions&&this.regions.clear()},enableDragSelection(e){this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.enableDragSelection(e)},disableDragSelection(){this.regions.disableDragSelection()}},instance:fa}}constructor(e,t){this.params=e,this.wavesurfer=t,this.util={...t.util,getRegionSnapToGridValue:t=>this.getRegionSnapToGridValue(t,e)},this.maxRegions=e.maxRegions,this.regionsMinLength=e.regionsMinLength||null;Object.getOwnPropertyNames(this.util.Observer.prototype).forEach(e=>{da.prototype[e]=this.util.Observer.prototype[e]}),this.wavesurfer.Region=da,this._onBackendCreated=()=>{this.wrapper=this.wavesurfer.drawer.wrapper,this.params.regions&&this.params.regions.forEach(e=>{e.edgeScrollWidth=this.params.edgeScrollWidth||.05*this.wrapper.clientWidth,this.add(e)})},this.list={},this._onReady=()=>{this.wrapper=this.wavesurfer.drawer.wrapper,this.params.dragSelection&&this.enableDragSelection(this.params),Object.keys(this.list).forEach(e=>{this.list[e].updateRender()})}}init(){this.wavesurfer.isReady?(this._onBackendCreated(),this._onReady()):(this.wavesurfer.once("ready",this._onReady),this.wavesurfer.once("backend-created",this._onBackendCreated))}destroy(){this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("backend-created",this._onBackendCreated),this.disableDragSelection(),this.clear()}wouldExceedMaxRegions(){return this.maxRegions&&Object.keys(this.list).length>=this.maxRegions}add(e){if(this.wouldExceedMaxRegions())return null;!e.minLength&&this.regionsMinLength&&(e={...e,minLength:this.regionsMinLength});const t=new this.wavesurfer.Region(e,this.util,this.wavesurfer);return this.list[t.id]=t,t.on("remove",()=>{delete this.list[t.id]}),t}clear(){Object.keys(this.list).forEach(e=>{this.list[e].remove()})}enableDragSelection(e){this.disableDragSelection();const t=e.slop||2,r=this.wavesurfer.drawer.container,n=!1!==e.scroll&&this.wavesurfer.params.scrollParent,i=e.scrollSpeed||1,a=e.scrollThreshold||10;let o,s,u,l,c,h,d,f=this.wavesurfer.getDuration(),p=0;const v=e=>{if(!l||!h)return;let t=this.wrapper.scrollLeft+i*h;this.wrapper.scrollLeft=t=Math.min(s,Math.max(0,t));const r=this.wavesurfer.drawer.handleEvent(e);l.update({start:Math.min(r*f,u*f),end:Math.max(r*f,u*f)}),t<s&&t>0&&window.requestAnimationFrame(()=>{v(e)})},m=e=>{e.touches&&e.touches.length>1||(f=this.wavesurfer.getDuration(),c=e.targetTouches?e.targetTouches[0].identifier:null,s=this.wrapper.scrollWidth-this.wrapper.clientWidth,d=this.wrapper.getBoundingClientRect(),o=!0,u=this.wavesurfer.drawer.handleEvent(e,!0),l=null,h=null)};this.wrapper.addEventListener("mousedown",m),this.wrapper.addEventListener("touchstart",m),this.on("disable-drag-selection",()=>{this.wrapper.removeEventListener("touchstart",m),this.wrapper.removeEventListener("mousedown",m)});const g=e=>{e.touches&&e.touches.length>1||(o=!1,p=0,h=null,l&&(this.util.preventClick(),l.fireEvent("update-end",e),this.wavesurfer.fireEvent("region-update-end",l,e)),l=null)};this.wrapper.addEventListener("mouseup",g),this.wrapper.addEventListener("touchend",g),document.body.addEventListener("mouseup",g),document.body.addEventListener("touchend",g),this.on("disable-drag-selection",()=>{document.body.removeEventListener("mouseup",g),document.body.removeEventListener("touchend",g),this.wrapper.removeEventListener("touchend",g),this.wrapper.removeEventListener("mouseup",g)});const y=i=>{if(!o)return;if(++p<=t)return;if(i.touches&&i.touches.length>1)return;if(i.targetTouches&&i.targetTouches[0].identifier!=c)return;if(!l&&(l=this.add(e||{}),!l))return;const s=this.wavesurfer.drawer.handleEvent(i),m=this.wavesurfer.regions.util.getRegionSnapToGridValue(u*f),g=this.wavesurfer.regions.util.getRegionSnapToGridValue(s*f);if(l.update({start:Math.min(g,m),end:Math.max(g,m)}),n&&r.clientWidth<this.wrapper.scrollWidth){const e=i.clientX-d.left;h=e<=a?-1:e>=d.right-a?1:null,h&&v(i)}};this.wrapper.addEventListener("mousemove",y),this.wrapper.addEventListener("touchmove",y),this.on("disable-drag-selection",()=>{this.wrapper.removeEventListener("touchmove",y),this.wrapper.removeEventListener("mousemove",y)}),this.wavesurfer.on("region-created",e=>{this.regionsMinLength&&(e.minLength=this.regionsMinLength)})}disableDragSelection(){this.fireEvent("disable-drag-selection")}getCurrentRegion(){const e=this.wavesurfer.getCurrentTime();let t=null;return Object.keys(this.list).forEach(r=>{const n=this.list[r];n.start<=e&&n.end>=e&&(!t||n.end-n.start<t.end-t.start)&&(t=n)}),t}getRegionSnapToGridValue(e,t){if(t.snapToGridInterval){const r=t.snapToGridOffset||0;return Math.round((e-r)/t.snapToGridInterval)*t.snapToGridInterval+r}return e}}function pa(e,t,r,n){switch(this.bufferSize=e,this.sampleRate=t,this.bandwidth=2/e*(t/2),this.sinTable=new Float32Array(e),this.cosTable=new Float32Array(e),this.windowValues=new Float32Array(e),this.reverseTable=new Uint32Array(e),this.peakBand=0,this.peak=0,r){case"bartlett":for(i=0;i<e;i++)this.windowValues[i]=2/(e-1)*((e-1)/2-Math.abs(i-(e-1)/2));break;case"bartlettHann":for(i=0;i<e;i++)this.windowValues[i]=.62-.48*Math.abs(i/(e-1)-.5)-.38*Math.cos(2*Math.PI*i/(e-1));break;case"blackman":for(n=n||.16,i=0;i<e;i++)this.windowValues[i]=(1-n)/2-.5*Math.cos(2*Math.PI*i/(e-1))+n/2*Math.cos(4*Math.PI*i/(e-1));break;case"cosine":for(i=0;i<e;i++)this.windowValues[i]=Math.cos(Math.PI*i/(e-1)-Math.PI/2);break;case"gauss":for(n=n||.25,i=0;i<e;i++)this.windowValues[i]=Math.pow(Math.E,-.5*Math.pow((i-(e-1)/2)/(n*(e-1)/2),2));break;case"hamming":for(i=0;i<e;i++)this.windowValues[i]=.54-.46*Math.cos(2*Math.PI*i/(e-1));break;case"hann":case void 0:for(i=0;i<e;i++)this.windowValues[i]=.5*(1-Math.cos(2*Math.PI*i/(e-1)));break;case"lanczoz":for(i=0;i<e;i++)this.windowValues[i]=Math.sin(Math.PI*(2*i/(e-1)-1))/(Math.PI*(2*i/(e-1)-1));break;case"rectangular":for(i=0;i<e;i++)this.windowValues[i]=1;break;case"triangular":for(i=0;i<e;i++)this.windowValues[i]=2/e*(e/2-Math.abs(i-(e-1)/2));break;default:throw Error("No such window function '"+r+"'")}for(var i,a=1,o=e>>1;a<e;){for(i=0;i<a;i++)this.reverseTable[i+a]=this.reverseTable[i]+o;a<<=1,o>>=1}for(i=0;i<e;i++)this.sinTable[i]=Math.sin(-Math.PI/i),this.cosTable[i]=Math.cos(-Math.PI/i);this.calculateSpectrum=function(e){var t,r,n,i=this.bufferSize,a=this.cosTable,o=this.sinTable,s=this.reverseTable,u=new Float32Array(i),l=new Float32Array(i),c=2/this.bufferSize,h=Math.sqrt,d=new Float32Array(i/2),f=Math.floor(Math.log(i)/Math.LN2);if(Math.pow(2,f)!==i)throw"Invalid buffer size, must be a power of 2.";if(i!==e.length)throw"Supplied buffer is not the same size as defined FFT. FFT Size: "+i+" Buffer Size: "+e.length;for(var p,v,m,g,y,b,w,k,C=1,E=0;E<i;E++)u[E]=e[s[E]]*this.windowValues[s[E]],l[E]=0;for(;C<i;){p=a[C],v=o[C],m=1,g=0;for(var x=0;x<C;x++){for(E=x;E<i;)b=m*u[y=E+C]-g*l[y],w=m*l[y]+g*u[y],u[y]=u[E]-b,l[y]=l[E]-w,u[E]+=b,l[E]+=w,E+=C<<1;m=(k=m)*p-g*v,g=k*v+g*p}C<<=1}E=0;for(var _=i/2;E<_;E++)(n=c*h((t=u[E])*t+(r=l[E])*r))>this.peak&&(this.peakBand=E,this.peak=n),d[E]=n;return d}}class va{static create(e){return{name:"spectrogram",deferInit:!(!e||!e.deferInit)&&e.deferInit,params:e,staticProps:{FFT:pa},instance:va}}constructor(e,t){this.params=e,this.wavesurfer=t,this.util=t.util,this.frequenciesDataUrl=e.frequenciesDataUrl,this._onScroll=e=>{this.updateScroll(e)},this._onRender=()=>{this.render()},this._onWrapperClick=e=>{this._wrapperClickHandler(e)},this._onReady=()=>{const r=this.drawer=t.drawer;if(this.container="string"==typeof e.container?document.querySelector(e.container):e.container,!this.container)throw Error("No container for WaveSurfer spectrogram");if(e.colorMap){if(e.colorMap.length<256)throw new Error("Colormap must contain 256 elements");for(let t=0;t<e.colorMap.length;t++){if(4!==e.colorMap[t].length)throw new Error("ColorMap entries must contain 4 values")}this.colorMap=e.colorMap}else{this.colorMap=[];for(let e=0;e<256;e++){const t=(255-e)/256;this.colorMap.push([t,t,t,1])}}this.width=r.width,this.pixelRatio=this.params.pixelRatio||t.params.pixelRatio,this.fftSamples=this.params.fftSamples||t.params.fftSamples||512,this.height=this.fftSamples/2,this.noverlap=e.noverlap,this.windowFunc=e.windowFunc,this.alpha=e.alpha,this.createWrapper(),this.createCanvas(),this.render(),r.wrapper.addEventListener("scroll",this._onScroll),t.on("redraw",this._onRender)}}init(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}destroy(){this.unAll(),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("redraw",this._onRender),this.drawer&&this.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wavesurfer=null,this.util=null,this.params=null,this.wrapper&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}createWrapper(){const e=this.container.querySelector("spectrogram");e&&this.container.removeChild(e);const t=this.wavesurfer.params;if(this.wrapper=document.createElement("spectrogram"),this.params.labels){const e=this.labelsEl=document.createElement("canvas");e.classList.add("spec-labels"),this.drawer.style(e,{left:0,position:"absolute",zIndex:9,height:this.height/this.pixelRatio+"px",width:55/this.pixelRatio+"px"}),this.wrapper.appendChild(e),this.loadLabels("rgba(68,68,68,0.5)","12px","10px","","#fff","#f7f7f7","center","#specLabels")}this.drawer.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.height/this.pixelRatio+"px"}),(t.fillParent||t.scrollParent)&&this.drawer.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.container.appendChild(this.wrapper),this.wrapper.addEventListener("click",this._onWrapperClick)}_wrapperClickHandler(e){e.preventDefault();const t="offsetX"in e?e.offsetX:e.layerX;this.fireEvent("click",t/this.width||0)}createCanvas(){const e=this.canvas=this.wrapper.appendChild(document.createElement("canvas"));this.spectrCc=e.getContext("2d"),this.util.style(e,{position:"absolute",zIndex:4})}render(){this.updateCanvasStyle(),this.frequenciesDataUrl?this.loadFrequenciesData(this.frequenciesDataUrl):this.getFrequencies(this.drawSpectrogram)}updateCanvasStyle(){const e=Math.round(this.width/this.pixelRatio)+"px";this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=e}drawSpectrogram(e,t){t.spectrCc,t.wavesurfer.backend.getDuration();const r=t.height,n=t.resample(e),i=t.buffer?2/t.buffer.numberOfChannels:1;let a,o;for(a=0;a<n.length;a++)for(o=0;o<n[a].length;o++){const e=t.colorMap[n[a][o]];t.spectrCc.fillStyle="rgba("+256*e[0]+", "+256*e[1]+", "+256*e[2]+","+e[3]+")",t.spectrCc.fillRect(a,r-o*i,1,i)}}getFrequencies(e){const t=this.fftSamples,r=this.buffer=this.wavesurfer.backend.buffer,n=r.getChannelData(0),i=(r.length,r.sampleRate),a=[];if(!r)return void this.fireEvent("error","Web Audio buffer is not available");let o=this.noverlap;if(!o){const e=r.length/this.canvas.width;o=Math.max(0,Math.round(t-e))}const s=new pa(t,i,this.windowFunc,this.alpha);let u=0;for(;u+t<n.length;){const e=n.slice(u,u+t),r=s.calculateSpectrum(e),i=new Uint8Array(t/2);let l;for(l=0;l<t/2;l++)i[l]=Math.max(-255,45*Math.log10(r[l]));a.push(i),u+=t-o}e(a,this)}loadFrequenciesData(e){const t=this.util.fetchFile({url:e});return t.on("success",e=>this.drawSpectrogram(JSON.parse(e),this)),t.on("error",e=>this.fireEvent("error",e)),t}freqType(e){return e>=1e3?(e/1e3).toFixed(1):Math.round(e)}unitType(e){return e>=1e3?"KHz":"Hz"}loadLabels(e,t,r,n,i,a,o,s){e=e||"rgba(68,68,68,0)",t=t||"12px",r=r||"10px",n=n||"Helvetica",i=i||"#fff",a=a||"#fff",o=o||"center";const u=this.height||512,l=u/256*5,c=(this.wavesurfer.backend.ac.sampleRate/2-0)/l,h=this.labelsEl.getContext("2d");let d;for(this.labelsEl.height=this.height,this.labelsEl.width=55,h.fillStyle=e,h.fillRect(0,0,55,u),h.fill(),d=0;d<=l;d++){h.textAlign=o,h.textBaseline="middle";const e=0+c*d,s=(Math.round(e/(this.sampleRate/2)*this.fftSamples),this.freqType(e)),l=this.unitType(e),f=2,p=16;let v;0==d?(v=u+d-10,h.fillStyle=a,h.font=r+" "+n,h.fillText(l,p+24,v),h.fillStyle=i,h.font=t+" "+n,h.fillText(s,p,v)):(v=u-50*d+f,h.fillStyle=a,h.font=r+" "+n,h.fillText(l,p+24,v),h.fillStyle=i,h.font=t+" "+n,h.fillText(s,p,v))}}updateScroll(e){this.wrapper&&(this.wrapper.scrollLeft=e.target.scrollLeft)}resample(e){const t=this.width,r=[],n=1/e.length,i=1/t;let a;for(a=0;a<t;a++){const t=new Array(e[0].length);let o;for(o=0;o<e.length;o++){const r=o*n,s=r+n,u=a*i,l=u+i,c=s<=u||l<=r?0:Math.min(Math.max(s,u),Math.max(l,r))-Math.max(Math.min(s,u),Math.min(l,r));let h;if(c>0)for(h=0;h<e[0].length;h++)null==t[h]&&(t[h]=0),t[h]+=c/i*e[o][h]}const s=new Uint8Array(e[0].length);let u;for(u=0;u<e[0].length;u++)s[u]=t[u];r.push(s)}return r}}var ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ya=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wa=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ka=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ca=function(){function e(t,r){var n=this;if(ga(this,e),Ea.call(this),this.container="string"==typeof t.container?document.querySelector(t.container):t.container,!this.container)throw new Error("No container for wavesurfer timeline");this.wavesurfer=r,this.util=r.util,this.params=Object.assign({},{height:20,notchPercentHeight:90,labelPadding:5,unlabeledNotchColor:"#c0c0c0",primaryColor:"#000",secondaryColor:"#c0c0c0",primaryFontColor:"#000",secondaryFontColor:"#000",fontFamily:"Arial",fontSize:10,duration:null,zoomDebounce:!1,formatTimeCallback:this.defaultFormatTimeCallback,timeInterval:this.defaultTimeInterval,primaryLabelInterval:this.defaultPrimaryLabelInterval,secondaryLabelInterval:this.defaultSecondaryLabelInterval,offset:0},t),this.canvases=[],this.wrapper=null,this.drawer=null,this.pixelRatio=null,this.maxCanvasWidth=null,this.maxCanvasElementWidth=null,this._onZoom=this.params.zoomDebounce?this.wavesurfer.util.debounce((function(){return n.render()}),this.params.zoomDebounce):function(){return n.render()}}return ya(e,null,[{key:"create",value:function(t){return{name:"timeline",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,instance:e}}}]),ya(e,[{key:"init",value:function(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}},{key:"destroy",value:function(){this.unAll(),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.un("zoom",this._onZoom),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wrapper&&this.wrapper.parentNode&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}},{key:"createWrapper",value:function(){var e=this.wavesurfer.params;this.container.innerHTML="",this.wrapper=this.container.appendChild(document.createElement("timeline")),this.util.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(e.fillParent||e.scrollParent)&&this.util.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.wrapper.addEventListener("click",this._onWrapperClick)}},{key:"render",value:function(){this.wrapper||this.createWrapper(),this.updateCanvases(),this.updateCanvasesPositioning(),this.renderCanvases()}},{key:"addCanvas",value:function(){var e=this.wrapper.appendChild(document.createElement("canvas"));this.canvases.push(e),this.util.style(e,{position:"absolute",zIndex:4})}},{key:"removeCanvas",value:function(){var e=this.canvases.pop();e.parentElement.removeChild(e)}},{key:"updateCanvases",value:function(){for(var e=Math.round(this.drawer.wrapper.scrollWidth),t=Math.ceil(e/this.maxCanvasElementWidth);this.canvases.length<t;)this.addCanvas();for(;this.canvases.length>t;)this.removeCanvas()}},{key:"updateCanvasesPositioning",value:function(){var e=this,t=this.canvases.length;this.canvases.forEach((function(r,n){var i=n===t-1?e.drawer.wrapper.scrollWidth-e.maxCanvasElementWidth*(t-1):e.maxCanvasElementWidth;r.width=i*e.pixelRatio,r.height=(e.params.height+1)*e.pixelRatio,e.util.style(r,{width:i+"px",height:e.params.height+"px",left:n*e.maxCanvasElementWidth+"px"})}))}},{key:"renderCanvases",value:function(){var e=this,t=this.wavesurfer.timeline.params.duration||this.wavesurfer.backend.getDuration();if(!(t<=0)){var r=this.wavesurfer.params,n=this.params.fontSize*r.pixelRatio,i=parseInt(t,10)+1,a=r.fillParent&&!r.scrollParent?this.drawer.getWidth():this.drawer.wrapper.scrollWidth*r.pixelRatio,o=this.params.height*this.pixelRatio,s=this.params.height*(this.params.notchPercentHeight/100)*this.pixelRatio,u=a/t,l=this.params.formatTimeCallback,c=function(e){return"function"==typeof e?e(u):e},h=c(this.params.timeInterval),d=c(this.params.primaryLabelInterval),f=c(this.params.secondaryLabelInterval),p=u*this.params.offset,v=0,m=void 0,g=[];for(m=0;m<i/h;m++)g.push([m,v,p]),v+=h,p+=u*h;var y=function(e){g.forEach((function(t){e(t[0],t[1],t[2])}))};this.setFillStyles(this.params.primaryColor),this.setFonts(n+"px "+this.params.fontFamily),this.setFillStyles(this.params.primaryFontColor),y((function(t,r,n){t%d==0&&(e.fillRect(n,0,1,o),e.fillText(l(r,u),n+e.params.labelPadding*e.pixelRatio,o))})),this.setFillStyles(this.params.secondaryColor),this.setFonts(n+"px "+this.params.fontFamily),this.setFillStyles(this.params.secondaryFontColor),y((function(t,r,n){t%f==0&&(console.log(),e.fillRect(n,0,1,o),e.fillText(l(r,u),n+e.params.labelPadding*e.pixelRatio,o))})),this.setFillStyles(this.params.unlabeledNotchColor),y((function(t,r,n){t%f!=0&&t%d!=0&&e.fillRect(n,0,1,s)}))}}},{key:"setFillStyles",value:function(e){this.canvases.forEach((function(t){t.getContext("2d").fillStyle=e}))}},{key:"setFonts",value:function(e){this.canvases.forEach((function(t){t.getContext("2d").font=e}))}},{key:"fillRect",value:function(e,t,r,n){var i=this;this.canvases.forEach((function(a,o){var s=o*i.maxCanvasWidth,u={x1:Math.max(e,o*i.maxCanvasWidth),y1:t,x2:Math.min(e+r,o*i.maxCanvasWidth+a.width),y2:t+n};u.x1<u.x2&&a.getContext("2d").fillRect(u.x1-s,u.y1,u.x2-u.x1,u.y2-u.y1)}))}},{key:"fillText",value:function(e,t,r){var n=void 0,i=0;this.canvases.forEach((function(a){var o=a.getContext("2d"),s=o.canvas.width;i>t+n||(i+s>t&&(n=o.measureText(e).width,o.fillText(e,t-i,r)),i+=s)}))}},{key:"defaultFormatTimeCallback",value:function(e,t){return e/60>1?parseInt(e/60,10)+":"+(e=(e=parseInt(e%60,10))<10?"0"+e:e):Math.round(1e3*e)/1e3}},{key:"defaultTimeInterval",value:function(e){return e>=25?1:5*e>=25?5:15*e>=25?15:60*Math.ceil(.5/e)}},{key:"defaultPrimaryLabelInterval",value:function(e){return e>=25?10:5*e>=25?6:4}},{key:"defaultSecondaryLabelInterval",value:function(e){return e>=25?5:2}}]),e}(),Ea=function(){var e=this;this._onScroll=function(){e.wrapper&&e.drawer.wrapper&&(e.wrapper.scrollLeft=e.drawer.wrapper.scrollLeft)},this._onRedraw=function(){return e.render()},this._onReady=function(){var t=e.wavesurfer;e.drawer=t.drawer,e.pixelRatio=t.drawer.params.pixelRatio,e.maxCanvasWidth=t.drawer.maxCanvasWidth||t.drawer.width,e.maxCanvasElementWidth=t.drawer.maxCanvasElementWidth||Math.round(e.maxCanvasWidth/e.pixelRatio),t.drawer.wrapper.addEventListener("scroll",e._onScroll),t.on("redraw",e._onRedraw),t.on("zoom",e._onZoom),e.render()},this._onWrapperClick=function(t){t.preventDefault();var r="offsetX"in t?t.offsetX:t.layerX;e.fireEvent("click",r/e.wrapper.scrollWidth||0)}};function xa(e,t,r){e.on(t,r)}function _a(e,t,r){if(t instanceof window.HTMLElement)e.loadMediaElement(t,r);else if("string"==typeof t)e.load(t,r);else{if(!(t instanceof window.Blob||t instanceof window.File))throw new Error("Wavesurfer._loadAudio expects prop audioFile\n        to be either HTMLElement, string or file/blob");e.loadBlob(t,r)}}function Pa(e){return e.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")}function Oa(e,t,r){var n=e[t];return void 0!==n&&("number"!=typeof n||n!==parseInt(n,10)||n<0)?new Error("Invalid "+t+" supplied to "+r+",\n      expected a positive integer"):null}function ja(e,t,r){if(t instanceof window.HTMLElement)_a(e,t,r);else{if(!window.document.querySelector(t))throw new Error("Media Element not found!");_a(e,window.document.querySelector(t),r)}}var Sa=["audioprocess","destroy","error","finish","interaction","loading","mute","pause","play","ready","scroll","seek","volume","waveform-ready","zoom"],Ra={AUDIO_PROCESS:Sa[0],DESTROY:Sa[1],ERROR:Sa[2],FINISH:Sa[3],INTERACTION:Sa[4],LOADING:Sa[5],MUTE:Sa[6],PAUSE:Sa[7],PLAY:Sa[8],READY:Sa[9],SCROLL:Sa[10],SEEK:Sa[11],VOLUME:Sa[12],WAVEFORM_READY:Sa[13],ZOOM:Sa[14]},Ma=["region-in","region-out","region-removed","region-updated","region-mouseenter","region-mouseleave","region-click","region-dblclick","region-update-end","region-play"],Aa=["in","out","remove","update","update-end","click","dbclick","over","leave"],Ta=function(e){function t(e){ga(this,t);var r=ka(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(r.state={isReady:!1},void 0===(void 0===ca?"undefined":ma(ca)))throw new Error("WaveSurfer is undefined!");return r}return wa(t,e),ya(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.options,n=t.spectrogramOptions,i=t.timelineOptions;r.plugins=[fa.create()],this.props.micCallback&&r.plugins.push(ha.create()),n&&r.plugins.push(va.create({container:n.container,colorMap:n.colorMap,pixelRatio:n.pixelRatio,fftSamples:n.fftSamples,noverlap:n.noverlap,windowFunc:n.windowFunc,alpha:n.alpha,deferInit:n.deferInit,labels:n.labels})),i&&r.plugins.push(Ca.create({container:i.container,pixelRatio:i.pixelRatio,zoomDebounce:i.zoomDebounce,height:i.height||50,duration:i.duration,notchPercentHeight:i.notchPercentHeight,timeInterval:i.timeInterval,primaryLabelInterval:i.primaryLabelInterval,secondaryLabelInterval:i.secondaryLabelInterval,offset:i.offset,primaryColor:i.primaryColor,fontSize:i.fontSize,fontFamily:i.fontFamily,primaryFontColor:i.primaryFontColor,labelPadding:i.labelPadding,unlabeledNotchColor:i.unlabeledNotchColor})),this._wavesurfer=ca.create(ba({},r,{container:this.wavesurferEl})),this.props.micCallback&&(this._wavesurfer.microphone.on("deviceReady",(function(t){e.props.micCallback({stream:t})})),this._wavesurfer.microphone.on("deviceError",(function(t){e.props.micCallback({error:t})})),this.props.micCallback({micInstance:this._wavesurfer.microphone})),xa(this._wavesurfer,Ra.AUDIO_PROCESS,(function(t){Math.ceil(t)!==Math.ceil(e.props.pos)&&e.props.onPosChange({wavesurfer:e._wavesurfer,originalArgs:[Math.ceil(t)]})})),xa(this._wavesurfer,Ra.SEEK,(function(t){var r=e._wavesurfer.getDuration();Math.ceil(r*t)!==Math.ceil(e.props.pos)&&e.props.onPosChange({wavesurfer:e._wavesurfer,originalArgs:[Math.ceil(r*t)]})})),xa(this._wavesurfer,Ra.READY,(function(){e.setState({isReady:!0}),e.props.micCallback||function(e,t){var r=e.getDuration()||t.duration,n=function(e,t){return 1/e*t}(r,t.pos);n&&!isNaN(n)?t.autoCenter?e.seekAndCenter(n):e.seekTo(n):r&&t.pos&&e.seekTo(t.pos)}(e._wavesurfer,e.props),e._wavesurfer.setVolume(e.props.volume),e.props.playing&&e._wavesurfer.play(),e._wavesurfer.zoom(e.props.zoom)})),Sa.forEach((function(t){var r=Pa(t),n=e.props["on"+r];n&&xa(e._wavesurfer,t,(function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];if(t===Ra.SEEK){var o=e._wavesurfer.getDuration();n({wavesurfer:e._wavesurfer,pos:Math.ceil(o*i)})}else n(ba({wavesurfer:e._wavesurfer},i))}))})),this.props.audioFile&&_a(this._wavesurfer,this.props.audioFile,this.props.audioPeaks),this.props.mediaElt&&ja(this._wavesurfer,this.props.mediaElt,this.props.audioPeaks)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.audioFile!==e.audioFile&&(this.setState({isReady:!1}),_a(this._wavesurfer,e.audioFile,e.audioPeaks)),this.props.mediaElt!==e.mediaElt&&(this.setState({isReady:!1}),ja(this._wavesurfer,e.mediaElt,e.audioPeaks)),this.props.audioPeaks!==e.audioPeaks&&(e.mediaElt?ja(this._wavesurfer,e.mediaElt,e.audioPeaks):_a(this._wavesurfer,e.audioFile,e.audioPeaks)),e.playing?this._wavesurfer.play():this._wavesurfer.pause(),this.props.volume!==e.volume&&this._wavesurfer.setVolume(e.volume),this.props.zoom!==e.zoom&&this._wavesurfer.zoom(e.zoom),this.props.options.audioRate!==e.options.audioRate&&this._wavesurfer.setPlaybackRate(e.options.audioRate)}},{key:"componentWillUnmount",value:function(){delete this._wavesurfer.backend.buffer,this._wavesurfer.unAll(),this._wavesurfer.destroy()}},{key:"render",value:function(){var e=this,t=!!this.props.children&&r.Children.map(this.props.children,(function(t){return r.cloneElement(t,{wavesurfer:e._wavesurfer,isReady:e.state.isReady})}));return r.createElement("div",{className:"waveform"},r.createElement("div",{className:"wave",ref:function(t){e.wavesurferEl=t}}),this._wavesurfer&&this.state.isReady&&t)}}]),t}(r.Component);var La="styles_reactWaves__1M36F";!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".styles_reactWaves__1M36F {\n  width: 85%;\n  display: inline-block;\n  text-align: center;\n  margin: 2em auto;\n  padding: 4px 15px 0 40px;\n  /* width */\n  /* Track */\n  /* Handle */\n  /* Handle on hover */ }\n  .styles_reactWaves__1M36F ::-webkit-scrollbar {\n    margin-top: 20px;\n    width: 8px;\n    height: 8px; }\n  .styles_reactWaves__1M36F ::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 1px grey;\n    border-radius: 10px; }\n  .styles_reactWaves__1M36F ::-webkit-scrollbar-thumb {\n    background: #4F49E2;\n    border-radius: 10px; }\n  .styles_reactWaves__1M36F ::-webkit-scrollbar-thumb:hover {\n    background: rgba(79, 73, 226, 0.85); }\n");var Da=function(e){function t(){return ga(this,t),ka(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return wa(t,e),ya(t,[{key:"componentDidMount",value:function(){this.props.isReady&&this._init.call(this),this.props.wavesurfer.on("ready",this._init.bind(this))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.isReady){var t=Object.create(this.props.wavesurfer.regions.list),r=void 0,n=void 0;for(r in e.regions)if({}.hasOwnProperty.call(e.regions,r)){var i=e.regions[r];delete t[r],!this.props.wavesurfer.regions.list[r]&&e.wavesurfer&&e.wavesurfer.addRegion?this._hookUpRegionEvents(e.wavesurfer.addRegion(i)):!t[r]||t[r].start===i.start&&t[r].end===i.end||e.wavesurfer.regions.list[r].update({start:i.start,end:i.end})}for(n in t)({}).hasOwnProperty.call(t,n)&&e.wavesurfer.regions.list[n].remove()}}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){var e=this;Aa.forEach((function(t){e.props.wavesurfer.un(t)}))}},{key:"_init",value:function(){var e=this,t=this.props,r=t.wavesurfer,n=t.regions,i=void 0;for(i in Ma.forEach((function(t){var n=e.props["on"+Pa(t)];n&&r.on(t,(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];n({wavesurfer:r,originalArgs:t})}))})),n)({}).hasOwnProperty.call(n,i)&&r&&r.addRegion&&this._hookUpRegionEvents(r.addRegion(n[i]))}},{key:"_hookUpRegionEvents",value:function(e){var t=this;Aa.forEach((function(r){var n=t.props["onSingleRegion"+Pa(r)],i=t.props.wavesurfer;n&&e.on(r,(function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];n({wavesurfer:i,originalArgs:r,region:e})}))})),e.on("remove",(function(){Aa.forEach((function(t){e.un(t)}))}))}},{key:"render",value:function(){return!1}}]),t}(r.Component);Da.propTypes={isReady:t.bool,regions:t.object,wavesurfer:t.object},Da.defaultProps={regions:[]};var za=function(e){function t(e){ga(this,t);var r=ka(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onPosChange=function(e){var t=e.originalArgs&&e.originalArgs[0],n=e.wavesurfer&&e.wavesurfer.getDuration();r.props.onPosChange&&r.props.onPosChange(t,e.wavesurfer),t&&t!==r.state.pos&&r.setState({pos:t,duration:n})},r.state={pos:r.props.pos,duration:r.props.duration},r}return wa(t,e),ya(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.audioFile&&e.audioFile&&this.setState({pos:e.pos,duration:e.duration})}},{key:"render",value:function(){return r.createElement("div",{className:La+(this.props.className?" "+this.props.className:"")},r.createElement(Ta,ba({},this.props,{pos:this.state.pos,duration:this.state.duration,onPosChange:this.onPosChange,playing:this.props.playing})))}}]),t}(r.Component);za.propTypes={playing:t.bool,pos:t.number,audioFile:function(e,t,r){var n=e[t];return!n||"string"==typeof n||n instanceof window.Blob||n instanceof window.File?null:new Error("Invalid "+t+" supplied to "+r+"\n        expected either string or file/blob")},mediaElt:t.oneOfType([t.string,t.instanceOf(window.HTMLElement)]),audioPeaks:t.array,volume:t.number,zoom:t.number,onPosChange:t.func,children:t.oneOfType([t.element,t.array]),options:t.shape({audioRate:t.number,audioContext:t.object,audioScriptProcessor:t.object,autoCenter:t.bool,backend:t.oneOf(["WebAudio","MediaElement","MediaElementWebAudio"]),barGap:Oa,barHeight:Oa,barRadius:Oa,barWidth:function(e,t,r){var n=e[t];return void 0!==n&&"number"!=typeof n?new Error("Invalid "+t+" supplied to "+r+"\n          expected either undefined or number"):null},closeAudioContext:t.bool,cursorColor:t.string,cursorWidth:Oa,fillParent:t.bool,forceDecode:t.bool,height:Oa,hideScrollbar:t.bool,interact:t.bool,loopSelection:t.bool,maxCanvasWidth:Oa,mediaControls:t.bool,mediaType:t.oneOf(["audio","video"]),minPxPerSec:Oa,normalize:t.bool,partialRender:t.bool,pixelRatio:t.number,progressColor:t.string,removeMediaElementOnDestroy:t.bool,renderer:t.object,responsive:t.bool,scrollParent:t.bool,skipLength:t.number,splitChannels:t.bool,waveColor:t.oneOfType([t.string,t.instanceOf(window.CanvasGradient)]),xhr:t.object}),spectrogramOptions:t.object,timelineOptions:t.object},za.defaultProps={audioFile:"",volume:1,zoom:1,options:{barGap:0,barHeight:2,cursorWidth:0,height:200,hideScrollbar:!0,progressColor:"#EC407A",responsive:!0,waveColor:"#D1D6DA"},pos:0,playing:!1};var Ia,Wa=function(e){h(n,e);var t=m(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).state={wavesurfer:null,duration:0},r.onLoading=r.onLoading.bind(p(r)),r.onReady=r.onReady.bind(p(r)),r.getRegions=r.getRegions.bind(p(r)),r._redraw=r._redraw.bind(p(r)),r.redraw=hr(r._redraw,250),r}return o(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.redraw)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.redraw)}},{key:"_redraw",value:function(){var e=this.state.wavesurfer;e&&e.drawBuffer()}},{key:"onLoading",value:function(e){var t=e.wavesurfer;t.toggleInteraction(),this.setState({wavesurfer:t})}},{key:"onReady",value:function(){var e=this.props.onReady,t=this.state.wavesurfer;this.setState({duration:t.getDuration()}),e&&e()}},{key:"getRegions",value:function(){var e=this.state.duration,t=this.props.range;return{cut:{id:"cut",start:t?t[0]:0,end:t?t[1]:e,color:"rgba(146, 210, 117, 0.3)"}}}},{key:"render",value:function(){var e=this.props,t=e.src,n=(e.range,e.className),i=e.height,a=this.getRegions();return r.createElement(za,{audioFile:t,className:n,options:{barGap:3,barWidth:4,barHeight:2,barRadius:3,cursorWidth:0,hideScrollbar:!0,height:i,progressColor:"#46be8ae6",responsive:!0,waveColor:"#D1D6DA"},zoom:1,pos:0,playing:!1,onReady:this.onReady,onLoading:this.onLoading},r.createElement(Da,{regions:a}))}}]),n}(r.Component);function Na(){var e=g(["\n                    ",";\n                    ",";\n                    ",";\n                    ",";\n                    ",";\n                "]);return Na=function(){return e},e}Wa.propTypes={className:t.string,height:t.number,onReady:t.func,range:t.array,src:t.string},Wa.defaultProps={className:"",height:100,onReady:function(){return null},range:null,src:null};var Ba={isURL:Se},Fa={camelCase:Ht,concat:function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return qt(He(r)?er(r):[r],Qt(t,1))},debounce:hr,difference:rn,get:pn,isString:function(e){return"string"==typeof e||!He(e)&&Ke(e)&&"[object String]"==Je(e)},last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},map:function(e,t){return(He(e)?Ve:yi)(e,pi(t))},round:Ci,split:function(e,t,r){return r&&"number"!=typeof r&&function(e,t,r){if(!tr(r))return!1;var n=typeof t;return!!("number"==n?en(r)&&Mn(t,r.length):"string"==n&&t in r)&&Rr(r[t],e)}(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=nt(e))&&("string"==typeof t||null!=t&&!xi(t))&&!(t=rt(t))&&ot(e)?it(gt(e),0,r):e.split(t,r):[]},upperFirst:bt},Ua=function(e){h(n,e);var t=m(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).state={beingDropTarget:!1,height:null,file:null,loaded:!1,mounted:!1,url:"",width:null,imageBackgroundColor:"rgba(0, 0, 0, 0)",imageIsDark:!1,_forceUpdateCounter:0},r.change=r.change.bind(p(r)),r.getFileTypes=r.getFileTypes.bind(p(r)),r.getSrcType=r.getSrcType.bind(p(r)),r.getAcceptedExtensions=r.getAcceptedExtensions.bind(p(r)),r.updateVideoLoop=r.updateVideoLoop.bind(p(r)),r.handleChange=r.handleChange.bind(p(r)),r.handleClick=r.handleClick.bind(p(r)),r.handleCropClick=r.handleCropClick.bind(p(r)),r.handleCutClick=r.handleCutClick.bind(p(r)),r.handleDragLeave=r.handleDragLeave.bind(p(r)),r.handleDragEnter=r.handleDragEnter.bind(p(r)),r.handleMouseOver=r.handleMouseOver.bind(p(r)),r.handleMouseEnter=r.handleMouseEnter.bind(p(r)),r.handleMouseLeave=r.handleMouseLeave.bind(p(r)),r.handleDrop=r.handleDrop.bind(p(r)),r.handleInjectUrlClick=r.handleInjectUrlClick.bind(p(r)),r.handleLoad=r.handleLoad.bind(p(r)),r.handleImageLoad=r.handleImageLoad.bind(p(r)),r.handleAudioLoad=r.handleAudioLoad.bind(p(r)),r.handleVideoLoad=r.handleVideoLoad.bind(p(r)),r.handleVideoPlayerError=r.handleVideoPlayerError.bind(p(r)),r.handleRemoveClick=r.handleRemoveClick.bind(p(r)),r.handleUrlChange=r.handleUrlChange.bind(p(r)),r.get=r.get.bind(p(r)),r.injectUrl=r.injectUrl.bind(p(r)),r.change=r.change.bind(p(r)),r.updateImageBackground=r.updateImageBackground.bind(p(r)),r.updateImageBackgroundInState=r.updateImageBackgroundInState.bind(p(r)),r._forceUpdate=r._forceUpdate.bind(p(r)),r._handleWindowScroll=r._handleWindowScroll.bind(p(r)),r.forceUpdateOnResize=Fa.debounce(r._forceUpdate,250),r.handleWindowScroll=Fa.debounce(r._handleWindowScroll,250),r}return o(n,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.initializeDrag(),this.updateImageBackground(),window.addEventListener("resize",this.forceUpdateOnResize),window.addEventListener("scroll",this.handleWindowScroll)}},{key:"componentDidUpdate",value:function(e){this.props.src!==e.src&&(this.updateImageBackground(),this.audio&&this.playing&&(this.audio.load(),this.audio.play())),this.props.fetching&&!e.fetching&&this.props.src&&e.src===this.props.src&&this.state.loaded&&this.props.onLoad()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.forceUpdateOnResize),window.removeEventListener("scroll",this.handleWindowScroll)}},{key:"_forceUpdate",value:function(){"video"!==this.getSrcType()&&this.setState({_forceUpdateCounter:this.state._forceUpdateCounter++})}},{key:"getFileTypes",value:function(){var e=this.props.fileType;return"string"==typeof e?[e]:e}},{key:"getSrcType",value:function(){var e=this.getFileTypes();return this.guessType(this.props.srcType)||this.guessType(this.props.src)||e[0]}},{key:"getAcceptedExtensions",value:function(){var e=this,t=this.getFileTypes(),r=[];return t.forEach((function(t){e.extensions()[t].forEach((function(e){return r.push(e)}))})),r}},{key:"change",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return null},n=this.props.maxSize,i=this.getFileTypes(),a=this.guessType(e);-1===i.indexOf(a)?this.props.onInvalidFileExtensionError(this.extension(e),this.getAcceptedExtensions()):n&&e.size>=n?this.props.onFileTooLargeError(e.size,n):this.props.onChange(e,t,a),r(e),this.input.value=null,this.xhr&&this.xhr.abort(),this.xhr=null}},{key:"handleChange",value:function(e){var t=Fa.get(e,"target.files.0");t&&this.change(t)}},{key:"handleClick",value:function(e){var t=this,r=this.props.onUploaderClick;r?r().then((function(e){e&&t.change(e)})).catch((function(e){})):this.input.click()}},{key:"handleCropClick",value:function(e){e.stopPropagation(),this.props.onCropClick()}},{key:"handleCutClick",value:function(e){e.stopPropagation(),this.props.onCutClick()}},{key:"handleDragLeave",value:function(){0==--this.dndCounter&&this.setState({beingDropTarget:!1})}},{key:"handleDragEnter",value:function(e){e.preventDefault(),void 0===this.dndCounter&&(this.dndCounter=0),this.dndCounter++,this.setState({beingDropTarget:!0})}},{key:"handleMouseEnter",value:function(){!this.playing&&this.props.hoverPlay&&(this.playing=!0,this.audio&&(this.audio.load(),this.audio.play()),this.video&&this.video.play())}},{key:"handleMouseOver",value:function(){!this.playing&&this.props.hoverPlay&&(this.playing=!0,this.audio&&(this.audio.load(),this.audio.play()),this.video&&this.video.play())}},{key:"handleMouseLeave",value:function(){this.playing&&this.props.hoverPlay&&(this.playing=!1,this.audio&&this.audio.pause(),this.video&&this.video.pause())}},{key:"handleDrop",value:function(e){e.preventDefault(),this.dndCounter=0,this.setState({beingDropTarget:!1});var t=Fa.get(e,"dataTransfer.files.0");t&&this.change(t)}},{key:"handleInjectUrlClick",value:function(){this.injectUrl(this.state.url,!0)}},{key:"_handleWindowScroll",value:function(){var e=this.getSrcType();if(this.video&&"video"===e){var t=this.video.getBoundingClientRect();t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)?this.video.play():this.video.pause()}}},{key:"handleLoad",value:function(){var e=this.props,t=e.onFirstLoad,r=e.onLoad;void 0===this.firstLoadDone&&(this.firstLoadDone=!0,t()),this.setState({loaded:!0},r)}},{key:"updateImageBackground",value:function(){if(this.props.src&&"image"===this.getSrcType()){var e=new Image,t=this.updateImageBackgroundInState;return e.crossOrigin="anonymous",e.onload=function(){var r=(new Ii).getColor(e);if(r){var n=r.isDark,i=r.value,a=n?[235,235,235,1]:[20,20,20,1];i[3]>=242.25&&(a=[i[0],i[1],i[2],.5]),t(a,n)}},e.src=this.props.src,!0}return!1}},{key:"updateImageBackgroundInState",value:function(e,t){this.setState({imageBackgroundColor:"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")"),imageIsDark:t})}},{key:"handleAudioLoad",value:function(){this.handleLoad()}},{key:"handleImageLoad",value:function(){this.handleLoad()}},{key:"handleVideoLoad",value:function(){if(this.video){var e=this.props.onVideoLoad;this.video.addEventListener("timeupdate",this.updateVideoLoop,!1),e(this.video)}this.handleLoad()}},{key:"handleVideoPlayerError",value:function(e){var t=e.target.error;t&&4===t.code&&(0,this.props.onNotSupportedVideoLoad)(t.message)}},{key:"handleRemoveClick",value:function(e){e.stopPropagation(),this.props.onRemoveClick()}},{key:"handleUrlChange",value:function(e){var t=e.target.value;this.setState({url:t})}},{key:"updateVideoLoop",value:function(){var e=this.props.range;this.video&&e&&(this.video.currentTime<e[0]||this.video.currentTime>e[1])&&(this.video.currentTime=e[0])}},{key:"get",value:function(e){var t=this;return new Promise((function(r,n){t.xhr=new XMLHttpRequest,t.xhr.responseType="blob",t.xhr.open("GET",e,!0),t.xhr.onload=function(){200===t.xhr.status?r(t.xhr.response):n(Error(t.xhr.statusText))},t.xhr.onerror=function(){return n(Error("Network Error"))},t.xhr.send()}))}},{key:"injectUrl",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return null};!r||Ba.isURL(e)?this.get(e).then((function(r){var i=Fa.last(Fa.split(e,"/")),a=new File([r],i,{type:r.type});t.change(a,!1,n)})).catch((function(r){t.props.onUrlInjectionError(r,e)})):this.props.onInvalidUrlError(e)}},{key:"render",value:function(){var e=this,t=this.getSrcType(),n=null,i=null,a=this.props.src&&(this.props.removable||this.props.croppable||this.props.cuttable),o=null===this.props.autoPlay?"video"===t:this.props.autoPlay;if(this.props.src){var s=null;if(this.props.imageCrop&&this.cropImg&&("image"===t&&"IMG"===this.cropImg.nodeName||"video"===t&&"VIDEO"===this.cropImg.nodeName)){var l=this.zone.offsetWidth,c=this.zone.offsetHeight,h="video"===t?this.cropImg.videoWidth:this.cropImg.naturalWidth,d="video"===t?this.cropImg.videoHeight:this.cropImg.naturalHeight,f="video"===t?h:this.cropImg.offsetWidth,p="video"===t?d:this.cropImg.offsetHeight,v={x:Math.min(this.props.imageCrop.x,h),y:Math.min(this.props.imageCrop.y,d),width:Math.min(this.props.imageCrop.width,h-this.props.imageCrop.x),height:Math.min(this.props.imageCrop.height,d-this.props.imageCrop.y)},m=f*v.x/h,g=p*v.y/d,y=f*v.width/h,b=p*v.height/d,w=y/b,k=g,C=m+y,E=g+b,x=m,_=null;v.width>0&&v.height>0&&(_="contain"===this.props.backgroundSize?c*w>l?l/y:c/b:c*w>l?c/b:l/y,s={position:"absolute",top:"50%",left:"50%",backgroundColor:this.state.imageIsDark?"white":"black",transformOrigin:"".concat((x+C)/2,"px ").concat((k+E)/2,"px"),transform:"\n                            translateX(-".concat((x+C)/2,"px)\n                            translateY(-").concat((k+E)/2,"px)\n                            scale(").concat(_,")\n                        "),clip:"rect(\n                            ".concat(k,"px\n                            ").concat(C,"px\n                            ").concat(E,"px\n                            ").concat(x,"px)\n                        ")})}switch(t){case"image":n=this.state.loaded&&this.state.mounted&&this.props.imageCrop&&this.zone?fe("img",{alt:"",ref:function(t){return e.cropImg=t},crossOrigin:"anonymous",src:this.props.src,onLoad:this._forceUpdate,style:s}):fe("div",{style:{backgroundColor:this.props.backgroundColor,backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:this.props.backgroundSize,backgroundImage:this.state.loaded?"url(".concat(this.props.src).concat(("boolean"==typeof this.props.corsProof?this.props.corsProof:this.props.corsProof(this.props.src))?"".concat(this.props.src.match(/^http/)?"".concat(this.props.src.includes("?")?"&":"?","xCssCors=1"):""):"",")"):null,position:"relative",width:"100%",height:"100%"}},fe("img",{alt:"",crossOrigin:"anonymous",src:this.props.src,onLoad:this.handleImageLoad,style:{position:"fixed",top:"-9999px",left:"-9999px"}}));break;case"video":n=fe("video",{autoPlay:o,loop:!0,muted:!0,crossOrigin:"anonymous",src:this.props.src,onLoadedData:this.handleVideoLoad,onError:this.handleVideoPlayerError,ref:function(t){return e.video=t},style:s||("cover"===this.props.backgroundSize?{height:"100%"}:{maxHeight:"100%",maxWidth:"100%"})});break;case"audio":n=fe(r.Fragment,{key:this.props.src},fe(Wa,{className:"uploader-waveform",height:this.zone?this.zone.clientHeight:100,range:this.props.range,src:this.props.src,onReady:this.handleAudioLoad}),fe("audio",{autoPlay:o,loop:!0,controls:!0,ref:function(t){return e.audio=t},style:{position:"fixed",top:"-9999px",left:"-9999px"}},fe("source",{src:this.props.src}),"This a debug placeholder."))}}switch(t){case"image":i=fe(De,{className:"uploader-zone-fog-img"});break;case"video":i=fe(Ie,{className:"uploader-zone-fog-img"});break;case"audio":i=fe(ze,{className:"uploader-zone-fog-img"})}return fe("div",u({"data-attr":"root"},Fa.get(this.props.customAttributes,"root",{}),{className:"\n                    uploader\n                    ".concat(Fa.get(this.props.customAttributes,"root.className",""),"\n                "),css:te(Na(),Ce.uploader,this.props.fetching?Ce["uploader/fetching"]:null,this.props.compact?Ce["uploader/compact"]:null,this.props.withUrlInput?Ce["uploader/withUrl"]:null,a?Ce["uploader/withControls"]:null)}),fe("input",{"data-attr":"input",ref:function(t){return e.input=t},type:"file",className:"uploader-input",onChange:this.handleChange}),fe("div",{ref:function(t){return e.zone=t},className:"\n                        uploader-zone\n                        ".concat(this.props.withUrlInput?"uploader-zone/withUrl":"","\n                    "),onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onMouseEnter:this.handleMouseEnter,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onDrop:this.handleDrop,style:this.props.src&&"image"===t?{backgroundColor:this.state.imageBackgroundColor}:null},n,fe("div",{className:"uploader-zone-fog",onClick:this.handleClick},!0===this.props.fetching&&fe("div",{className:"uploader-zone-fog-loader"},this.props.catalogue.loading),fe("div",{className:"uploader-zone-fog-core"},this.props.compact&&(this.props.removable||this.props.croppable||this.props.cuttable)&&this.props.src?null:fe(r.Fragment,null,this.state.beingDropTarget?fe(Re,{className:"uploader-zone-fog-img"}):i,this.props.compact?null:fe("div",{className:"uploader-zone-fog-caption"},"".concat(this.props.catalogue.click).concat(this.props.catalogue.drop?"/".concat(this.props.catalogue.drop):"").concat(this.props.withUrlInput?"/".concat(this.props.catalogue.typeUrl):""))),!0===a&&fe(r.Fragment,null,this.props.compact?null:fe("div",{className:"uploader-zone-fog-or"},fe("div",{className:"uploader-zone-fog-or-wing"}),fe("div",{className:"uploader-zone-fog-or-body"},this.props.catalogue.or),fe("div",{className:"uploader-zone-fog-or-wing"})),fe("div",{className:"uploader-zone-fog-controls"},"image"===t&&!0===this.props.croppable&&fe("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleCropClick},this.props.cropIcon||fe(Ae,null)),("video"===t||"audio"===t)&&!0===this.props.cuttable&&fe("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleCutClick},this.props.cutIcon||fe(Me,null)),!0===this.props.removable&&fe("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleRemoveClick},this.props.removeIcon||fe(Te,null))))),!0===(this.props.src&&this.state.loaded&&null!==this.props.credits)&&fe("span",{className:"uploader-zone-fog-credits",onClick:function(e){return e.stopPropagation()}},this.props.credits))),!0===this.props.withUrlInput&&fe("div",{className:"uploader-url"},fe("input",{className:"uploader-url-input",name:"url",value:this.state.url,placeholder:this.props.catalogue.urlInputPlaceholder,type:"text",onChange:this.handleUrlChange,onKeyPress:function(t){13===t.which&&(t.preventDefault(),e.handleInjectUrlClick())}}),fe("span",{className:"uploader-url-addon",onClick:this.handleInjectUrlClick},fe(Le,{className:"uploader-url-addon-icon"}),this.props.catalogue.urlSubmitText)))}},{key:"base64MimeType",value:function(e){var t=null;if("string"!=typeof e)return t;var r=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return r&&r.length&&(t=r[1]),t}},{key:"isBase64",value:function(e){return null!==this.base64MimeType(e)}},{key:"extension",value:function(e){return e=Fa.isString(e)?e:e.name,Fa.last(Fa.split(Fa.split(e,"?")[0],"."))}},{key:"extensions",value:function(){return{video:We.video.extensions,image:We.image.extensions,audio:We.audio.extensions}}},{key:"mimeTypes",value:function(){return{video:We.video.mimeTypes,image:We.image.mimeTypes,audio:We.audio.mimeTypes}}},{key:"guessType",value:function(e){if(!e)return null;if(!(e=this.base64MimeType(e)||this.extension(e)).match(/\//)){var t=this.extensions();for(var r in t){if(-1!==Fa.concat(t[r],Fa.map(t[r],(function(e){return e.toUpperCase()}))).indexOf(e))return r}}else{var n=this.mimeTypes();for(var i in n){if(-1!==n[i].indexOf(e))return i}}return null}},{key:"humanSize",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=["B","KB","MB","GB","TB"],n=r.length-1;n>=0;n--){var i=1*e/Math.pow(1024,n);if(i>=1)return t&&(i=Fa.round(i)),"".concat(i," ").concat(r[n])}}},{key:"initializeDrag",value:function(){window.addEventListener("dragover",(function(e){(e=e||event).preventDefault()}),!1),window.addEventListener("drop",(function(e){(e=e||event).preventDefault()}),!1)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return c(c({},e.src!==Fa.get(t,"_src")?{_src:e.src}:null),e.src!==Fa.get(t,"_src")?{loaded:!1,_forceUpdateCounter:0}:null)}}]),n}(r.Component);return Ua.propTypes=(s(Ia={autoPlay:t.bool,backgroundColor:t.string,backgroundSize:t.oneOf(["contain","cover"]),catalogue:function(e,t,r){var i=e[t],a=Object.keys(e[t]),o=Object.keys(Ua.defaultProps[t]);if(!i||"object"!==n(i))throw new Error("Catalogue must be an object.");var s=Fa.difference(o,a);if(s.length)throw new Error("Given catalogue is insufficient. Missing keys: "+JSON.stringify(s))},compact:t.bool,corsProof:t.oneOfType([t.bool,t.func]),credits:t.oneOfType([t.string,t.node]),croppable:t.bool,customAttributes:t.object,cuttable:t.bool,fileType:t.oneOfType([t.array,t.string]),hoverPlay:t.bool,imageCrop:t.object,maxSize:t.number,onChange:t.func,onCropClick:t.func,onCutClick:t.func,onFileTooLargeError:t.func,onFirstLoad:t.func,onInvalidFileExtensionError:t.func,onInvalidUrlError:t.func,onLoad:t.func,onRemoveClick:t.func,onUploaderClick:t.func,onUrlInjectionError:t.func},"onCutClick",t.func),s(Ia,"onVideoLoad",t.func),s(Ia,"range",t.array),s(Ia,"removable",t.bool),s(Ia,"src",t.string),s(Ia,"srcType",t.string),s(Ia,"withUrlInput",t.bool),Ia),Ua.defaultProps={autoPlay:null,backgroundColor:"transparent",backgroundSize:"cover",catalogue:{click:null,drop:null,typeUrl:null,loading:null,or:null,urlInputPlaceholder:null,urlSubmitText:null},compact:!1,corsProof:!0,credits:null,croppable:!1,cropIcon:null,customAttributes:{},cuttable:!1,cutIcon:null,fileType:"image",hoverPlay:!0,imageCrop:null,maxSize:1e7,onChange:function(e,t,r){return null},onCropClick:function(){return null},onFileTooLargeError:function(e,t){return null},onFirstLoad:function(){return null},onInvalidFileExtensionError:function(e,t){return null},onInvalidUrlError:function(e){return null},onLoad:function(){return null},onNotSupportedVideoLoad:function(){return null},onRemoveClick:function(){return null},onUploaderClick:null,onUrlInjectionError:function(e,t){return null},onCutClick:function(){return null},onVideoLoad:function(){return null},range:null,removable:!1,removeIcon:null,src:null,srcType:null,withUrlInput:!1},Ua}));
