import e,{createContext as t,forwardRef as r,createElement as n,Fragment as o,Component as i}from"react";import a from"prop-types";import s from"validator/lib/isURL";import c from"lodash-es/camelCase";import l from"lodash-es/concat";import u from"lodash-es/debounce";import d from"lodash-es/difference";import h from"lodash-es/get";import p from"lodash-es/isString";import f from"lodash-es/last";import g from"lodash-es/map";import m from"lodash-es/round";import v from"lodash-es/split";import y from"lodash-es/upperFirst";import b from"browser-image-compression";import w from"@wavesurfer/react";function x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k(e,t){return e(t={exports:{}},t.exports),t.exports}var E=k((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports}));x(E);var _=k((function(e){e.exports=function(e){if(Array.isArray(e))return E(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));x(_);var C=k((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));x(C);var O=k((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}));x(O);var z=k((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}));x(z);var L=x(k((function(e){e.exports=function(e){return _(e)||C(e)||O(e)||z()},e.exports.__esModule=!0,e.exports.default=e.exports}))),A=x(k((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),S=x(k((function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports}))),M=x(k((function(e){function t(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=e.apply(r,n);function s(e){t(a,o,i,s,c,"next",e)}function c(e){t(a,o,i,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}))),j=x(k((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}))),T=x(k((function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),P=k((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports})),N=x(P),D=k((function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));x(D);var R=x(k((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),I=k((function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));x(I);var U=x(k((function(e){var t=I.default;e.exports=function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return P(e)},e.exports.__esModule=!0,e.exports.default=e.exports}))),B=x(k((function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),V=x(k((function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}))),H=k((function(e){var t=function(e){var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function d(){}function h(){}function p(){}var f={};s(f,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(_([])));m&&m!==t&&r.call(m,o)&&(f=m);var v=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,s){var c=l(e[o],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=p,s(v,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),s(v,a,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(){function e(e){this.isSpeedy=void 0===e.speedy?"production"===process.env.NODE_ENV:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(t){"production"!==process.env.NODE_ENV&&console.warn('There was a problem inserting the following rule: "'+e+'"',t)}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();function $(e){function t(e,t,n){var o=t.trim().split(f);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=r(e,t[s],n).trim();break;default:var c=s=0;for(t=[];s<i;++s)for(var l=0;l<a;++l)t[c++]=r(e[l]+" ",o[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,i){var a=e+";",s=2*t+3*r+4*i;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===A||2===A&&o(c,1)?"-webkit-"+c+c:c}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return h.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(b,"tb");break;case 232:c=a.replace(b,"tb-rl");break;case 220:c=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(k,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(k,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,i).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),T(2!==t?n:n.replace(E,"$1"),r,t)}function i(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(x," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,o,i,a,s,l,u){for(var d,h=0,p=t;h<j;++h)switch(d=M[h].call(c,e,p,r,n,o,i,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function s(e){return void 0!==(e=e.prefix)&&(T=null,e?"function"!=typeof e?A=1:(A=2,T=e):A=0),s}function c(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<j){var c=a(-1,r,s,s,z,O,0,0,0,0);void 0!==c&&"string"==typeof c&&(r=c)}var d=function e(r,s,c,d,h){for(var p,f,g,b,x,k=0,E=0,_=0,C=0,M=0,T=0,N=g=p=0,D=0,R=0,I=0,U=0,B=c.length,V=B-1,H="",F="",W="",$="";D<B;){if(f=c.charCodeAt(D),D===V&&0!==E+C+_+k&&(0!==E&&(f=47===E?10:47),C=_=k=0,B++,V++),0===E+C+_+k){if(D===V&&(0<R&&(H=H.replace(u,"")),0<H.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:H+=c.charAt(D)}f=59}switch(f){case 123:for(p=(H=H.trim()).charCodeAt(0),g=1,U=++D;D<B;){switch(f=c.charCodeAt(D)){case 123:g++;break;case 125:g--;break;case 47:switch(f=c.charCodeAt(D+1)){case 42:case 47:e:{for(N=D+1;N<V;++N)switch(c.charCodeAt(N)){case 47:if(42===f&&42===c.charCodeAt(N-1)&&D+2!==N){D=N+1;break e}break;case 10:if(47===f){D=N+1;break e}}D=N}}break;case 91:f++;case 40:f++;case 34:case 39:for(;D++<V&&c.charCodeAt(D)!==f;);}if(0===g)break;D++}switch(g=c.substring(U,D),0===p&&(p=(H=H.replace(l,"").trim()).charCodeAt(0)),p){case 64:switch(0<R&&(H=H.replace(u,"")),f=H.charCodeAt(1)){case 100:case 109:case 115:case 45:R=s;break;default:R=S}if(U=(g=e(s,R,g,f,h+1)).length,0<j&&(x=a(3,g,R=t(S,H,I),s,z,O,U,f,h,d),H=R.join(""),void 0!==x&&0===(U=(g=x.trim()).length)&&(f=0,g="")),0<U)switch(f){case 115:H=H.replace(w,i);case 100:case 109:case 45:g=H+"{"+g+"}";break;case 107:g=(H=H.replace(m,"$1 $2"))+"{"+g+"}",g=1===A||2===A&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=H+g,112===d&&(F+=g,g="")}else g="";break;default:g=e(s,t(s,H,I),g,d,h+1)}W+=g,g=I=R=N=p=0,H="",f=c.charCodeAt(++D);break;case 125:case 59:if(1<(U=(H=(0<R?H.replace(u,""):H).trim()).length))switch(0===N&&(p=H.charCodeAt(0),45===p||96<p&&123>p)&&(U=(H=H.replace(" ",":")).length),0<j&&void 0!==(x=a(1,H,s,r,z,O,F.length,d,h,d))&&0===(U=(H=x.trim()).length)&&(H="\0\0"),p=H.charCodeAt(0),f=H.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){$+=H+c.charAt(D);break}default:58!==H.charCodeAt(U-1)&&(F+=n(H,p,f,H.charCodeAt(2)))}I=R=N=p=0,H="",f=c.charCodeAt(++D)}}switch(f){case 13:case 10:47===E?E=0:0===1+p&&107!==d&&0<H.length&&(R=1,H+="\0"),0<j*P&&a(0,H,s,r,z,O,F.length,d,h,d),O=1,z++;break;case 59:case 125:if(0===E+C+_+k){O++;break}default:switch(O++,b=c.charAt(D),f){case 9:case 32:if(0===C+k+E)switch(M){case 44:case 58:case 9:case 32:b="";break;default:32!==f&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===C+E+k&&(R=I=1,b="\f"+b);break;case 108:if(0===C+E+k+L&&0<N)switch(D-N){case 2:112===M&&58===c.charCodeAt(D-3)&&(L=M);case 8:111===T&&(L=T)}break;case 58:0===C+E+k&&(N=D);break;case 44:0===E+_+C+k&&(R=1,b+="\r");break;case 34:case 39:0===E&&(C=C===f?0:0===C?f:C);break;case 91:0===C+E+_&&k++;break;case 93:0===C+E+_&&k--;break;case 41:0===C+E+k&&_--;break;case 40:if(0===C+E+k){if(0===p)switch(2*M+3*T){case 533:break;default:p=1}_++}break;case 64:0===E+_+C+k+N+g&&(g=1);break;case 42:case 47:if(!(0<C+k+_))switch(E){case 0:switch(2*f+3*c.charCodeAt(D+1)){case 235:E=47;break;case 220:U=D,E=42}break;case 42:47===f&&42===M&&U+2!==D&&(33===c.charCodeAt(U+2)&&(F+=c.substring(U,D+1)),b="",E=0)}}0===E&&(H+=b)}T=M,M=f,D++}if(0<(U=F.length)){if(R=s,0<j&&(void 0!==(x=a(2,F,R,r,z,O,U,d,h,d))&&0===(F=x).length))return $+F+W;if(F=R.join(",")+"{"+F+"}",0!=A*L){switch(2!==A||o(F,2)||(L=0),L){case 111:F=F.replace(y,":-moz-$1")+F;break;case 112:F=F.replace(v,"::-webkit-input-$1")+F.replace(v,"::-moz-$1")+F.replace(v,":-ms-input-$1")+F}L=0}}return $+F+W}(S,s,r,0,0);return 0<j&&(void 0!==(c=a(-2,d,s,s,z,O,d.length,0,0,0))&&(d=c)),"",L=0,O=z=1,d}var l=/^\0+/g,u=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,f=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,k=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,O=1,z=1,L=0,A=1,S=[],M=[],j=0,T=null,P=0;return c.use=function e(t){switch(t){case void 0:case null:j=M.length=0;break;default:if("function"==typeof t)M[j++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else P=0|!!t}return e},c.set=s,void 0!==e&&s(e),c}var q=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}};function G(e){e&&Y.current.insert(e+"}")}var Y={current:null},Z=function(e,t,r,n,o,i,a,s,c,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return Y.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+"/*|*/";break;case 3:switch(s){case 102:case 112:return Y.current.insert(r[0]+t),"";default:return t+(0===l?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(G)}},X=function(e,t){if(1===e&&108===t.charCodeAt(0)&&98===t.charCodeAt(2))return""},J="undefined"!=typeof document,K={},Q=J?void 0:q((function(){var e=q((function(){return{}})),t={},r={};return function(n){return void 0===n||!0===n?t:!1===n?r:e(n)}})),ee=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new $(t);if("production"!==process.env.NODE_ENV&&/[^a-z-]/.test(r))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+r+'" was passed');var o,i,a={};if(J){o=e.container||document.head;var s=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(s,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){a[e]=!0})),e.parentNode!==o&&o.appendChild(e)}))}if(J)n.use(e.stylisPlugins)(Z),i=function(e,t,r,o){var i=t.name;if(Y.current=r,"production"!==process.env.NODE_ENV&&void 0!==t.map){var a=t.map;Y.current={insert:function(e){r.insert(e+a)}}}n(e,t.styles),o&&(d.inserted[i]=!0)};else{n.use(X);var c=K;(e.stylisPlugins||void 0!==e.prefix)&&(n.use(e.stylisPlugins),c=Q(e.stylisPlugins||K)(e.prefix));i=function(e,t,r,o){var i=t.name,a=function(e,t){var r=t.name;return void 0===c[r]&&(c[r]=n(e,t.styles)),c[r]}(e,t);return void 0===d.compat?(o&&(d.inserted[i]=!0),"development"===process.env.NODE_ENV&&void 0!==t.map?a+t.map:a):o?void(d.inserted[i]=a):a}}if("production"!==process.env.NODE_ENV){var l=/\/\*/g,u=/\*\//g;n.use((function(e,t){switch(e){case-1:for(;l.test(t);){if(u.lastIndex=l.lastIndex,!u.test(t))throw new Error('Your styles have an unterminated comment ("/*" without corresponding "*/").');l.lastIndex=u.lastIndex}l.lastIndex=0}})),n.use((function(e,t,r){switch(e){case-1:var n=t.match(/(:first|:nth|:nth-last)-child/g);n&&!0!==d.compat&&n.forEach((function(e){var r=new RegExp(e+".*\\/\\* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason \\*\\/").test(t);e&&!r&&console.error('The pseudo class "'+e+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+e.split("-child")[0]+'-of-type".')}))}}))}var d={key:r,sheet:new W({key:r,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:a,registered:{},insert:i};return d},te="undefined"!=typeof document;function re(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var ne=function(e,t,r){var n=e.key+"-"+t.name;if((!1===r||!1===te&&void 0!==e.compat)&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var o="",i=t;do{var a=e.insert("."+n,i,e.sheet,!0);te||void 0===a||(o+=a),i=i.next}while(void 0!==i);if(!te&&0!==o.length)return o}};var oe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ie,ae,se="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences",ce=/[A-Z]|^ms/g,le=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ue=function(e){return 45===e.charCodeAt(1)},de=function(e){return null!=e&&"boolean"!=typeof e},he=(ie=function(e){return ue(e)?e:e.replace(ce,"-$&").toLowerCase()},ae={},function(e){return void 0===ae[e]&&(ae[e]=ie(e)),ae[e]}),pe=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(le,(function(e,t,r){return Ee={name:t,styles:r,next:Ee},t}))}return 1===oe[e]||ue(e)||"number"!=typeof t||0===t?t:t+"px"};if("production"!==process.env.NODE_ENV){var fe=/(attr|calc|counters?|url)\(/,ge=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit","unset"],me=pe,ve=/^-ms-/,ye=/-(.)/g,be={};pe=function(e,t){"content"===e&&("string"!=typeof t||-1===ge.indexOf(t)&&!fe.test(t)&&(t.charAt(0)!==t.charAt(t.length-1)||'"'!==t.charAt(0)&&"'"!==t.charAt(0)))&&console.error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+t+"\"'`");var r=me(e,t);return""===r||ue(e)||-1===e.indexOf("-")||void 0!==be[e]||(be[e]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+e.replace(ve,"ms-").replace(ye,(function(e,t){return t.toUpperCase()}))+"?")),r}}var we=!0;function xe(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles){if("production"!==process.env.NODE_ENV&&"NO_COMPONENT_SELECTOR"===r.toString())throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");return r}switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return Ee={name:r.name,styles:r.styles,next:Ee},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)Ee={name:o.name,styles:o.styles,next:Ee},o=o.next;var i=r.styles+";";return"production"!==process.env.NODE_ENV&&void 0!==r.map&&(i+=r.map),i}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=xe(e,t,r[o],!1);else for(var i in r){var a=r[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=i+"{"+t[a]+"}":de(a)&&(n+=he(i)+":"+pe(i,a)+";");else{if("NO_COMPONENT_SELECTOR"===i&&"production"!==process.env.NODE_ENV)throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=xe(e,t,a,!1);switch(i){case"animation":case"animationName":n+=he(i)+":"+s+";";break;default:"production"!==process.env.NODE_ENV&&"undefined"===i&&console.error("You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key)."),n+=i+"{"+s+"}"}}else for(var c=0;c<a.length;c++)de(a[c])&&(n+=he(i)+":"+pe(i,a[c])+";")}}return n}(e,t,r);case"function":if(void 0!==e){var a=Ee,s=r(e);return Ee=a,xe(e,t,s,n)}"production"!==process.env.NODE_ENV&&console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break;case"string":if("production"!==process.env.NODE_ENV){var c=[],l=r.replace(le,(function(e,t,r){var n="animation"+c.length;return c.push("const "+n+" = keyframes`"+r.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+n+"}"}));c.length&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(c,["`"+l+"`"]).join("\n")+"\n\nYou should wrap it with `css` like this:\n\ncss`"+l+"`")}}if(null==t)return r;var u=t[r];return"production"!==process.env.NODE_ENV&&n&&we&&void 0!==u&&(console.error("Interpolating a className from css`` is not recommended and will cause problems with composition.\nInterpolating a className from css`` will be completely unsupported in a future major version of Emotion"),we=!1),void 0===u||n?r:u}var ke,Ee,_e=/label:\s*([^\s;\n{]+)\s*;/g;"production"!==process.env.NODE_ENV&&(ke=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//);var Ce=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";Ee=void 0;var i,a=e[0];null==a||void 0===a.raw?(n=!1,o+=xe(r,t,a,!1)):("production"!==process.env.NODE_ENV&&void 0===a[0]&&console.error(se),o+=a[0]);for(var s=1;s<e.length;s++)o+=xe(r,t,e[s],46===o.charCodeAt(o.length-1)),n&&("production"!==process.env.NODE_ENV&&void 0===a[s]&&console.error(se),o+=a[s]);"production"!==process.env.NODE_ENV&&(o=o.replace(ke,(function(e){return i=e,""}))),_e.lastIndex=0;for(var c,l="";null!==(c=_e.exec(o));)l+="-"+c[1];var u=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(o)+l;return"production"!==process.env.NODE_ENV?{name:u,styles:o,map:i,next:Ee,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}:{name:u,styles:o,next:Ee}},Oe="undefined"!=typeof document,ze=Object.prototype.hasOwnProperty,Le=t("undefined"!=typeof HTMLElement?ee():null),Ae=t({}),Se=(Le.Provider,function(e){return r((function(t,r){return n(Le.Consumer,null,(function(n){return e(t,n,r)}))}))});if(!Oe){var Me=function(e){var t,r;function o(t,r,n){var o;return(o=e.call(this,t,r,n)||this).state={value:ee()},o}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,F(t,r),o.prototype.render=function(){return n(Le.Provider,this.state,this.props.children(this.state.value))},o}(i);Se=function(e){return function(t){return n(Le.Consumer,null,(function(r){return null===r?n(Me,null,(function(r){return e(t,r)})):e(t,r)}))}}}var je="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Te="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",Pe=function(e,t){if("production"!==process.env.NODE_ENV&&"string"==typeof t.css&&-1!==t.css.indexOf(":"))throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css`"+t.css+"`");var r={};for(var n in t)ze.call(t,n)&&(r[n]=t[n]);if(r[je]=e,"production"!==process.env.NODE_ENV){var o=new Error;if(o.stack){var i=o.stack.match(/at (?:Object\.|Module\.|)(?:jsx|createEmotionProps).*\n\s+at (?:Object\.|)([A-Z][A-Za-z$]+) /);i||(i=o.stack.match(/.*\n([A-Z][A-Za-z$]+)@/)),i&&(r[Te]=i[1].replace(/\$/g,"-"))}}return r},Ne=function(){return null},De=function(e,t,r,i){var a=null===r?t.css:t.css(r);"string"==typeof a&&void 0!==e.registered[a]&&(a=e.registered[a]);var s=t[je],c=[a],l="";"string"==typeof t.className?l=re(e.registered,c,t.className):null!=t.className&&(l=t.className+" ");var u=Ce(c);if("production"!==process.env.NODE_ENV&&-1===u.name.indexOf("-")){var d=t[Te];d&&(u=Ce([u,"label:"+d+";"]))}var h=ne(e,u,"string"==typeof s);l+=e.key+"-"+u.name;var p={};for(var f in t)!ze.call(t,f)||"css"===f||f===je||"production"!==process.env.NODE_ENV&&f===Te||(p[f]=t[f]);p.ref=i,p.className=l;var g=n(s,p),m=n(Ne,null);if(!Oe&&void 0!==h){for(var v,y=u.name,b=u.next;void 0!==b;)y+=" "+b.name,b=b.next;m=n("style",((v={})["data-emotion-"+e.key]=y,v.dangerouslySetInnerHTML={__html:h},v.nonce=e.sheet.nonce,v))}return n(o,null,m,g)},Re=Se((function(e,t,r){return"function"==typeof e.css?n(Ae.Consumer,null,(function(n){return De(t,e,n,r)})):De(t,e,null,r)}));function Ie(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ce(t)}"production"!==process.env.NODE_ENV&&(Re.displayName="EmotionCssPropInternal");var Ue=function(e,t){var r=arguments;if(null==t||!ze.call(t,"css"))return n.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=Re,i[1]=Pe(e,t);for(var a=2;a<o;a++)i[a]=r[a];return n.apply(null,i)},Be=function e(t){for(var r=t.length,n=0,o="";n<r;n++){var i=t[n];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function Ve(e,t,r){var n=[],o=re(e,n,r);return n.length<2?r:o+t(n)}var He,Fe,We,$e,qe,Ge,Ye,Ze=function(){return null},Xe=(Se((function(e,t){return n(Ae.Consumer,null,(function(r){var i="",a="",s=!1,c=function(){if(s&&"production"!==process.env.NODE_ENV)throw new Error("css can only be used during render");for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=Ce(r,t.registered);if(Oe)ne(t,o,!1);else{var c=ne(t,o,!1);void 0!==c&&(i+=c)}return Oe||(a+=" "+o.name),t.key+"-"+o.name},l={css:c,cx:function(){if(s&&"production"!==process.env.NODE_ENV)throw new Error("cx can only be used during render");for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ve(t.registered,c,Be(r))},theme:r},u=e.children(l);s=!0;var d,h=n(Ze,null);Oe||0===i.length||(h=n("style",((d={})["data-emotion-"+t.key]=a.substring(1),d.dangerouslySetInnerHTML={__html:i},d.nonce=t.sheet.nonce,d)));return n(o,null,h,u)}))})),function(){var e=Ie.apply(void 0,arguments),t="animation-"+e.name;e.styles}(He||(He=S(["\n    from {\n        transform: scale(0.7);\n    }\n    50% {\n        transform: scale(1);\n    }\n    to {\n        transform: scale(0.7);\n    }\n"]))),{uploader:Ie(Fe||(Fe=S(["\n        position: relative;\n        \n        img {\n            max-height: 100%;\n            max-width: 100%;\n            height: auto;\n            width: auto;\n        }\n        \n        .uploader-url-addon {\n            display: flex;\n            align-items: center;\n            padding: .375rem .75rem;\n            margin-bottom: 0;\n            font-weight: 400;\n            line-height: 1.5;\n            color: #495057;\n            text-align: center;\n            white-space: nowrap;\n            background-color: #e9ecef;\n            border: 1px solid #ced4da;\n            border-left-width: 0;\n            border-top-right-radius: 0;\n            border-top-left-radius: 0;\n            border-bottom-left-radius: 0;\n            border-bottom-right-radius: .25rem;\n            \n            svg {\n                margin-right: 0.6rem;\n                fill: #495057;\n                height: 1.4rem;\n            }\n        }\n        \n        .uploader-url-input {\n            display: block;\n            height: calc(1.5em + .75rem + 2px);\n            padding: .375rem .75rem;\n            font-weight: 400;\n            font-size: 1rem;\n            line-height: 1.5;\n            color: #495057;\n            background-color: #fff;\n            background-clip: padding-box;\n            border: 1px solid #ced4da;\n            border-radius: .25rem;\n            border-top-left-radius: 0;\n            border-top-right-radius: 0;\n            border-bottom-right-radius: 0;\n            position: relative;\n            flex-grow: 1;\n            margin-bottom: 0;\n            \n            &:focus {\n                outline: none;\n            }\n        }\n        \n        .uploader-url {\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: stretch;\n            flex-flow: row;\n            cursor: pointer;\n        }\n        \n        .uploader-zone {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-flow: row wrap;\n            width: 100%;\n            height: 14rem;\n            overflow: hidden;\n            position: relative;\n            color: white;\n        }\n    \n        .uploader-zone-fog {\n            display: flex;\n            justify-content: space-evenly;\n            align-items: center;\n            flex-flow: column;\n            background: rgba(0, 0, 0, 0.2);\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            cursor: pointer;\n            z-index: 0;\n\n            &:hover {\n                background: rgba(0, 0, 0, 0.5);\n            }\n        }\n        \n        .uploader-zone-fog-core {\n            display: flex;\n            justify-content: space-evenly;\n            align-items: center;\n            flex-flow: column;\n            width: 100%;\n            height: 100%;\n        }\n        \n        .uploader-zone-fog-text {\n            width: 80%;\n            text-align: center;\n            position: relative;\n            bottom: 1rem;\n            margin-top: 1rem;\n            text-shadow: 0 0 0.5rem black;\n        }\n        \n        .uploader-zone-fog-img {\n            width: 5rem;\n            fill: white;\n        }\n        \n        .uploader-zone-fog-caption {\n            background: rgba(0, 0, 0, 0.3);\n            padding: 0.2rem 0.4rem;\n            font-size: 75%;\n            color: white;\n            border-radius: 0.3rem 0.3rem 0px 0px;\n            position: absolute;\n            bottom: 0px;\n            left: 50%;\n            transform: translateX(-50%);\n        }\n        \n        .uploader-input {\n            position: fixed;\n            top: -9999px;\n            left: -9999px;\n        }\n\n        .uploader-waveform {\n            width: 100%;\n            padding: 0;\n            margin: 0;\n            z-index: 0;\n            canvas {\n                max-width: none;\n                width: 100% !important;\n            }\n        }\n\n        .uploader-string {\n            color: white;\n            z-index: 1;\n            user-select: none;\n        }\n\n        .wavesurfer-region {\n            z-index: 3 !important;\n          }\n          \n        .wavesurfer-handle {\n            background-color: rgba(146, 210, 117, 0.9) !important;\n            width: 4px !important;\n        }\n    "]))),"uploader/fetching":Ie(We||(We=S(["\n        .uploader-zone-fog-core {\n            position: fixed;\n            top: -9999px;\n            left: -9999px;\n        }\n    "]))),"uploader/withUrl":Ie($e||($e=S(["\n        .uploader-zone {\n            border-top-left-radius: 0.25rem !important;\n            border-top-right-radius: 0.25rem !important;\n            border-bottom-left-radius: 0 !important;\n            border-bottom-right-radius: 0 !important;\n        }\n    "]))),"uploader/withControls":Ie(qe||(qe=S(["\n        .uploader-zone-fog-text {\n            margin-top: 0;\n            bottom: 0;\n        }\n        .uploader-zone-fog-img {\n            width: 2.6rem;\n            top: 0.3rem;\n        }\n        .uploader-zone-fog-controls {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-flow: row wrap;\n            position: relative;\n            bottom: 0.3rem;\n            gap: 1rem;\n        }\n        .uploader-zone-fog-or {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-flow: row;\n            font-size: 80%;\n            width: 100%;\n        }\n        .uploader-zone-fog-or-wing {\n            flex-grow: 1;\n            height: 0;\n            border-style: solid;\n            border-width: .06rem 0 0 0;\n            border-color: white;\n        }\n        .uploader-zone-fog-or-body {\n            padding: 0.5rem 0.7rem;\n            user-select: none;\n        }\n        .uploader-zone-fog-controls-control {\n            height: 2rem;\n            width: 2rem;\n            fill: white;\n        }\n    "]))),"uploader/compact":Ie(Ge||(Ge=S(["\n        .uploader-zone {\n            border-radius: .5rem;\n            height: 4rem;\n        }\n        .uploader-zone-fog-img {\n            width: 2rem;\n            top: 0;\n        }\n        .uploader-zone-fog-controls-control {\n            width: 1.5rem !important;\n            height: 1.5rem !important;\n        }\n    "]))),"uploader/disabled":Ie(Ye||(Ye=S(["\n        .uploader-zone {\n            cursor: not-allowed;\n        }\n        .uploader-zone-fog {\n            cursor: not-allowed;\n            &:hover {\n                background: rgba(0, 0, 0, 0.2);\n            }\n        }\n        .uploader-zone-fog-img {\n            fill: #707070;\n        }\n        .uploader-zone-fog-caption {\n            background: rgba(0, 0, 0, 0.1);\n        }\n        .uploader-zone-fog-text {\n            color: #707070;\n        }\n        .uploader-zone-fog-controls-control {\n            fill: #707070;\n        }\n    "])))}),Je=function(t){return e.createElement("svg",A({viewBox:"0 0 512.001 512.001"},t),e.createElement("path",{d:"M405.967 187.467c-1.069-78.061-64.902-141.239-143.213-141.239-34.835 0-68.396 12.672-94.498 35.682-23.296 20.535-39.232 47.977-45.543 78.106-.461-.005-.918-.009-1.374-.009C54.434 160.008 0 214.441 0 281.347s54.434 121.339 121.34 121.339h44.534c6.029 0 10.919-4.888 10.919-10.919 0-6.031-4.89-10.919-10.919-10.919H121.34c-54.866 0-99.502-44.636-99.502-99.501s44.636-99.501 99.502-99.501c2.923 0 6.013.157 9.448.48 5.822.54 11.049-3.596 11.842-9.396 3.932-28.82 18.161-55.327 40.067-74.638 22.111-19.492 50.542-30.226 80.056-30.226 66.935 0 121.389 54.455 121.389 121.389 0 2.41-.449 8.642-.449 8.642a10.92 10.92 0 0 0 11.984 11.634 87.102 87.102 0 0 1 8.708-.44c47.297 0 85.778 38.48 85.778 85.778 0 47.297-38.48 85.777-85.778 85.777h-48.902c-6.029 0-10.919 4.888-10.919 10.919s4.89 10.919 10.919 10.919h48.902c59.339 0 107.616-48.275 107.616-107.615-.001-58.808-47.421-106.752-106.034-107.602z"}),e.createElement("path",{d:"M262.755 97.548c-45.658 0-84.742 34.121-90.914 79.367-.815 5.975 3.371 11.462 9.343 12.295 6.368.888 11.548-3.869 12.295-9.343 4.702-34.479 34.484-60.48 69.276-60.48 6.031 0 10.919-4.888 10.919-10.919 0-6.032-4.889-10.92-10.919-10.92zm50.524 312.735c-4.017-4.496-10.92-4.887-15.418-.868l-26.265 23.463V298.547c0-6.031-4.89-10.919-10.919-10.919-6.031 0-10.919 4.888-10.919 10.919v134.33l-26.264-23.463c-4.496-4.018-11.401-3.627-15.417.868-4.018 4.498-3.63 11.399.868 15.418l39.717 35.483a17.983 17.983 0 0 0 12.014 4.59 17.99 17.99 0 0 0 12.013-4.589l39.719-35.483c4.499-4.017 4.888-10.92.871-15.418z"}))},Ke=function(t){return e.createElement("svg",A({viewBox:"0 0 448 512"},t),e.createElement("path",{d:"M278.06 256L444.48 89.57c4.69-4.69 4.69-12.29 0-16.97-32.8-32.8-85.99-32.8-118.79 0L210.18 188.12l-24.86-24.86c4.31-10.92 6.68-22.81 6.68-35.26 0-53.02-42.98-96-96-96S0 74.98 0 128s42.98 96 96 96c4.54 0 8.99-.32 13.36-.93L142.29 256l-32.93 32.93c-4.37-.61-8.83-.93-13.36-.93-53.02 0-96 42.98-96 96s42.98 96 96 96 96-42.98 96-96c0-12.45-2.37-24.34-6.68-35.26l24.86-24.86L325.69 439.4c32.8 32.8 85.99 32.8 118.79 0 4.69-4.68 4.69-12.28 0-16.97L278.06 256zM96 160c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32zm0 256c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32z",className:""}))},Qe=function(t){return e.createElement("svg",A({viewBox:"0 0 20 20"},t),e.createElement("path",{d:"M12.92 2.873a2.975 2.975 0 0 1 4.207 4.207l-.669.669l-4.207-4.207l.67-.669ZM11.544 4.25l-7.999 7.999a2.438 2.438 0 0 0-.655 1.194l-.878 3.95a.5.5 0 0 0 .597.597l3.926-.873a2.518 2.518 0 0 0 1.234-.678l7.982-7.982l-4.207-4.207Z"}))},et=function(t){return e.createElement("svg",A({viewBox:"0 0 512 512"},t),e.createElement("path",{fill:"currentColor",d:"M488 352h-40V96c0-17.67-14.33-32-32-32H192v96h160v328c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24zM160 24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v256c0 17.67 14.33 32 32 32h224v-96H160V24z"}))},tt=function(t){return e.createElement("svg",A({viewBox:"0 0 448 512"},t),e.createElement("path",{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}))},rt=function(t){return e.createElement("svg",A({height:596,viewBox:"0 0 447.632 447"},t),e.createElement("path",{d:"M231.816 447.05c34.23-4.863 64.239-40.59 83.121-93.35a406.317 406.317 0 0 0-83.12-9.786zm0 0M286.504 438.66c2.023-.586 4.039-1.176 6.039-1.824 1.687-.543 3.352-1.129 5.016-1.711a203.39 203.39 0 0 0 5.882-2.121c1.664-.633 3.313-1.305 4.965-1.977 1.906-.8 3.809-1.597 5.692-2.398a240.401 240.401 0 0 0 10.422-4.922c1.601-.816 3.199-1.648 4.8-2.504 1.793-.96 3.575-1.941 5.344-2.95a203.403 203.403 0 0 0 4.703-2.753c1.735-1.066 3.461-2.133 5.176-3.2a191.535 191.535 0 0 0 4.578-2.991 221.095 221.095 0 0 0 5.008-3.504 417.693 417.693 0 0 0 4.422-3.2 365.942 365.942 0 0 0 4.847-3.793c1.426-1.136 2.848-2.265 4.25-3.433 1.598-1.328 3.13-2.703 4.68-4.078 1.36-1.207 2.727-2.403 4.055-3.64 1.527-1.427 3.015-2.903 4.504-4.368 1.289-1.273 2.593-2.527 3.855-3.832.235-.242.457-.504.7-.754a268.883 268.883 0 0 0-54.817-21.094 198.517 198.517 0 0 1-51.129 83.024c.649-.168 1.297-.305 1.945-.473 1.711-.48 3.391-1.008 5.063-1.504zm0 0M447.633 231.684H351.71a414.882 414.882 0 0 1-16.152 110.68 278.228 278.228 0 0 1 60.714 24.16 223.51 223.51 0 0 0 51.36-134.84zm0 0M231.816 215.684h103.895a400.208 400.208 0 0 0-15.75-106.743 421.384 421.384 0 0 1-88.145 10.512zm0 0M231.816.316v103.137a406.589 406.589 0 0 0 83.121-9.785C296.055 40.906 266.048 5.18 231.817.316zm0 0M231.816 327.914a421.648 421.648 0 0 1 88.145 10.516 400.236 400.236 0 0 0 15.75-106.746H231.816zm0 0M396.273 80.844a278.228 278.228 0 0 1-60.714 24.16 414.882 414.882 0 0 1 16.152 110.68h95.922a223.577 223.577 0 0 0-51.36-134.84zm0 0M385.465 68.707c-.235-.238-.457-.496-.688-.742-1.265-1.305-2.578-2.563-3.867-3.832-1.484-1.465-2.965-2.945-4.496-4.367-1.324-1.235-2.695-2.403-4.055-3.633-1.55-1.375-3.101-2.762-4.695-4.09-1.383-1.168-2.8-2.285-4.207-3.406a171.24 171.24 0 0 0-4.89-3.825 220.477 220.477 0 0 0-4.383-3.199 192.844 192.844 0 0 0-5.055-3.547 200.251 200.251 0 0 0-4.535-2.957 190.441 190.441 0 0 0-5.219-3.257 223.26 223.26 0 0 0-4.664-2.727 220.848 220.848 0 0 0-5.39-2.984c-1.602-.801-3.2-1.672-4.801-2.473-1.84-.93-3.696-1.824-5.598-2.703a174.071 174.071 0 0 0-4.875-2.227c-1.895-.84-3.809-1.597-5.719-2.398a225.094 225.094 0 0 0-4.953-1.969 191.214 191.214 0 0 0-5.879-2.117 210.272 210.272 0 0 0-5.016-1.715c-2-.648-4-1.238-6.054-1.832-1.664-.488-3.336-.984-5.02-1.43-.644-.175-1.3-.312-1.949-.48a198.532 198.532 0 0 1 51.129 83.023 268.485 268.485 0 0 0 54.879-21.113zm0 0M0 215.684h95.922a415.035 415.035 0 0 1 16.148-110.68 277.885 277.885 0 0 1-60.71-24.16A223.519 223.519 0 0 0 0 215.684zm0 0M215.816 447.05V343.915a406.589 406.589 0 0 0-83.12 9.785c18.878 52.762 48.89 88.488 83.12 93.352zm0 0M215.816 231.684H111.922a400.079 400.079 0 0 0 15.75 106.746 421.097 421.097 0 0 1 88.144-10.516zm0 0M215.816.316c-34.23 4.864-64.242 40.59-83.12 93.352a406.045 406.045 0 0 0 83.12 9.785zm0 0M215.816 119.453a421.384 421.384 0 0 1-88.144-10.512 400.05 400.05 0 0 0-15.75 106.743h103.894zm0 0M168.113 6.79c-.648.167-1.297.304-1.945.472-1.695.453-3.367.957-5.055 1.445-2.008.586-4 1.176-6.015 1.816-1.7.551-3.371 1.137-5.043 1.72-1.957.69-3.918 1.378-5.856 2.112-1.672.641-3.32 1.305-4.976 1.985-1.903.8-3.809 1.601-5.688 2.398-1.648.723-3.277 1.48-4.91 2.242a223.908 223.908 0 0 0-5.512 2.68 228.526 228.526 0 0 0-10.137 5.457 149.244 149.244 0 0 0-4.718 2.75c-1.738 1.047-3.457 2.13-5.168 3.2-1.54.984-3.067 1.976-4.578 3a221.095 221.095 0 0 0-5.008 3.503 403.614 403.614 0 0 0-4.426 3.203c-1.637 1.23-3.2 2.512-4.848 3.79-1.421 1.136-2.855 2.265-4.246 3.44-1.601 1.321-3.12 2.688-4.664 4.056-1.367 1.218-2.746 2.402-4.082 3.664-1.52 1.418-3 2.89-4.484 4.351-1.29 1.274-2.602 2.531-3.867 3.84-.23.242-.453.508-.696.754a268.581 268.581 0 0 0 54.817 21.098 198.45 198.45 0 0 1 51.105-82.977zm0 0M66.719 383.234c1.488 1.465 2.969 2.946 4.496 4.371 1.328 1.23 2.695 2.399 4.058 3.63 1.551 1.378 3.102 2.761 4.696 4.09 1.383 1.16 2.793 2.28 4.207 3.405 1.601 1.297 3.199 2.586 4.894 3.833 1.442 1.082 2.907 2.128 4.371 3.203 1.672 1.199 3.36 2.398 5.063 3.55a214.813 214.813 0 0 0 4.535 2.961c1.73 1.11 3.457 2.2 5.219 3.254 1.543.93 3.101 1.84 4.664 2.73a208.275 208.275 0 0 0 5.39 2.981c1.598.801 3.2 1.672 4.801 2.473 1.84.93 3.696 1.824 5.598 2.707 1.601.754 3.226 1.496 4.875 2.223 1.894.84 3.805 1.597 5.719 2.398 1.648.672 3.289 1.336 4.953 1.969 1.941.746 3.91 1.441 5.879 2.12 1.664.583 3.328 1.169 5.015 1.712 2 .648 4 1.242 6.055 1.832 1.664.488 3.336.984 5.016 1.433.648.176 1.304.313 1.953.48a198.57 198.57 0 0 1-51.13-83.027 268.607 268.607 0 0 0-54.816 21.106c.235.238.458.496.692.742 1.2 1.297 2.492 2.555 3.797 3.824zm0 0M51.36 366.523a278.275 278.275 0 0 1 60.71-24.16 415.035 415.035 0 0 1-16.148-110.68H0a223.552 223.552 0 0 0 51.36 134.84zm0 0"}))},nt=function(t){return e.createElement("svg",A({viewBox:"0 0 512 512"},t),e.createElement("path",{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}))},ot=function(t){return e.createElement("svg",A({viewBox:"0 0 576 512"},t),e.createElement("path",{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"}))},it=function(t){return e.createElement("svg",A({viewBox:"0 0 512 512"},t),e.createElement("path",{d:"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"}))},at=function(t){return e.createElement("svg",A({viewBox:"0 0 640 512"},t),e.createElement("path",{d:"M608 0H160a32 32 0 0 0-32 32v96h160V64h192v320h128a32 32 0 0 0 32-32V32a32 32 0 0 0-32-32zM232 103a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9V73a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm352 208a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9v-30a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm0-104a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9v-30a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm0-104a9 9 0 0 1-9 9h-30a9 9 0 0 1-9-9V73a9 9 0 0 1 9-9h30a9 9 0 0 1 9 9zm-168 57H32a32 32 0 0 0-32 32v288a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V192a32 32 0 0 0-32-32zM96 224a32 32 0 1 1-32 32 32 32 0 0 1 32-32zm288 224H64v-32l64-64 32 32 128-128 96 96z"}))},st={browser:{video:{mimeTypes:["video/mp4","video/quicktime"],extensions:["mp4","mov"]},image:{mimeTypes:["image/jpeg","image/png"],extensions:["jpeg","jpg","png"]},audio:{mimeTypes:["audio/wav","audio/x-wav","audio/mpeg","audio/mp3","audio/mpeg3","audio/x-mpeg","audio/x-mp3","audio/x-mpeg3"],extensions:["wav","mp3"]}},extended:{video:{mimeTypes:[],extensions:[]},image:{mimeTypes:["application/pdf","application/postscript","application/tif","application/tiff","application/vnd.3gpp.pic-bw-small","application/x-pdf","application/x-tif","application/x-tiff","image/avif","image/avif-sequence","image/bmp","image/bmp2","image/bmp3","image/heic","image/heif","image/jbg","image/jbig","image/jng","image/jpeg2000","image/jpeg2000-image","image/jxl","image/jxr","image/svg","image/svg+xml","image/tif","image/tiff","image/vnd.adobe.photoshop","image/vnd.radiance","image/webp","image/x-adobe-dng","image/x-canon-cr2","image/x-canon-crw","image/x-canon-raw","image/x-dcraw","image/x-exr","image/x-fuji-raf","image/x-icon","image/x-kodak-dcr","image/x-kodak-k25","image/x-kodak-kdc","image/x-minolta-mrw","image/x-nikon-nef","image/x-olympus-orf","image/x-panasonic-raw","image/x-pentax-pef","image/x-sigma-x3f","image/x-sony-arw","image/x-sony-raw","image/x-sony-sr2","image/x-sony-srf","image/x-targa","image/x-tga"],extensions:["arw","avif","avifs","bmp","bmp2","bmp3","cr2","crw","dcr","dng","eps","eps2","eps3","exr","hdr","heic","heif","ico","jbg","jbig","jfif","jng","jp2","jxl","jxr","k25","kdc","mrw","nef","openexr","orf","orf","pdf","pef","ps","ps2","ps3","psb","psd","raf","raf","raw","sr2","srf","svg","tga","tif","tiff","webp","x3f"]},audio:{mimeTypes:[],extensions:[]}}},ct="object"==typeof global&&global&&global.Object===Object&&global,lt="object"==typeof self&&self&&self.Object===Object&&self,ut=ct||lt||Function("return this")(),dt=ut.Symbol,ht=Object.prototype,pt=ht.hasOwnProperty,ft=ht.toString,gt=dt?dt.toStringTag:void 0;var mt=Object.prototype.toString;var vt=dt?dt.toStringTag:void 0;function yt(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vt&&vt in Object(e)?function(e){var t=pt.call(e,gt),r=e[gt];try{e[gt]=void 0;var n=!0}catch(e){}var o=ft.call(e);return n&&(t?e[gt]=r:delete e[gt]),o}(e):function(e){return mt.call(e)}(e)}function bt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var wt,xt=ut["__core-js_shared__"],kt=(wt=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+wt:"";var Et=Function.prototype.toString;var _t=/^\[object .+?Constructor\]$/,Ct=Function.prototype,Ot=Object.prototype,zt=Ct.toString,Lt=Ot.hasOwnProperty,At=RegExp("^"+zt.call(Lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function St(e){return!(!bt(e)||(t=e,kt&&kt in t))&&(function(e){if(!bt(e))return!1;var t=yt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)?At:_t).test(function(e){if(null!=e){try{return Et.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function Mt(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return St(r)?r:void 0}var jt=Mt(Object,"create");var Tt=Object.prototype.hasOwnProperty;var Pt=Object.prototype.hasOwnProperty;function Nt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Dt(e,t){for(var r,n,o=e.length;o--;)if((r=e[o][0])===(n=t)||r!=r&&n!=n)return o;return-1}Nt.prototype.clear=function(){this.__data__=jt?jt(null):{},this.size=0},Nt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nt.prototype.get=function(e){var t=this.__data__;if(jt){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Tt.call(t,e)?t[e]:void 0},Nt.prototype.has=function(e){var t=this.__data__;return jt?void 0!==t[e]:Pt.call(t,e)},Nt.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=jt&&void 0===t?"__lodash_hash_undefined__":t,this};var Rt=Array.prototype.splice;function It(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}It.prototype.clear=function(){this.__data__=[],this.size=0},It.prototype.delete=function(e){var t=this.__data__,r=Dt(t,e);return!(r<0)&&(r==t.length-1?t.pop():Rt.call(t,r,1),--this.size,!0)},It.prototype.get=function(e){var t=this.__data__,r=Dt(t,e);return r<0?void 0:t[r][1]},It.prototype.has=function(e){return Dt(this.__data__,e)>-1},It.prototype.set=function(e,t){var r=this.__data__,n=Dt(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var Ut=Mt(ut,"Map");function Bt(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function Vt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vt.prototype.clear=function(){this.size=0,this.__data__={hash:new Nt,map:new(Ut||It),string:new Nt}},Vt.prototype.delete=function(e){var t=Bt(this,e).delete(e);return this.size-=t?1:0,t},Vt.prototype.get=function(e){return Bt(this,e).get(e)},Vt.prototype.has=function(e){return Bt(this,e).has(e)},Vt.prototype.set=function(e,t){var r=Bt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Ht(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Vt;++t<r;)this.add(e[t])}function Ft(e){return e!=e}function Wt(e,t){return!!(null==e?0:e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,r):function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,Ft,r)}(e,t,0)>-1}function $t(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}function qt(e,t){return e.has(t)}Ht.prototype.add=Ht.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ht.prototype.has=function(e){return this.__data__.has(e)};var Gt=Mt(ut,"Set");function Yt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var Zt=Gt&&1/Yt(new Gt([,-0]))[1]==1/0?function(e){return new Gt(e)}:function(){};
/*! Fast Average Color | © 2021 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */
function Xt(e){const t=e.toString(16);return 1===t.length?"0"+t:t}function Jt(e){return"#"+e.map(Xt).join("")}function Kt(e,t,r){for(let n=0;n<r.length;n++)if(Qt(e,t,r[n]))return!0;return!1}function Qt(e,t,r){switch(r.length){case 3:if(function(e,t,r){if(255!==e[t+3])return!0;if(e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2])return!0;return!1}(e,t,r))return!0;break;case 4:if(function(e,t,r){if(e[t+3]&&r[3])return e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2]&&e[t+3]===r[3];return e[t+3]===r[3]}(e,t,r))return!0;break;case 5:if(function(e,t,r){const n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],c=e[t+3],l=er(c,a,s);if(!a)return l;if(!c&&l)return!0;if(er(e[t],n,s)&&er(e[t+1],o,s)&&er(e[t+2],i,s)&&l)return!0;return!1}(e,t,r))return!0;break;default:return!1}}function er(e,t,r){return e>=t-r&&e<=t+r}function tr(e,t,r){const n={},o=r.ignoredColor,i=r.step;let a=[0,0,0,0,0];for(let r=0;r<t;r+=i){const t=e[r],i=e[r+1],s=e[r+2],c=e[r+3];if(o&&Kt(e,r,o))continue;const l=Math.round(t/24)+","+Math.round(i/24)+","+Math.round(s/24);n[l]?n[l]=[n[l][0]+t*c,n[l][1]+i*c,n[l][2]+s*c,n[l][3]+c,n[l][4]+1]:n[l]=[t*c,i*c,s*c,c,1],a[4]<n[l][4]&&(a=n[l])}const s=a[0],c=a[1],l=a[2],u=a[3],d=a[4];return u?[Math.round(s/u),Math.round(c/u),Math.round(l/u),Math.round(u/d)]:r.defaultColor}function rr(e,t,r){let n=0,o=0,i=0,a=0,s=0;const c=r.ignoredColor,l=r.step;for(let r=0;r<t;r+=l){const t=e[r+3],l=e[r]*t,u=e[r+1]*t,d=e[r+2]*t;c&&Kt(e,r,c)||(n+=l,o+=u,i+=d,a+=t,s++)}return a?[Math.round(n/a),Math.round(o/a),Math.round(i/a),Math.round(a/s)]:r.defaultColor}function nr(e,t,r){let n=0,o=0,i=0,a=0,s=0;const c=r.ignoredColor,l=r.step;for(let r=0;r<t;r+=l){const t=e[r],l=e[r+1],u=e[r+2],d=e[r+3];c&&Kt(e,r,c)||(n+=t*t*d,o+=l*l*d,i+=u*u*d,a+=d,s++)}return a?[Math.round(Math.sqrt(n/a)),Math.round(Math.sqrt(o/a)),Math.round(Math.sqrt(i/a)),Math.round(a/s)]:r.defaultColor}function or(e){return ir(e,"defaultColor",[0,0,0,0])}function ir(e,t,r){return void 0===e[t]?r:e[t]}function ar(e,t,r){e.silent||(console.error("FastAverageColor: "+t),r&&console.error(r))}function sr(e){return Error("FastAverageColor: "+e)}class cr{getColorAsync(e,t){if(!e)return Promise.reject(sr("call .getColorAsync() without resource."));if("string"==typeof e){const r=new Image;return r.crossOrigin="",r.src=e,this._bindImageEvents(r,t)}if(e instanceof Image&&!e.complete)return this._bindImageEvents(e,t);{const r=this.getColor(e,t);return r.error?Promise.reject(r.error):Promise.resolve(r)}}getColor(e,t){const r=or(t=t||{});if(!e)return ar(t,"call .getColor(null) without resource."),this.prepareResult(r);const n=function(e,t){const r=ir(t,"left",0),n=ir(t,"top",0),o=ir(t,"width",e.width),i=ir(t,"height",e.height);let a,s=o,c=i;return"precision"===t.mode||(o>i?(a=o/i,s=100,c=Math.round(s/a)):(a=i/o,c=100,s=Math.round(c/a)),(s>o||c>i||s<10||c<10)&&(s=o,c=i)),{srcLeft:r,srcTop:n,srcWidth:o,srcHeight:i,destWidth:s,destHeight:c}}(function(e){if(e instanceof HTMLImageElement){let t=e.naturalWidth,r=e.naturalHeight;return e.naturalWidth||-1===e.src.search(/\.svg(\?|$)/i)||(t=r=100),{width:t,height:r}}return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:{width:e.width,height:e.height}}(e),t);if(!(n.srcWidth&&n.srcHeight&&n.destWidth&&n.destHeight))return ar(t,`incorrect sizes for resource "${e.src}".`),this.prepareResult(r);if(!this._ctx&&(this._canvas="undefined"==typeof window?new OffscreenCanvas(1,1):document.createElement("canvas"),this._ctx=this._canvas.getContext&&this._canvas.getContext("2d"),!this._ctx))return ar(t,"Canvas Context 2D is not supported in this browser."),this.prepareResult(r);this._canvas.width=n.destWidth,this._canvas.height=n.destHeight;let o=r;try{this._ctx.clearRect(0,0,n.destWidth,n.destHeight),this._ctx.drawImage(e,n.srcLeft,n.srcTop,n.srcWidth,n.srcHeight,0,0,n.destWidth,n.destHeight);const r=this._ctx.getImageData(0,0,n.destWidth,n.destHeight).data;o=this.getColorFromArray4(r,t)}catch(r){ar(t,`security error (CORS) for resource ${e.src}.\nDetails: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`,r)}return this.prepareResult(o)}getColorFromArray4(e,t){t=t||{};const r=e.length,n=or(t);if(r<4)return n;const o=r-r%4,i=4*(t.step||1);let a;switch(t.algorithm||"sqrt"){case"simple":a=rr;break;case"sqrt":a=nr;break;case"dominant":a=tr;break;default:throw sr(t.algorithm+" is unknown algorithm.")}return a(e,o,{defaultColor:n,ignoredColor:(s=t.ignoredColor,s?Array.isArray(s)?"number"==typeof s[0]?[s.slice()]:s:[s]:s),step:i});var s}prepareResult(e){const t=e.slice(0,3),r=[].concat(t,e[3]/255),n=(299*(o=e)[0]+587*o[1]+114*o[2])/1e3<128;var o;return{value:e,rgb:"rgb("+t.join(",")+")",rgba:"rgba("+r.join(",")+")",hex:Jt(t),hexa:Jt(e),isDark:n,isLight:!n}}destroy(){delete this._canvas,delete this._ctx}_bindImageEvents(e,t){return new Promise((r,n)=>{const o=()=>{s();const o=this.getColor(e,t);o.error?n(o.error):r(o)},i=()=>{s(),n(sr(`Error loading image "${e.src}".`))},a=()=>{s(),n(sr(`Image "${e.src}" loading aborted.`))},s=()=>{e.removeEventListener("load",o),e.removeEventListener("error",i),e.removeEventListener("abort",a)};e.addEventListener("load",o),e.addEventListener("error",i),e.addEventListener("abort",a)})}}var lr="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==lr&&lr,ur="URLSearchParams"in lr,dr="Symbol"in lr&&"iterator"in Symbol,hr="FileReader"in lr&&"Blob"in lr&&function(){try{return new Blob,!0}catch(e){return!1}}(),pr="FormData"in lr,fr="ArrayBuffer"in lr;if(fr)var gr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],mr=ArrayBuffer.isView||function(e){return e&&gr.indexOf(Object.prototype.toString.call(e))>-1};function vr(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function yr(e){return"string"!=typeof e&&(e=String(e)),e}function br(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return dr&&(t[Symbol.iterator]=function(){return t}),t}function wr(e){this.map={},e instanceof wr?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function xr(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function kr(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function Er(e){var t=new FileReader,r=kr(t);return t.readAsArrayBuffer(e),r}function _r(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Cr(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:hr&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:pr&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:ur&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():fr&&hr&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=_r(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):fr&&(ArrayBuffer.prototype.isPrototypeOf(e)||mr(e))?this._bodyArrayBuffer=_r(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ur&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},hr&&(this.blob=function(){var e=xr(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=xr(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(Er)}),this.text=function(){var e,t,r,n=xr(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=kr(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},pr&&(this.formData=function(){return this.text().then(Lr)}),this.json=function(){return this.text().then(JSON.parse)},this}wr.prototype.append=function(e,t){e=vr(e),t=yr(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},wr.prototype.delete=function(e){delete this.map[vr(e)]},wr.prototype.get=function(e){return e=vr(e),this.has(e)?this.map[e]:null},wr.prototype.has=function(e){return this.map.hasOwnProperty(vr(e))},wr.prototype.set=function(e,t){this.map[vr(e)]=yr(t)},wr.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},wr.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),br(e)},wr.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),br(e)},wr.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),br(e)},dr&&(wr.prototype[Symbol.iterator]=wr.prototype.entries);var Or=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function zr(e,t){if(!(this instanceof zr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,o=(t=t||{}).body;if(e instanceof zr){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new wr(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new wr(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),Or.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Lr(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function Ar(e,t){if(!(this instanceof Ar))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new wr(t.headers),this.url=t.url||"",this._initBody(e)}zr.prototype.clone=function(){return new zr(this,{body:this._bodyInit})},Cr.call(zr.prototype),Cr.call(Ar.prototype),Ar.prototype.clone=function(){return new Ar(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new wr(this.headers),url:this.url})},Ar.error=function(){var e=new Ar(null,{status:0,statusText:""});return e.type="error",e};var Sr=[301,302,303,307,308];Ar.redirect=function(e,t){if(-1===Sr.indexOf(t))throw new RangeError("Invalid status code");return new Ar(null,{status:t,headers:{location:e}})};var Mr=lr.DOMException;try{new Mr}catch(e){(Mr=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),Mr.prototype.constructor=Mr}function jr(e,t){return new Promise((function(r,n){var o=new zr(e,t);if(o.signal&&o.signal.aborted)return n(new Mr("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new wr,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;setTimeout((function(){r(new Ar(o,n))}),0)},i.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},i.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},i.onabort=function(){setTimeout((function(){n(new Mr("Aborted","AbortError"))}),0)},i.open(o.method,function(e){try{return""===e&&lr.location.href?lr.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&(hr?i.responseType="blob":fr&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof wr?o.headers.forEach((function(e,t){i.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){i.setRequestHeader(e,yr(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}jr.polyfill=!0,lr.fetch||(lr.fetch=jr,lr.Headers=wr,lr.Request=zr,lr.Response=Ar);class Tr{constructor(){this.listeners={}}on(e,t,r){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),null==r?void 0:r.once){const r=()=>{this.un(e,r),this.un(e,t)};return this.on(e,r),r}return()=>this.un(e,t)}un(e,t){var r;null===(r=this.listeners[e])||void 0===r||r.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach(e=>e(...t))}}class Pr extends Tr{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}}function Nr(e,t,r,n,o=3,i=0){if(!e)return()=>{};let a=()=>{};const s=s=>{if(s.button!==i)return;s.preventDefault(),s.stopPropagation();let c=s.clientX,l=s.clientY,u=!1;const d=n=>{n.preventDefault(),n.stopPropagation();const i=n.clientX,a=n.clientY,s=i-c,d=a-l;if(u||Math.abs(s)>o||Math.abs(d)>o){const n=e.getBoundingClientRect(),{left:o,top:h}=n;u||(null==r||r(c-o,l-h),u=!0),t(s,d,i-o,a-h),c=i,l=a}},h=()=>{u&&(null==n||n()),a()},p=e=>{e.relatedTarget&&e.relatedTarget!==document.documentElement||h()},f=e=>{u&&(e.stopPropagation(),e.preventDefault())},g=e=>{u&&e.preventDefault()};document.addEventListener("pointermove",d),document.addEventListener("pointerup",h),document.addEventListener("pointerout",p),document.addEventListener("pointercancel",p),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("click",f,{capture:!0}),a=()=>{document.removeEventListener("pointermove",d),document.removeEventListener("pointerup",h),document.removeEventListener("pointerout",p),document.removeEventListener("pointercancel",p),document.removeEventListener("touchmove",g),setTimeout(()=>{document.removeEventListener("click",f,{capture:!0})},10)}};return e.addEventListener("pointerdown",s),()=>{a(),e.removeEventListener("pointerdown",s)}}function Dr(e,t,r){const n=function e(t,r){const n=r.xmlns?document.createElementNS(r.xmlns,t):document.createElement(t);for(const[t,o]of Object.entries(r))if("children"===t)for(const[t,o]of Object.entries(r))"string"==typeof o?n.appendChild(document.createTextNode(o)):n.appendChild(e(t,o));else"style"===t?Object.assign(n.style,o):"textContent"===t?n.textContent=o:n.setAttribute(t,o.toString());return n}(e,t||{});return null==r||r.appendChild(n),n}class Rr extends Tr{constructor(e,t,r=0){var n,o,i,a,s,c,l,u;super(),this.totalDuration=t,this.numberOfChannels=r,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.id=e.id||"region-"+Math.random().toString(32).slice(2),this.start=this.clampPosition(e.start),this.end=this.clampPosition(null!==(n=e.end)&&void 0!==n?n:e.start),this.drag=null===(o=e.drag)||void 0===o||o,this.resize=null===(i=e.resize)||void 0===i||i,this.color=null!==(a=e.color)&&void 0!==a?a:"rgba(0, 0, 0, 0.1)",this.minLength=null!==(s=e.minLength)&&void 0!==s?s:this.minLength,this.maxLength=null!==(c=e.maxLength)&&void 0!==c?c:this.maxLength,this.channelIdx=null!==(l=e.channelIdx)&&void 0!==l?l:-1,this.contentEditable=null!==(u=e.contentEditable)&&void 0!==u?u:this.contentEditable,this.element=this.initElement(),this.setContent(e.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(e){return Math.max(0,Math.min(this.totalDuration,e))}setPart(){const e=this.start===this.end;this.element.setAttribute("part",`${e?"marker":"region"} ${this.id}`)}addResizeHandles(e){const t={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},r=Dr("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},t),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},e),n=Dr("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},t),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},e);Nr(r,e=>this.onResize(e,"start"),()=>null,()=>this.onEndResizing(),1),Nr(n,e=>this.onResize(e,"end"),()=>null,()=>this.onEndResizing(),1)}removeResizeHandles(e){const t=e.querySelector('[part*="region-handle-left"]'),r=e.querySelector('[part*="region-handle-right"]');t&&e.removeChild(t),r&&e.removeChild(r)}initElement(){const e=this.start===this.end;let t=0,r=100;this.channelIdx>=0&&this.channelIdx<this.numberOfChannels&&(r=100/this.numberOfChannels,t=r*this.channelIdx);const n=Dr("div",{style:{position:"absolute",top:t+"%",height:r+"%",backgroundColor:e?"none":this.color,borderLeft:e?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!e&&this.resize&&this.addResizeHandles(n),n}renderPosition(){const e=this.start/this.totalDuration,t=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*e+"%",this.element.style.right=100*t+"%"}toggleCursor(e){this.drag&&(this.element.style.cursor=e?"grabbing":"grab")}initMouseEvents(){const{element:e}=this;e&&(e.addEventListener("click",e=>this.emit("click",e)),e.addEventListener("mouseenter",e=>this.emit("over",e)),e.addEventListener("mouseleave",e=>this.emit("leave",e)),e.addEventListener("dblclick",e=>this.emit("dblclick",e)),e.addEventListener("pointerdown",()=>this.toggleCursor(!0)),e.addEventListener("pointerup",()=>this.toggleCursor(!1)),Nr(e,e=>this.onMove(e),()=>this.toggleCursor(!0),()=>{this.toggleCursor(!1),this.drag&&this.emit("update-end")}),this.contentEditable&&this.content&&(this.content.addEventListener("click",e=>this.onContentClick(e)),this.content.addEventListener("blur",()=>this.onContentBlur())))}_onUpdate(e,t){if(!this.element.parentElement)return;const{width:r}=this.element.parentElement.getBoundingClientRect(),n=e/r*this.totalDuration,o=t&&"start"!==t?this.start:this.start+n,i=t&&"end"!==t?this.end:this.end+n,a=i-o;o>=0&&i<=this.totalDuration&&o<=i&&a>=this.minLength&&a<=this.maxLength&&(this.start=o,this.end=i,this.renderPosition(),this.emit("update"))}onMove(e){this.drag&&this._onUpdate(e)}onResize(e,t){this.resize&&this._onUpdate(e,t)}onEndResizing(){this.resize&&this.emit("update-end")}onContentClick(e){e.stopPropagation(),e.target.focus(),this.emit("click",e)}onContentBlur(){this.emit("update-end")}_setTotalDuration(e){this.totalDuration=e,this.renderPosition()}play(){this.emit("play")}setContent(e){var t;if(null===(t=this.content)||void 0===t||t.remove(),e){if("string"==typeof e){const t=this.start===this.end;this.content=Dr("div",{style:{padding:`0.2em ${t?.2:.4}em`,display:"inline-block"},textContent:e})}else this.content=e;this.contentEditable&&(this.content.contentEditable="true"),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content)}else this.content=void 0}setOptions(e){var t,r;if(e.color&&(this.color=e.color,this.element.style.backgroundColor=this.color),void 0!==e.drag&&(this.drag=e.drag,this.element.style.cursor=this.drag?"grab":"default"),void 0!==e.start||void 0!==e.end){const n=this.start===this.end;this.start=this.clampPosition(null!==(t=e.start)&&void 0!==t?t:this.start),this.end=this.clampPosition(null!==(r=e.end)&&void 0!==r?r:n?this.start:this.end),this.renderPosition(),this.setPart()}if(e.content&&this.setContent(e.content),e.id&&(this.id=e.id,this.setPart()),void 0!==e.resize&&e.resize!==this.resize){const t=this.start===this.end;this.resize=e.resize,this.resize&&!t?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}}remove(){this.emit("remove"),this.element.remove(),this.element=null}}class Ir extends Pr{constructor(e){super(e),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(e){return new Ir(e)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer);let e=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",t=>{const r=this.regions.filter(e=>e.start<=t&&(e.end===e.start?e.start+.05:e.end)>=t);r.forEach(t=>{e.includes(t)||this.emit("region-in",t)}),e.forEach(e=>{r.includes(e)||this.emit("region-out",e)}),e=r}))}initRegionsContainer(){return Dr("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"3",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(e){if(!e.content)return;const t=e.content,r=t.getBoundingClientRect(),n=this.regions.map(t=>{if(t===e||!t.content)return 0;const n=t.content.getBoundingClientRect();return r.left<n.left+n.width&&n.left<r.left+r.width?n.height:0}).reduce((e,t)=>e+t,0);t.style.marginTop=n+"px"}adjustScroll(e){var t,r;const n=null===(r=null===(t=this.wavesurfer)||void 0===t?void 0:t.getWrapper())||void 0===r?void 0:r.parentElement;if(!n)return;const{clientWidth:o,scrollWidth:i}=n;if(i<=o)return;const a=n.getBoundingClientRect(),s=e.element.getBoundingClientRect(),c=s.left-a.left,l=s.right-a.left;c<0?n.scrollLeft+=c:l>o&&(n.scrollLeft+=l-o)}saveRegion(e){this.regionsContainer.appendChild(e.element),this.avoidOverlapping(e),this.regions.push(e);const t=[e.on("update",()=>{this.adjustScroll(e)}),e.on("update-end",()=>{this.avoidOverlapping(e),this.emit("region-updated",e)}),e.on("play",()=>{var t,r;null===(t=this.wavesurfer)||void 0===t||t.play(),null===(r=this.wavesurfer)||void 0===r||r.setTime(e.start)}),e.on("click",t=>{this.emit("region-clicked",e,t)}),e.on("dblclick",t=>{this.emit("region-double-clicked",e,t)}),e.once("remove",()=>{t.forEach(e=>e()),this.regions=this.regions.filter(t=>t!==e),this.emit("region-removed",e)})];this.subscriptions.push(...t),this.emit("region-created",e)}addRegion(e){var t,r;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const n=this.wavesurfer.getDuration(),o=null===(r=null===(t=this.wavesurfer)||void 0===t?void 0:t.getDecodedData())||void 0===r?void 0:r.numberOfChannels,i=new Rr(e,n,o);return n?this.saveRegion(i):this.subscriptions.push(this.wavesurfer.once("ready",e=>{i._setTotalDuration(e),this.saveRegion(i)})),i}enableDragSelection(e,t=3){var r;const n=null===(r=this.wavesurfer)||void 0===r?void 0:r.getWrapper();if(!(n&&n instanceof HTMLElement))return()=>{};let o=null,i=0;return Nr(n,(e,t,r)=>{o&&o._onUpdate(e,r>i?"end":"start")},t=>{var r,n;if(i=t,!this.wavesurfer)return;const a=this.wavesurfer.getDuration(),s=null===(n=null===(r=this.wavesurfer)||void 0===r?void 0:r.getDecodedData())||void 0===n?void 0:n.numberOfChannels,{width:c}=this.wavesurfer.getWrapper().getBoundingClientRect(),l=t/c*a,u=(t+5)/c*a;o=new Rr(Object.assign(Object.assign({},e),{start:l,end:u}),a,s),this.regionsContainer.appendChild(o.element)},()=>{o&&(this.saveRegion(o),o=null)},t)}clearRegions(){this.regions.forEach(e=>e.remove())}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=B(e);if(t){var o=B(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return U(this,r)}}var Br,Vr,Hr=function(t){R(n,t);var r=Ur(n);function n(e){var t;return j(this,n),t=r.call(this,e),V(N(t),"onReady",(function(e){var r=t.props,n=r.onReady,o=r.range,i=e.registerPlugin(Ir.create());i.addRegion({id:"cut",start:o?o[0]:0,end:o?o[1]:0,color:"rgba(146, 210, 117, 0.3)",resize:!1,drag:!1}),n(e),t.setState({wavesurfer:e,wavesurferRegions:i})})),t.state={wavesurfer:null,wavesurferRegions:null},t}return T(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.redraw)}},{key:"componentDidUpdate",value:function(e){var t=this.state,r=t.wavesurfer,n=t.wavesurferRegions,o=this.props.range;r&&e.range!==o&&r.seekTo(Math.min(1,Math.max(0,o[0]))),n&&e.range!==o&&(n.clearRegions(),n.addRegion({id:"cut",start:o?o[0]:0,end:o?o[1]:0,color:"rgba(146, 210, 117, 0.3)",resize:!1,drag:!1}))}},{key:"componentWillUnmount",value:function(){var e=this.state,t=e.wavesurfer,r=e.wavesurferRegions;window.removeEventListener("resize",this.redraw),t&&t.destroy(),r&&r.destroy()}},{key:"render",value:function(){var t=this.props,r=t.src,n=t.className,o=t.height;return e.createElement("div",{className:n},e.createElement(w,{key:r,url:r,cursorWidth:0,height:o,waveColor:"#D1D6DA",zoom:0,hideScrollbar:!0,interact:!1,progressColor:"#46be8ae6",onReady:this.onReady}))}}]),n}(e.Component);function Fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=B(e);if(t){var o=B(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return U(this,r)}}Hr.propTypes={className:a.string,height:a.number,onReady:a.func,range:a.array,src:a.string},Hr.defaultProps={className:"",height:100,onReady:function(){return null},range:null,src:null};var qr={isURL:s},Gr={camelCase:c,concat:l,debounce:u,difference:d,get:h,isString:p,last:f,map:g,round:m,split:v,uniq:function(e){return e&&e.length?function(e,t,r){var n=-1,o=Wt,i=e.length,a=!0,s=[],c=s;if(r)a=!1,o=$t;else if(i>=200){var l=t?null:Zt(e);if(l)return Yt(l);a=!1,o=qt,c=new Ht}else c=t?[]:s;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,a&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),s.push(u)}else o(c,d,r)||(c!==s&&c.push(d),s.push(u))}return s}(e):[]},upperFirst:y},Yr=function(t){R(o,t);var r,n=$r(o);function o(e){var t;return j(this,o),t=n.call(this,e),V(N(t),"updatePlayerVolume",(function(){var e=t.props.gain,r=Math.pow(10,e/20);t.audio&&e&&(t.audio.volume=r)})),t.state={beingDropTarget:!1,height:null,file:null,loaded:!1,mounted:!1,url:"",width:null,imageBackgroundColor:"rgba(0, 0, 0, 0)",imageIsDark:!1,_forceUpdateCounter:0},t.change=t.change.bind(N(t)),t.getFileTypes=t.getFileTypes.bind(N(t)),t.getSrcType=t.getSrcType.bind(N(t)),t.getAcceptedExtensions=t.getAcceptedExtensions.bind(N(t)),t.updateMediaLoop=t.updateMediaLoop.bind(N(t)),t.handleChange=t.handleChange.bind(N(t)),t.handleClick=t.handleClick.bind(N(t)),t.handleCropClick=t.handleCropClick.bind(N(t)),t.handleCutClick=t.handleCutClick.bind(N(t)),t.handleEditClick=t.handleEditClick.bind(N(t)),t.handleDragLeave=t.handleDragLeave.bind(N(t)),t.handleDragEnter=t.handleDragEnter.bind(N(t)),t.handleMouseOver=t.handleMouseOver.bind(N(t)),t.handleMouseEnter=t.handleMouseEnter.bind(N(t)),t.handleMouseLeave=t.handleMouseLeave.bind(N(t)),t.handleDrop=t.handleDrop.bind(N(t)),t.handleInjectUrlClick=t.handleInjectUrlClick.bind(N(t)),t.handleLoad=t.handleLoad.bind(N(t)),t.handleImageLoad=t.handleImageLoad.bind(N(t)),t.handleAudioLoad=t.handleAudioLoad.bind(N(t)),t.handleVideoLoad=t.handleVideoLoad.bind(N(t)),t.handleVideoLoadMetadata=t.handleVideoLoadMetadata.bind(N(t)),t.handleVideoPlayerError=t.handleVideoPlayerError.bind(N(t)),t.handleRemoveClick=t.handleRemoveClick.bind(N(t)),t.handleUrlChange=t.handleUrlChange.bind(N(t)),t.get=t.get.bind(N(t)),t.injectUrl=t.injectUrl.bind(N(t)),t.change=t.change.bind(N(t)),t.updateImageBackground=t.updateImageBackground.bind(N(t)),t.updateImageBackgroundInState=t.updateImageBackgroundInState.bind(N(t)),t._forceUpdate=t._forceUpdate.bind(N(t)),t._handleWindowScroll=t._handleWindowScroll.bind(N(t)),t.forceUpdateOnResize=Gr.debounce(t._forceUpdate,250),t.handleWindowScroll=Gr.debounce(t._handleWindowScroll,250),t}return T(o,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.initializeDrag(),this.updateImageBackground(),window.addEventListener("resize",this.forceUpdateOnResize),window.addEventListener("scroll",this.handleWindowScroll)}},{key:"componentDidUpdate",value:function(e){this.props.src!==e.src&&(this.props.src&&(this.lastChangeStart=(new Date).getTime()),this.updateImageBackground()),this.props.fetching&&!e.fetching&&this.props.src&&e.src===this.props.src&&this.state.loaded&&this.props.onLoad()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.forceUpdateOnResize),window.removeEventListener("scroll",this.handleWindowScroll)}},{key:"_forceUpdate",value:function(){"video"!==this.getSrcType()&&this.setState({_forceUpdateCounter:this.state._forceUpdateCounter++})}},{key:"getFileTypes",value:function(){var e=this.props.fileType;return"string"==typeof e?[e]:e}},{key:"getSrcType",value:function(){var e=this.getFileTypes();return this.guessType(this.props.srcType)||this.guessType(this.props.src)||(-1!==e.indexOf("video")?-1!==e.indexOf("image")?"iv":"video":e[0])}},{key:"getAcceptedExtensions",value:function(){var e=this,t=this.getFileTypes(),r=[];return t.forEach((function(t){e.extensions()[t].forEach((function(e){return r.push(e)}))})),r}},{key:"change",value:(r=M(H.mark((function e(t){var r,n,o,i,a,s,c,l,u=arguments;return H.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(u.length>1&&void 0!==u[1])||u[1],n=u.length>2&&void 0!==u[2]?u[2]:function(e){return null},o=(new Date).getTime(),this.lastChangeStart=o,i=this.getFileTypes(),a=this.guessType(t),s=this.props.maxSizes[a]||this.props.maxSize,-1!==i.indexOf(a)){e.next=10;break}this.props.onInvalidFileExtensionError(this.extension(t),this.getAcceptedExtensions()),e.next=29;break;case 10:if(c=null,!(s&&t.size>=s)){e.next=28;break}if("image"!==a){e.next=28;break}return l=null,this.props.onCompressStart(t),e.prev=15,e.next=18,b(t,{maxSizeMB:s/1024/1024,useWebWorker:!0});case 18:(l=e.sent)&&(t=l),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(15),c=e.t0;case 25:if(!(this.lastChangeStart>o)){e.next=27;break}return e.abrupt("return");case 27:this.props.onCompressEnd(l);case 28:s&&t.size>=s?this.props.onFileTooLargeError(t.size,s,c):this.props.onChange(t,r,a);case 29:n(t),this.input.value=null,this.xhr&&this.xhr.abort(),this.xhr=null;case 33:case"end":return e.stop()}}),e,this,[[15,22]])}))),function(e){return r.apply(this,arguments)})},{key:"handleChange",value:function(e){var t=Gr.get(e,"target.files.0");t&&this.change(t)}},{key:"handleClick",value:function(e){var t=this,r=this.props,n=r.onUploaderClick,o=r.disabledUploader;if(n)n().then((function(e){e&&t.change(e)})).catch((function(e){}));else{if(o)return;this.input.click()}}},{key:"handleCropClick",value:function(e){e.stopPropagation(),this.props.onCropClick()}},{key:"handleCutClick",value:function(e){e.stopPropagation(),this.props.onCutClick()}},{key:"handleEditClick",value:function(e){e.stopPropagation(),this.props.onEditClick()}},{key:"handleDragLeave",value:function(){0==--this.dndCounter&&this.setState({beingDropTarget:!1})}},{key:"handleDragEnter",value:function(e){e.preventDefault(),void 0===this.dndCounter&&(this.dndCounter=0),this.dndCounter++,this.setState({beingDropTarget:!0})}},{key:"handleMouseEnter",value:function(){var e=this.getSrcType();!this.playing&&this.props.hoverPlay&&"audio"===e&&(this.playing=!0,this.audio&&this.audio.play())}},{key:"handleMouseOver",value:function(){var e=this.getSrcType();!this.playing&&this.props.hoverPlay&&"audio"===e&&(this.playing=!0,this.audio&&this.audio.play())}},{key:"handleMouseLeave",value:function(){var e=this.getSrcType();this.playing&&this.props.hoverPlay&&"audio"===e&&(this.playing=!1,this.audio&&this.audio.pause())}},{key:"handleDrop",value:function(e){e.preventDefault(),this.dndCounter=0,this.setState({beingDropTarget:!1});var t=Gr.get(e,"dataTransfer.files.0");t&&this.change(t)}},{key:"handleInjectUrlClick",value:function(){this.injectUrl(this.state.url,!0)}},{key:"_handleWindowScroll",value:function(){var e=this.getSrcType();if(this.video&&("video"===e||"iv"===e)){var t=this.video.getBoundingClientRect();t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)?this.video.play():this.video.pause()}}},{key:"handleLoad",value:function(){var e=this.props,t=e.onFirstLoad,r=e.onLoad;void 0===this.firstLoadDone&&(this.firstLoadDone=!0,t()),this.setState({loaded:!0},r)}},{key:"updateImageBackground",value:function(){if(this.props.src&&"image"===this.getSrcType()){var e=new Image,t=this.updateImageBackgroundInState;return e.crossOrigin="anonymous",e.onload=function(){var r=(new cr).getColor(e);if(r){var n=r.isDark,o=r.value,i=n?[235,235,235,1]:[20,20,20,1];o[3]>=242.25&&(i=[o[0],o[1],o[2],.5]),t(i,n)}},e.src=this.props.src,!0}return!1}},{key:"updateImageBackgroundInState",value:function(e,t){this.setState({imageBackgroundColor:"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")"),imageIsDark:t})}},{key:"handleAudioLoad",value:function(){var e=this;if(this.audio){var t=this.props.onAudioLoad;this.audio.addEventListener("timeupdate",(function(){return e.updateMediaLoop(e.audio)}),!1),this.updatePlayerVolume(),t(this.audio)}this.handleLoad()}},{key:"handleImageLoad",value:function(){this.handleLoad()}},{key:"handleVideoLoad",value:function(){var e=this;if(this.video){var t=this.props.onVideoLoad;this.video.addEventListener("timeupdate",(function(){return e.updateMediaLoop(e.video)}),!1),t(this.video)}this.handleLoad()}},{key:"handleVideoLoadMetadata",value:function(e){if(0===e.target.videoHeight){var t=this.props.onNotSupportedVideoLoad;t&&t("Video format is not supported")}}},{key:"handleVideoPlayerError",value:function(e){var t=e.target.error;t&&4===t.code&&(0,this.props.onNotSupportedVideoLoad)(t.message);this.handleLoad()}},{key:"handleRemoveClick",value:function(e){e.stopPropagation(),this.props.onRemoveClick()}},{key:"handleUrlChange",value:function(e){var t=e.target.value;this.setState({url:t})}},{key:"updateMediaLoop",value:function(e){var t=this.props.range;e&&t&&(e.currentTime<t[0]||e.currentTime>t[1])&&(e.currentTime=t[0])}},{key:"get",value:function(e){var t=this;return new Promise((function(r,n){t.xhr=new XMLHttpRequest,t.xhr.responseType="blob",t.xhr.open("GET",e,!0),t.xhr.onload=function(){200===t.xhr.status?r(t.xhr.response):n(Error(t.xhr.statusText))},t.xhr.onerror=function(){return n(Error("Network Error"))},t.xhr.send()}))}},{key:"injectUrl",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return null};!r||qr.isURL(e)?this.get(e).then((function(r){var o=Gr.last(Gr.split(e,"/")),i=new File([r],o,{type:r.type});t.change(i,!1,n)})).catch((function(r){t.props.onUrlInjectionError(r,e)})):this.props.onInvalidUrlError(e)}},{key:"render",value:function(){var t=this,r=this.getSrcType?this.getSrcType():null,n=null,o=null,i=this.props.src&&(this.props.removable||this.props.croppable||this.props.cuttable),a=null===this.props.autoPlay?"video"===r||"iv"===r:this.props.autoPlay;if(this.props.src){var s=null;if(this.props.mediaCrop&&this.cropMedia&&("image"===r&&"IMG"===this.cropMedia.nodeName||("video"===r||"iv"===r)&&"VIDEO"===this.cropMedia.nodeName)){var c=this.zone.offsetWidth,l=this.zone.offsetHeight,u="video"===r||"iv"===r?this.cropMedia.videoWidth:this.cropMedia.naturalWidth,d="video"===r||"iv"===r?this.cropMedia.videoHeight:this.cropMedia.naturalHeight,h="video"===r||"iv"===r?u:this.cropMedia.offsetWidth,p="video"===r||"iv"===r?d:this.cropMedia.offsetHeight,f={x:Math.min(this.props.mediaCrop.x,u),y:Math.min(this.props.mediaCrop.y,d),width:Math.min(this.props.mediaCrop.width,u-this.props.mediaCrop.x),height:Math.min(this.props.mediaCrop.height,d-this.props.mediaCrop.y)},g=h*f.x/u,m=p*f.y/d,v=h*f.width/u,y=p*f.height/d,b=v/y,w=m,x=g+v,k=m+y,E=g,_=null;f.width>0&&f.height>0&&(_="contain"===this.props.backgroundSize?l*b>c?c/v:l/y:l*b>c?l/y:c/v,s={position:"absolute",top:"50%",left:"50%",backgroundColor:this.state.imageIsDark?"white":"black",transformOrigin:"".concat((E+x)/2,"px ").concat((w+k)/2,"px"),transform:"\n                            translateX(-".concat((E+x)/2,"px)\n                            translateY(-").concat((w+k)/2,"px)\n                            scale(").concat(_,")\n                        "),clip:"rect(\n                            ".concat(w,"px\n                            ").concat(x,"px\n                            ").concat(k,"px\n                            ").concat(E,"px)\n                        ")})}switch(r){case"image":n=this.state.loaded&&this.state.mounted&&this.props.mediaCrop&&this.zone?Ue("img",{alt:"",ref:function(e){return t.cropMedia=e},crossOrigin:"anonymous",src:this.props.src,onLoad:this._forceUpdate,style:s}):Ue("div",{style:{backgroundColor:this.props.backgroundColor,backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:this.props.backgroundSize,backgroundImage:this.state.loaded?"url(".concat(this.props.src).concat(("boolean"==typeof this.props.corsProof?this.props.corsProof:this.props.corsProof(this.props.src))?"".concat(this.props.src.match(/^http/)?"".concat(this.props.src.includes("?")?"&":"?","xCssCors=1"):""):"",")"):null,position:"relative",width:"100%",height:"100%"}},Ue("img",{alt:"",crossOrigin:"anonymous",src:this.props.src,onLoad:this.handleImageLoad,style:{position:"fixed",top:"-9999px",left:"-9999px"}}));break;case"video":case"iv":n=Ue("video",{autoPlay:a,loop:!0,muted:!0,crossOrigin:"anonymous",src:this.props.src,onLoadedData:this.handleVideoLoad,onLoadedMetadata:this.handleVideoLoadMetadata,onError:this.handleVideoPlayerError,ref:function(e){t.video=e,t.cropMedia=e},style:s||("cover"===this.props.backgroundSize?{height:"100%"}:{maxHeight:"100%",maxWidth:"100%"})});break;case"audio":n=Ue(e.Fragment,{key:this.props.src},Ue(Hr,{className:"uploader-waveform",height:this.zone?this.zone.clientHeight:100,range:this.props.range,src:this.props.src,onReady:this.handleAudioLoad}),Ue("audio",{autoPlay:a,ref:function(e){return t.audio=e},src:this.props.src,loop:!0,controls:!0,style:{position:"fixed",top:"-9999px",left:"-9999px"}}))}}switch(r){case"image":o=Ue(nt,{className:"uploader-zone-fog-img"});break;case"video":o=Ue(it,{className:"uploader-zone-fog-img"});break;case"iv":o=Ue(at,{className:"uploader-zone-fog-img"});break;case"audio":o=Ue(ot,{className:"uploader-zone-fog-img"})}return Ue("div",A({"data-attr":"root"},Gr.get(this.props.customAttributes,"root",{}),{className:"\n                    uploader\n                    ".concat(Gr.get(this.props.customAttributes,"root.className",""),"\n                "),css:Ie(Br||(Br=S(["\n                    ",";\n                    ",";\n                    ",";\n                    ",";\n                    ",";\n                    ",";\n                "])),Xe.uploader,this.props.fetching?Xe["uploader/fetching"]:null,this.props.compact?Xe["uploader/compact"]:null,this.props.withUrlInput?Xe["uploader/withUrl"]:null,i?Xe["uploader/withControls"]:null,this.props.disabled?Xe["uploader/disabled"]:null)}),Ue("input",{"data-attr":"input",ref:function(e){return t.input=e},type:"file",disabled:this.props.disabled,className:"uploader-input",onChange:this.handleChange}),Ue("div",{ref:function(e){return t.zone=e},className:"\n                        uploader-zone\n                        ".concat(this.props.withUrlInput?"uploader-zone/withUrl":"","\n                    "),onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onMouseEnter:this.handleMouseEnter,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onDrop:this.handleDrop,style:this.props.src&&"image"===r?{backgroundColor:this.state.imageBackgroundColor}:null},n,Ue("div",{className:"uploader-zone-fog",onClick:this.props.disabled?null:this.handleClick},!0===this.props.fetching&&Ue("div",{className:"uploader-zone-fog-loader"},this.props.catalogue.loading),Ue("div",{className:"uploader-zone-fog-core"},i?null:Ue(e.Fragment,null,this.state.beingDropTarget?Ue(Je,{className:"uploader-zone-fog-img"}):o),!0===i&&Ue(e.Fragment,null,Ue("div",{className:"uploader-zone-fog-controls"},"image"===r&&!0===this.props.croppable&&Ue("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleCropClick},this.props.cropIcon||Ue(et,null)),!0===this.props.cuttable&&Ue("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleCutClick},this.props.cutIcon||Ue(Ke,null)),!0===this.props.editable&&Ue("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleEditClick},this.props.editIcon||Ue(Qe,null)),!0===this.props.removable&&Ue("span",{className:"uploader-zone-fog-controls-control",onClick:this.handleRemoveClick},this.props.removeIcon||Ue(tt,null))))),null!==this.props.caption&&Ue("span",{className:"uploader-zone-fog-caption",onClick:function(e){return e.stopPropagation()}},this.props.caption))),!0===this.props.withUrlInput&&Ue("div",{className:"uploader-url"},Ue("input",{className:"uploader-url-input",name:"url",value:this.state.url,placeholder:this.props.catalogue.urlInputPlaceholder,type:"text",onChange:this.handleUrlChange,onKeyPress:function(e){13===e.which&&(e.preventDefault(),t.handleInjectUrlClick())}}),Ue("span",{className:"uploader-url-addon",onClick:this.handleInjectUrlClick},Ue(rt,{className:"uploader-url-addon-icon"}),this.props.catalogue.urlSubmitText)))}},{key:"base64MimeType",value:function(e){var t=null;if("string"!=typeof e)return t;var r=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return r&&r.length&&(t=r[1]),t}},{key:"isBase64",value:function(e){return null!==this.base64MimeType(e)}},{key:"extension",value:function(e){return e=Gr.isString(e)?e:e.name,Gr.last(Gr.split(Gr.split(e,"?")[0],"."))}},{key:"extensions",value:function(){var e=this.props,t=e.additionalExtensions,r=e.extendedFileFormatSupport,n={};return["audio","image","video"].forEach((function(e){n[e]=Gr.uniq([].concat(L(st.browser[e].extensions),L(!0===r||!0===Gr.get(r,e)?st.extended[e].extensions:[]),L(Gr.get(t,e)||[])))})),n}},{key:"mimeTypes",value:function(){var e=this.props,t=e.additionalMimeTypes,r=e.extendedFileFormatSupport,n={};return["audio","image","video"].forEach((function(e){n[e]=Gr.uniq([].concat(L(st.browser[e].mimeTypes),L(!0===r||!0===Gr.get(r,e)?st.extended[e].mimeTypes:[]),L(Gr.get(t,e)||[])))})),n}},{key:"guessType",value:function(e){var t;if(!e)return null;if(!(e=this.base64MimeType(e)||this.extension(e)||(null===(t=e)||void 0===t?void 0:t.type)).match(/\//)){var r=this.extensions();for(var n in r){if(-1!==Gr.concat(r[n],Gr.map(r[n],(function(e){return e.toUpperCase()}))).indexOf(e))return n}}else{var o=this.mimeTypes();for(var i in o){if(-1!==o[i].indexOf(e))return i}}return null}},{key:"humanSize",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=["B","KB","MB","GB","TB"],n=r.length-1;n>=0;n--){var o=1*e/Math.pow(1024,n);if(o>=1)return t&&(o=Gr.round(o)),"".concat(o," ").concat(r[n])}}},{key:"initializeDrag",value:function(){window.addEventListener("dragover",(function(e){(e=e||event).preventDefault()}),!1),window.addEventListener("drop",(function(e){(e=e||event).preventDefault()}),!1)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Wr(Wr({},e.src!==Gr.get(t,"_src")?{_src:e.src}:null),e.src!==Gr.get(t,"_src")?{loaded:!1,_forceUpdateCounter:0}:null)}}]),o}(e.Component);Yr.propTypes=(Vr={additionalExtensions:a.shape({audio:a.array,image:a.array,video:a.array}),additionalMimeTypes:a.shape({audio:a.array,image:a.array,video:a.array}),autoPlay:a.bool,backgroundColor:a.string,backgroundSize:a.oneOf(["contain","cover"]),caption:a.oneOfType([a.string,a.node]),catalogue:a.object,compact:a.bool,corsProof:a.oneOfType([a.bool,a.func]),croppable:a.bool,editable:a.bool,customAttributes:a.object,cuttable:a.bool,disabled:a.bool,disabledUploader:a.bool,extendedFileFormatSupport:a.oneOfType([a.shape({audio:a.bool,image:a.bool,video:a.bool}),a.bool]),fileType:a.oneOfType([a.array,a.string]),hoverPlay:a.bool,mediaCrop:a.object,maxSize:a.number,maxSizes:a.shape({audio:a.number,image:a.number,video:a.number}),onChange:a.func,onCompressStart:a.func,onCompressEnd:a.func,onCropClick:a.func,onCutClick:a.func,onFileTooLargeError:a.func,onFirstLoad:a.func,onInvalidFileExtensionError:a.func,onInvalidUrlError:a.func,onLoad:a.func,onRemoveClick:a.func,onUploaderClick:a.func,onUrlInjectionError:a.func},V(Vr,"onCutClick",a.func),V(Vr,"onEditClick",a.func),V(Vr,"onAudioLoad",a.func),V(Vr,"onVideoLoad",a.func),V(Vr,"range",a.array),V(Vr,"removable",a.bool),V(Vr,"src",a.string),V(Vr,"srcType",a.string),V(Vr,"gain",a.number),V(Vr,"withUrlInput",a.bool),Vr),Yr.defaultProps={additionalExtensions:{},additionalMimeTypes:{},autoPlay:null,backgroundColor:"transparent",backgroundSize:"cover",caption:null,catalogue:{click:null,drop:null,typeUrl:null,loading:null,or:null,urlInputPlaceholder:null,urlSubmitText:null},compact:!1,corsProof:!0,editable:!1,editIcon:null,croppable:!1,cropIcon:null,customAttributes:{},cuttable:!1,cutIcon:null,disabled:!1,disabledUploader:!1,extendedFileFormatSupport:!1,fileType:"image",hoverPlay:!0,mediaCrop:null,maxSize:10485760,maxSizes:{},onChange:function(e,t,r){return null},onCompressStart:function(){return null},onCompressEnd:function(){return null},onCropClick:function(){return null},onFileTooLargeError:function(e,t){return null},onFirstLoad:function(){return null},onInvalidFileExtensionError:function(e,t){return null},onInvalidUrlError:function(e){return null},onLoad:function(){return null},onNotSupportedVideoLoad:function(){return null},onRemoveClick:function(){return null},onUploaderClick:null,onUrlInjectionError:function(e,t){return null},onCutClick:function(){return null},onEditClick:function(){return null},onAudioLoad:function(){return null},onVideoLoad:function(){return null},range:null,gain:0,removable:!1,removeIcon:null,src:null,srcType:null,withUrlInput:!1};export default Yr;
